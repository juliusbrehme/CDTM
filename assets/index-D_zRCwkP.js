var kge=Object.defineProperty;var r8=e=>{throw TypeError(e)};var Pge=(e,t,n)=>t in e?kge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var K=(e,t,n)=>Pge(e,typeof t!="symbol"?t+"":t,n),VC=(e,t,n)=>t.has(e)||r8("Cannot "+n);var Y=(e,t,n)=>(VC(e,t,"read from private field"),n?n.call(e):t.get(e)),it=(e,t,n)=>t.has(e)?r8("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Me=(e,t,n,r)=>(VC(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),hr=(e,t,n)=>(VC(e,t,"access private method"),n);var hx=(e,t,n,r)=>({set _(i){Me(e,t,i,n)},get _(){return Y(e,t,r)}});function Tge(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RK={exports:{}},F_={},DK={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1=Symbol.for("react.element"),Mge=Symbol.for("react.portal"),Nge=Symbol.for("react.fragment"),Rge=Symbol.for("react.strict_mode"),Dge=Symbol.for("react.profiler"),Ige=Symbol.for("react.provider"),Fge=Symbol.for("react.context"),jge=Symbol.for("react.forward_ref"),Lge=Symbol.for("react.suspense"),zge=Symbol.for("react.memo"),Bge=Symbol.for("react.lazy"),i8=Symbol.iterator;function Uge(e){return e===null||typeof e!="object"?null:(e=i8&&e[i8]||e["@@iterator"],typeof e=="function"?e:null)}var IK={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FK=Object.assign,jK={};function am(e,t,n){this.props=e,this.context=t,this.refs=jK,this.updater=n||IK}am.prototype.isReactComponent={};am.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};am.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function LK(){}LK.prototype=am.prototype;function VI(e,t,n){this.props=e,this.context=t,this.refs=jK,this.updater=n||IK}var XI=VI.prototype=new LK;XI.constructor=VI;FK(XI,am.prototype);XI.isPureReactComponent=!0;var o8=Array.isArray,zK=Object.prototype.hasOwnProperty,KI={current:null},BK={key:!0,ref:!0,__self:!0,__source:!0};function UK(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)zK.call(t,r)&&!BK.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:U1,type:e,key:o,ref:a,props:i,_owner:KI.current}}function Wge(e,t){return{$$typeof:U1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function YI(e){return typeof e=="object"&&e!==null&&e.$$typeof===U1}function qge(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var a8=/\/+/g;function XC(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qge(""+e.key):t.toString(36)}function jw(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case U1:case Mge:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+XC(a,0):r,o8(i)?(n="",e!=null&&(n=e.replace(a8,"$&/")+"/"),jw(i,t,n,"",function(u){return u})):i!=null&&(YI(i)&&(i=Wge(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(a8,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",o8(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+XC(o,s);a+=jw(o,t,n,l,i)}else if(l=Uge(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+XC(o,s++),a+=jw(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function gx(e,t,n){if(e==null)return e;var r=[],i=0;return jw(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Hge(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var oi={current:null},Lw={transition:null},Gge={ReactCurrentDispatcher:oi,ReactCurrentBatchConfig:Lw,ReactCurrentOwner:KI};function WK(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:gx,forEach:function(e,t,n){gx(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gx(e,function(){t++}),t},toArray:function(e){return gx(e,function(t){return t})||[]},only:function(e){if(!YI(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};We.Component=am;We.Fragment=Nge;We.Profiler=Dge;We.PureComponent=VI;We.StrictMode=Rge;We.Suspense=Lge;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gge;We.act=WK;We.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=FK({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=KI.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)zK.call(t,l)&&!BK.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:U1,type:e.type,key:i,ref:o,props:r,_owner:a}};We.createContext=function(e){return e={$$typeof:Fge,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ige,_context:e},e.Consumer=e};We.createElement=UK;We.createFactory=function(e){var t=UK.bind(null,e);return t.type=e,t};We.createRef=function(){return{current:null}};We.forwardRef=function(e){return{$$typeof:jge,render:e}};We.isValidElement=YI;We.lazy=function(e){return{$$typeof:Bge,_payload:{_status:-1,_result:e},_init:Hge}};We.memo=function(e,t){return{$$typeof:zge,type:e,compare:t===void 0?null:t}};We.startTransition=function(e){var t=Lw.transition;Lw.transition={};try{e()}finally{Lw.transition=t}};We.unstable_act=WK;We.useCallback=function(e,t){return oi.current.useCallback(e,t)};We.useContext=function(e){return oi.current.useContext(e)};We.useDebugValue=function(){};We.useDeferredValue=function(e){return oi.current.useDeferredValue(e)};We.useEffect=function(e,t){return oi.current.useEffect(e,t)};We.useId=function(){return oi.current.useId()};We.useImperativeHandle=function(e,t,n){return oi.current.useImperativeHandle(e,t,n)};We.useInsertionEffect=function(e,t){return oi.current.useInsertionEffect(e,t)};We.useLayoutEffect=function(e,t){return oi.current.useLayoutEffect(e,t)};We.useMemo=function(e,t){return oi.current.useMemo(e,t)};We.useReducer=function(e,t,n){return oi.current.useReducer(e,t,n)};We.useRef=function(e){return oi.current.useRef(e)};We.useState=function(e){return oi.current.useState(e)};We.useSyncExternalStore=function(e,t,n){return oi.current.useSyncExternalStore(e,t,n)};We.useTransition=function(){return oi.current.useTransition()};We.version="18.3.1";DK.exports=We;var T=DK.exports;const D=lt(T),HT=Tge({__proto__:null,default:D},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vge=T,Xge=Symbol.for("react.element"),Kge=Symbol.for("react.fragment"),Yge=Object.prototype.hasOwnProperty,Qge=Vge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jge={key:!0,ref:!0,__self:!0,__source:!0};function qK(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Yge.call(t,r)&&!Jge.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Xge,type:e,key:o,ref:a,props:i,_owner:Qge.current}}F_.Fragment=Kge;F_.jsx=qK;F_.jsxs=qK;RK.exports=F_;var j=RK.exports,HK={exports:{}},fo={},GK={exports:{}},VK={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,F){var L=N.length;N.push(F);e:for(;0<L;){var z=L-1>>>1,B=N[z];if(0<i(B,F))N[z]=F,N[L]=B,L=z;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var F=N[0],L=N.pop();if(L!==F){N[0]=L;e:for(var z=0,B=N.length,V=B>>>1;z<V;){var ce=2*(z+1)-1,fe=N[ce],Ee=ce+1,Xe=N[Ee];if(0>i(fe,L))Ee<B&&0>i(Xe,fe)?(N[z]=Xe,N[Ee]=L,z=Ee):(N[z]=fe,N[ce]=L,z=ce);else if(Ee<B&&0>i(Xe,L))N[z]=Xe,N[Ee]=L,z=Ee;else break e}}return F}function i(N,F){var L=N.sortIndex-F.sortIndex;return L!==0?L:N.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=N)r(u),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(u)}}function x(N){if(g=!1,b(N),!p)if(n(l)!==null)p=!0,M(w);else{var F=n(u);F!==null&&I(x,F.startTime-N)}}function w(N,F){p=!1,g&&(g=!1,y(A),A=-1),h=!0;var L=d;try{for(b(F),f=n(l);f!==null&&(!(f.expirationTime>F)||N&&!O());){var z=f.callback;if(typeof z=="function"){f.callback=null,d=f.priorityLevel;var B=z(f.expirationTime<=F);F=e.unstable_now(),typeof B=="function"?f.callback=B:f===n(l)&&r(l),b(F)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var ce=n(u);ce!==null&&I(x,ce.startTime-F),V=!1}return V}finally{f=null,d=L,h=!1}}var E=!1,S=null,A=-1,$=5,_=-1;function O(){return!(e.unstable_now()-_<$)}function P(){if(S!==null){var N=e.unstable_now();_=N;var F=!0;try{F=S(!0,N)}finally{F?R():(E=!1,S=null)}}else E=!1}var R;if(typeof v=="function")R=function(){v(P)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,C=k.port2;k.port1.onmessage=P,R=function(){C.postMessage(null)}}else R=function(){m(P,0)};function M(N){S=N,E||(E=!0,R())}function I(N,F){A=m(function(){N(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,M(w))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var L=d;d=F;try{return N()}finally{d=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,F){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=d;d=N;try{return F()}finally{d=L}},e.unstable_scheduleCallback=function(N,F,L){var z=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?z+L:z):L=z,N){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=L+B,N={id:c++,callback:F,priorityLevel:N,startTime:L,expirationTime:B,sortIndex:-1},L>z?(N.sortIndex=L,t(u,N),n(l)===null&&N===n(u)&&(g?(y(A),A=-1):g=!0,I(x,L-z))):(N.sortIndex=B,t(l,N),p||h||(p=!0,M(w))),N},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(N){var F=d;return function(){var L=d;d=F;try{return N.apply(this,arguments)}finally{d=L}}}})(VK);GK.exports=VK;var Zge=GK.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eme=T,oo=Zge;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XK=new Set,Z0={};function Wd(e,t){Wp(e,t),Wp(e+"Capture",t)}function Wp(e,t){for(Z0[e]=t,e=0;e<t.length;e++)XK.add(t[e])}var Hl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),GT=Object.prototype.hasOwnProperty,tme=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s8={},l8={};function nme(e){return GT.call(l8,e)?!0:GT.call(s8,e)?!1:tme.test(e)?l8[e]=!0:(s8[e]=!0,!1)}function rme(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ime(e,t,n,r){if(t===null||typeof t>"u"||rme(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ai(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ur[e]=new ai(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ur[t]=new ai(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ur[e]=new ai(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ur[e]=new ai(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ur[e]=new ai(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ur[e]=new ai(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ur[e]=new ai(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ur[e]=new ai(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ur[e]=new ai(e,5,!1,e.toLowerCase(),null,!1,!1)});var QI=/[\-:]([a-z])/g;function JI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(QI,JI);ur[t]=new ai(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(QI,JI);ur[t]=new ai(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(QI,JI);ur[t]=new ai(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ur[e]=new ai(e,1,!1,e.toLowerCase(),null,!1,!1)});ur.xlinkHref=new ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ur[e]=new ai(e,1,!1,e.toLowerCase(),null,!0,!0)});function ZI(e,t,n,r){var i=ur.hasOwnProperty(t)?ur[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ime(t,n,i,r)&&(n=null),r||i===null?nme(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var lu=eme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mx=Symbol.for("react.element"),zh=Symbol.for("react.portal"),Bh=Symbol.for("react.fragment"),e3=Symbol.for("react.strict_mode"),VT=Symbol.for("react.profiler"),KK=Symbol.for("react.provider"),YK=Symbol.for("react.context"),t3=Symbol.for("react.forward_ref"),XT=Symbol.for("react.suspense"),KT=Symbol.for("react.suspense_list"),n3=Symbol.for("react.memo"),Tu=Symbol.for("react.lazy"),QK=Symbol.for("react.offscreen"),u8=Symbol.iterator;function ty(e){return e===null||typeof e!="object"?null:(e=u8&&e[u8]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Object.assign,KC;function qy(e){if(KC===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);KC=t&&t[1]||""}return`
`+KC+e}var YC=!1;function QC(e,t){if(!e||YC)return"";YC=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{YC=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qy(e):""}function ome(e){switch(e.tag){case 5:return qy(e.type);case 16:return qy("Lazy");case 13:return qy("Suspense");case 19:return qy("SuspenseList");case 0:case 2:case 15:return e=QC(e.type,!1),e;case 11:return e=QC(e.type.render,!1),e;case 1:return e=QC(e.type,!0),e;default:return""}}function YT(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bh:return"Fragment";case zh:return"Portal";case VT:return"Profiler";case e3:return"StrictMode";case XT:return"Suspense";case KT:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case YK:return(e.displayName||"Context")+".Consumer";case KK:return(e._context.displayName||"Context")+".Provider";case t3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case n3:return t=e.displayName||null,t!==null?t:YT(e.type)||"Memo";case Tu:t=e._payload,e=e._init;try{return YT(e(t))}catch{}}return null}function ame(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return YT(t);case 8:return t===e3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function JK(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sme(e){var t=JK(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yx(e){e._valueTracker||(e._valueTracker=sme(e))}function ZK(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=JK(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function MS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function QT(e,t){var n=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function c8(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eY(e,t){t=t.checked,t!=null&&ZI(e,"checked",t,!1)}function JT(e,t){eY(e,t);var n=wc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ZT(e,t.type,n):t.hasOwnProperty("defaultValue")&&ZT(e,t.type,wc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function f8(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ZT(e,t,n){(t!=="number"||MS(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hy=Array.isArray;function up(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function eM(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function d8(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(Hy(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wc(n)}}function tY(e,t){var n=wc(t.value),r=wc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function h8(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nY(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tM(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nY(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vx,rY=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vx=vx||document.createElement("div"),vx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ev(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var w0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lme=["Webkit","ms","Moz","O"];Object.keys(w0).forEach(function(e){lme.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),w0[t]=w0[e]})});function iY(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||w0.hasOwnProperty(e)&&w0[e]?(""+t).trim():t+"px"}function oY(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iY(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ume=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nM(e,t){if(t){if(ume[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function rM(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iM=null;function r3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oM=null,cp=null,fp=null;function p8(e){if(e=H1(e)){if(typeof oM!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=U_(t),oM(e.stateNode,e.type,t))}}function aY(e){cp?fp?fp.push(e):fp=[e]:cp=e}function sY(){if(cp){var e=cp,t=fp;if(fp=cp=null,p8(e),t)for(e=0;e<t.length;e++)p8(t[e])}}function lY(e,t){return e(t)}function uY(){}var JC=!1;function cY(e,t,n){if(JC)return e(t,n);JC=!0;try{return lY(e,t,n)}finally{JC=!1,(cp!==null||fp!==null)&&(uY(),sY())}}function tv(e,t){var n=e.stateNode;if(n===null)return null;var r=U_(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var aM=!1;if(Hl)try{var ny={};Object.defineProperty(ny,"passive",{get:function(){aM=!0}}),window.addEventListener("test",ny,ny),window.removeEventListener("test",ny,ny)}catch{aM=!1}function cme(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var S0=!1,NS=null,RS=!1,sM=null,fme={onError:function(e){S0=!0,NS=e}};function dme(e,t,n,r,i,o,a,s,l){S0=!1,NS=null,cme.apply(fme,arguments)}function hme(e,t,n,r,i,o,a,s,l){if(dme.apply(this,arguments),S0){if(S0){var u=NS;S0=!1,NS=null}else throw Error(ne(198));RS||(RS=!0,sM=u)}}function qd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fY(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g8(e){if(qd(e)!==e)throw Error(ne(188))}function pme(e){var t=e.alternate;if(!t){if(t=qd(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return g8(i),e;if(o===r)return g8(i),t;o=o.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function dY(e){return e=pme(e),e!==null?hY(e):null}function hY(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hY(e);if(t!==null)return t;e=e.sibling}return null}var pY=oo.unstable_scheduleCallback,m8=oo.unstable_cancelCallback,gme=oo.unstable_shouldYield,mme=oo.unstable_requestPaint,fn=oo.unstable_now,yme=oo.unstable_getCurrentPriorityLevel,i3=oo.unstable_ImmediatePriority,gY=oo.unstable_UserBlockingPriority,DS=oo.unstable_NormalPriority,vme=oo.unstable_LowPriority,mY=oo.unstable_IdlePriority,j_=null,ws=null;function bme(e){if(ws&&typeof ws.onCommitFiberRoot=="function")try{ws.onCommitFiberRoot(j_,e,void 0,(e.current.flags&128)===128)}catch{}}var _a=Math.clz32?Math.clz32:Sme,xme=Math.log,wme=Math.LN2;function Sme(e){return e>>>=0,e===0?32:31-(xme(e)/wme|0)|0}var bx=64,xx=4194304;function Gy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function IS(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Gy(s):(o&=a,o!==0&&(r=Gy(o)))}else a=n&~i,a!==0?r=Gy(a):o!==0&&(r=Gy(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_a(t),i=1<<n,r|=e[n],t&=~i;return r}function Eme(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _me(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-_a(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=Eme(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function lM(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yY(){var e=bx;return bx<<=1,!(bx&4194240)&&(bx=64),e}function ZC(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function W1(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_a(t),e[t]=n}function Ame(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-_a(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function o3(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_a(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ht=0;function vY(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bY,a3,xY,wY,SY,uM=!1,wx=[],ac=null,sc=null,lc=null,nv=new Map,rv=new Map,Lu=[],$me="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y8(e,t){switch(e){case"focusin":case"focusout":ac=null;break;case"dragenter":case"dragleave":sc=null;break;case"mouseover":case"mouseout":lc=null;break;case"pointerover":case"pointerout":nv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rv.delete(t.pointerId)}}function ry(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=H1(t),t!==null&&a3(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ome(e,t,n,r,i){switch(t){case"focusin":return ac=ry(ac,e,t,n,r,i),!0;case"dragenter":return sc=ry(sc,e,t,n,r,i),!0;case"mouseover":return lc=ry(lc,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return nv.set(o,ry(nv.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,rv.set(o,ry(rv.get(o)||null,e,t,n,r,i)),!0}return!1}function EY(e){var t=jf(e.target);if(t!==null){var n=qd(t);if(n!==null){if(t=n.tag,t===13){if(t=fY(n),t!==null){e.blockedOn=t,SY(e.priority,function(){xY(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cM(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);iM=r,n.target.dispatchEvent(r),iM=null}else return t=H1(n),t!==null&&a3(t),e.blockedOn=n,!1;t.shift()}return!0}function v8(e,t,n){zw(e)&&n.delete(t)}function Cme(){uM=!1,ac!==null&&zw(ac)&&(ac=null),sc!==null&&zw(sc)&&(sc=null),lc!==null&&zw(lc)&&(lc=null),nv.forEach(v8),rv.forEach(v8)}function iy(e,t){e.blockedOn===t&&(e.blockedOn=null,uM||(uM=!0,oo.unstable_scheduleCallback(oo.unstable_NormalPriority,Cme)))}function iv(e){function t(i){return iy(i,e)}if(0<wx.length){iy(wx[0],e);for(var n=1;n<wx.length;n++){var r=wx[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ac!==null&&iy(ac,e),sc!==null&&iy(sc,e),lc!==null&&iy(lc,e),nv.forEach(t),rv.forEach(t),n=0;n<Lu.length;n++)r=Lu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Lu.length&&(n=Lu[0],n.blockedOn===null);)EY(n),n.blockedOn===null&&Lu.shift()}var dp=lu.ReactCurrentBatchConfig,FS=!0;function kme(e,t,n,r){var i=ht,o=dp.transition;dp.transition=null;try{ht=1,s3(e,t,n,r)}finally{ht=i,dp.transition=o}}function Pme(e,t,n,r){var i=ht,o=dp.transition;dp.transition=null;try{ht=4,s3(e,t,n,r)}finally{ht=i,dp.transition=o}}function s3(e,t,n,r){if(FS){var i=cM(e,t,n,r);if(i===null)uk(e,t,r,jS,n),y8(e,r);else if(Ome(i,e,t,n,r))r.stopPropagation();else if(y8(e,r),t&4&&-1<$me.indexOf(e)){for(;i!==null;){var o=H1(i);if(o!==null&&bY(o),o=cM(e,t,n,r),o===null&&uk(e,t,r,jS,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else uk(e,t,r,null,n)}}var jS=null;function cM(e,t,n,r){if(jS=null,e=r3(r),e=jf(e),e!==null)if(t=qd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fY(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jS=e,null}function _Y(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yme()){case i3:return 1;case gY:return 4;case DS:case vme:return 16;case mY:return 536870912;default:return 16}default:return 16}}var Vu=null,l3=null,Bw=null;function AY(){if(Bw)return Bw;var e,t=l3,n=t.length,r,i="value"in Vu?Vu.value:Vu.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Bw=i.slice(e,1<r?1-r:void 0)}function Uw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sx(){return!0}function b8(){return!1}function ho(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sx:b8,this.isPropagationStopped=b8,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sx)},persist:function(){},isPersistent:Sx}),t}var sm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u3=ho(sm),q1=Jt({},sm,{view:0,detail:0}),Tme=ho(q1),ek,tk,oy,L_=Jt({},q1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oy&&(oy&&e.type==="mousemove"?(ek=e.screenX-oy.screenX,tk=e.screenY-oy.screenY):tk=ek=0,oy=e),ek)},movementY:function(e){return"movementY"in e?e.movementY:tk}}),x8=ho(L_),Mme=Jt({},L_,{dataTransfer:0}),Nme=ho(Mme),Rme=Jt({},q1,{relatedTarget:0}),nk=ho(Rme),Dme=Jt({},sm,{animationName:0,elapsedTime:0,pseudoElement:0}),Ime=ho(Dme),Fme=Jt({},sm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jme=ho(Fme),Lme=Jt({},sm,{data:0}),w8=ho(Lme),zme={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bme={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ume={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wme(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ume[e])?!!t[e]:!1}function c3(){return Wme}var qme=Jt({},q1,{key:function(e){if(e.key){var t=zme[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Uw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bme[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c3,charCode:function(e){return e.type==="keypress"?Uw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hme=ho(qme),Gme=Jt({},L_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S8=ho(Gme),Vme=Jt({},q1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c3}),Xme=ho(Vme),Kme=Jt({},sm,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yme=ho(Kme),Qme=Jt({},L_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jme=ho(Qme),Zme=[9,13,27,32],f3=Hl&&"CompositionEvent"in window,E0=null;Hl&&"documentMode"in document&&(E0=document.documentMode);var eye=Hl&&"TextEvent"in window&&!E0,$Y=Hl&&(!f3||E0&&8<E0&&11>=E0),E8=" ",_8=!1;function OY(e,t){switch(e){case"keyup":return Zme.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CY(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uh=!1;function tye(e,t){switch(e){case"compositionend":return CY(t);case"keypress":return t.which!==32?null:(_8=!0,E8);case"textInput":return e=t.data,e===E8&&_8?null:e;default:return null}}function nye(e,t){if(Uh)return e==="compositionend"||!f3&&OY(e,t)?(e=AY(),Bw=l3=Vu=null,Uh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $Y&&t.locale!=="ko"?null:t.data;default:return null}}var rye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rye[e.type]:t==="textarea"}function kY(e,t,n,r){aY(r),t=LS(t,"onChange"),0<t.length&&(n=new u3("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _0=null,ov=null;function iye(e){zY(e,0)}function z_(e){var t=Hh(e);if(ZK(t))return e}function oye(e,t){if(e==="change")return t}var PY=!1;if(Hl){var rk;if(Hl){var ik="oninput"in document;if(!ik){var $8=document.createElement("div");$8.setAttribute("oninput","return;"),ik=typeof $8.oninput=="function"}rk=ik}else rk=!1;PY=rk&&(!document.documentMode||9<document.documentMode)}function O8(){_0&&(_0.detachEvent("onpropertychange",TY),ov=_0=null)}function TY(e){if(e.propertyName==="value"&&z_(ov)){var t=[];kY(t,ov,e,r3(e)),cY(iye,t)}}function aye(e,t,n){e==="focusin"?(O8(),_0=t,ov=n,_0.attachEvent("onpropertychange",TY)):e==="focusout"&&O8()}function sye(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return z_(ov)}function lye(e,t){if(e==="click")return z_(t)}function uye(e,t){if(e==="input"||e==="change")return z_(t)}function cye(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ca=typeof Object.is=="function"?Object.is:cye;function av(e,t){if(Ca(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!GT.call(t,i)||!Ca(e[i],t[i]))return!1}return!0}function C8(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function k8(e,t){var n=C8(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=C8(n)}}function MY(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?MY(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function NY(){for(var e=window,t=MS();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=MS(e.document)}return t}function d3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fye(e){var t=NY(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&MY(n.ownerDocument.documentElement,n)){if(r!==null&&d3(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=k8(n,o);var a=k8(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dye=Hl&&"documentMode"in document&&11>=document.documentMode,Wh=null,fM=null,A0=null,dM=!1;function P8(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dM||Wh==null||Wh!==MS(r)||(r=Wh,"selectionStart"in r&&d3(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),A0&&av(A0,r)||(A0=r,r=LS(fM,"onSelect"),0<r.length&&(t=new u3("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wh)))}function Ex(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qh={animationend:Ex("Animation","AnimationEnd"),animationiteration:Ex("Animation","AnimationIteration"),animationstart:Ex("Animation","AnimationStart"),transitionend:Ex("Transition","TransitionEnd")},ok={},RY={};Hl&&(RY=document.createElement("div").style,"AnimationEvent"in window||(delete qh.animationend.animation,delete qh.animationiteration.animation,delete qh.animationstart.animation),"TransitionEvent"in window||delete qh.transitionend.transition);function B_(e){if(ok[e])return ok[e];if(!qh[e])return e;var t=qh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in RY)return ok[e]=t[n];return e}var DY=B_("animationend"),IY=B_("animationiteration"),FY=B_("animationstart"),jY=B_("transitionend"),LY=new Map,T8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wc(e,t){LY.set(e,t),Wd(t,[e])}for(var ak=0;ak<T8.length;ak++){var sk=T8[ak],hye=sk.toLowerCase(),pye=sk[0].toUpperCase()+sk.slice(1);Wc(hye,"on"+pye)}Wc(DY,"onAnimationEnd");Wc(IY,"onAnimationIteration");Wc(FY,"onAnimationStart");Wc("dblclick","onDoubleClick");Wc("focusin","onFocus");Wc("focusout","onBlur");Wc(jY,"onTransitionEnd");Wp("onMouseEnter",["mouseout","mouseover"]);Wp("onMouseLeave",["mouseout","mouseover"]);Wp("onPointerEnter",["pointerout","pointerover"]);Wp("onPointerLeave",["pointerout","pointerover"]);Wd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gye=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vy));function M8(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hme(r,t,void 0,e),e.currentTarget=null}function zY(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;M8(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;M8(i,s,u),o=l}}}if(RS)throw e=sM,RS=!1,sM=null,e}function Dt(e,t){var n=t[yM];n===void 0&&(n=t[yM]=new Set);var r=e+"__bubble";n.has(r)||(BY(t,e,2,!1),n.add(r))}function lk(e,t,n){var r=0;t&&(r|=4),BY(n,e,r,t)}var _x="_reactListening"+Math.random().toString(36).slice(2);function sv(e){if(!e[_x]){e[_x]=!0,XK.forEach(function(n){n!=="selectionchange"&&(gye.has(n)||lk(n,!1,e),lk(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_x]||(t[_x]=!0,lk("selectionchange",!1,t))}}function BY(e,t,n,r){switch(_Y(t)){case 1:var i=kme;break;case 4:i=Pme;break;default:i=s3}n=i.bind(null,t,n,e),i=void 0,!aM||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function uk(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=jf(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}cY(function(){var u=o,c=r3(n),f=[];e:{var d=LY.get(e);if(d!==void 0){var h=u3,p=e;switch(e){case"keypress":if(Uw(n)===0)break e;case"keydown":case"keyup":h=Hme;break;case"focusin":p="focus",h=nk;break;case"focusout":p="blur",h=nk;break;case"beforeblur":case"afterblur":h=nk;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=x8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Nme;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Xme;break;case DY:case IY:case FY:h=Ime;break;case jY:h=Yme;break;case"scroll":h=Tme;break;case"wheel":h=Jme;break;case"copy":case"cut":case"paste":h=jme;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=S8}var g=(t&4)!==0,m=!g&&e==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var v=u,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,y!==null&&(x=tv(v,y),x!=null&&g.push(lv(v,x,b)))),m)break;v=v.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==iM&&(p=n.relatedTarget||n.fromElement)&&(jf(p)||p[Gl]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?jf(p):null,p!==null&&(m=qd(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(g=x8,x="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=S8,x="onPointerLeave",y="onPointerEnter",v="pointer"),m=h==null?d:Hh(h),b=p==null?d:Hh(p),d=new g(x,v+"leave",h,n,c),d.target=m,d.relatedTarget=b,x=null,jf(c)===u&&(g=new g(y,v+"enter",p,n,c),g.target=b,g.relatedTarget=m,x=g),m=x,h&&p)t:{for(g=h,y=p,v=0,b=g;b;b=ph(b))v++;for(b=0,x=y;x;x=ph(x))b++;for(;0<v-b;)g=ph(g),v--;for(;0<b-v;)y=ph(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=ph(g),y=ph(y)}g=null}else g=null;h!==null&&N8(f,d,h,g,!1),p!==null&&m!==null&&N8(f,m,p,g,!0)}}e:{if(d=u?Hh(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var w=oye;else if(A8(d))if(PY)w=uye;else{w=sye;var E=aye}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=lye);if(w&&(w=w(e,u))){kY(f,w,n,c);break e}E&&E(e,d,u),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&ZT(d,"number",d.value)}switch(E=u?Hh(u):window,e){case"focusin":(A8(E)||E.contentEditable==="true")&&(Wh=E,fM=u,A0=null);break;case"focusout":A0=fM=Wh=null;break;case"mousedown":dM=!0;break;case"contextmenu":case"mouseup":case"dragend":dM=!1,P8(f,n,c);break;case"selectionchange":if(dye)break;case"keydown":case"keyup":P8(f,n,c)}var S;if(f3)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Uh?OY(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&($Y&&n.locale!=="ko"&&(Uh||A!=="onCompositionStart"?A==="onCompositionEnd"&&Uh&&(S=AY()):(Vu=c,l3="value"in Vu?Vu.value:Vu.textContent,Uh=!0)),E=LS(u,A),0<E.length&&(A=new w8(A,e,null,n,c),f.push({event:A,listeners:E}),S?A.data=S:(S=CY(n),S!==null&&(A.data=S)))),(S=eye?tye(e,n):nye(e,n))&&(u=LS(u,"onBeforeInput"),0<u.length&&(c=new w8("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}zY(f,t)})}function lv(e,t,n){return{instance:e,listener:t,currentTarget:n}}function LS(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=tv(e,n),o!=null&&r.unshift(lv(e,o,i)),o=tv(e,t),o!=null&&r.push(lv(e,o,i))),e=e.return}return r}function ph(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function N8(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=tv(n,o),l!=null&&a.unshift(lv(n,l,s))):i||(l=tv(n,o),l!=null&&a.push(lv(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var mye=/\r\n?/g,yye=/\u0000|\uFFFD/g;function R8(e){return(typeof e=="string"?e:""+e).replace(mye,`
`).replace(yye,"")}function Ax(e,t,n){if(t=R8(t),R8(e)!==t&&n)throw Error(ne(425))}function zS(){}var hM=null,pM=null;function gM(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mM=typeof setTimeout=="function"?setTimeout:void 0,vye=typeof clearTimeout=="function"?clearTimeout:void 0,D8=typeof Promise=="function"?Promise:void 0,bye=typeof queueMicrotask=="function"?queueMicrotask:typeof D8<"u"?function(e){return D8.resolve(null).then(e).catch(xye)}:mM;function xye(e){setTimeout(function(){throw e})}function ck(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),iv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);iv(t)}function uc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function I8(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lm=Math.random().toString(36).slice(2),hs="__reactFiber$"+lm,uv="__reactProps$"+lm,Gl="__reactContainer$"+lm,yM="__reactEvents$"+lm,wye="__reactListeners$"+lm,Sye="__reactHandles$"+lm;function jf(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gl]||n[hs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=I8(e);e!==null;){if(n=e[hs])return n;e=I8(e)}return t}e=n,n=e.parentNode}return null}function H1(e){return e=e[hs]||e[Gl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function U_(e){return e[uv]||null}var vM=[],Gh=-1;function qc(e){return{current:e}}function zt(e){0>Gh||(e.current=vM[Gh],vM[Gh]=null,Gh--)}function Pt(e,t){Gh++,vM[Gh]=e.current,e.current=t}var Sc={},Nr=qc(Sc),bi=qc(!1),cd=Sc;function qp(e,t){var n=e.type.contextTypes;if(!n)return Sc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xi(e){return e=e.childContextTypes,e!=null}function BS(){zt(bi),zt(Nr)}function F8(e,t,n){if(Nr.current!==Sc)throw Error(ne(168));Pt(Nr,t),Pt(bi,n)}function UY(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ne(108,ame(e)||"Unknown",i));return Jt({},n,r)}function US(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sc,cd=Nr.current,Pt(Nr,e),Pt(bi,bi.current),!0}function j8(e,t,n){var r=e.stateNode;if(!r)throw Error(ne(169));n?(e=UY(e,t,cd),r.__reactInternalMemoizedMergedChildContext=e,zt(bi),zt(Nr),Pt(Nr,e)):zt(bi),Pt(bi,n)}var vl=null,W_=!1,fk=!1;function WY(e){vl===null?vl=[e]:vl.push(e)}function Eye(e){W_=!0,WY(e)}function Hc(){if(!fk&&vl!==null){fk=!0;var e=0,t=ht;try{var n=vl;for(ht=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vl=null,W_=!1}catch(i){throw vl!==null&&(vl=vl.slice(e+1)),pY(i3,Hc),i}finally{ht=t,fk=!1}}return null}var Vh=[],Xh=0,WS=null,qS=0,wo=[],So=0,fd=null,_l=1,Al="";function Af(e,t){Vh[Xh++]=qS,Vh[Xh++]=WS,WS=e,qS=t}function qY(e,t,n){wo[So++]=_l,wo[So++]=Al,wo[So++]=fd,fd=e;var r=_l;e=Al;var i=32-_a(r)-1;r&=~(1<<i),n+=1;var o=32-_a(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,_l=1<<32-_a(t)+i|n<<i|r,Al=o+e}else _l=1<<o|n<<i|r,Al=e}function h3(e){e.return!==null&&(Af(e,1),qY(e,1,0))}function p3(e){for(;e===WS;)WS=Vh[--Xh],Vh[Xh]=null,qS=Vh[--Xh],Vh[Xh]=null;for(;e===fd;)fd=wo[--So],wo[So]=null,Al=wo[--So],wo[So]=null,_l=wo[--So],wo[So]=null}var Yi=null,Vi=null,Wt=!1,pa=null;function HY(e,t){var n=Oo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function L8(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yi=e,Vi=uc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yi=e,Vi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fd!==null?{id:_l,overflow:Al}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Oo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Yi=e,Vi=null,!0):!1;default:return!1}}function bM(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xM(e){if(Wt){var t=Vi;if(t){var n=t;if(!L8(e,t)){if(bM(e))throw Error(ne(418));t=uc(n.nextSibling);var r=Yi;t&&L8(e,t)?HY(r,n):(e.flags=e.flags&-4097|2,Wt=!1,Yi=e)}}else{if(bM(e))throw Error(ne(418));e.flags=e.flags&-4097|2,Wt=!1,Yi=e}}}function z8(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yi=e}function $x(e){if(e!==Yi)return!1;if(!Wt)return z8(e),Wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gM(e.type,e.memoizedProps)),t&&(t=Vi)){if(bM(e))throw GY(),Error(ne(418));for(;t;)HY(e,t),t=uc(t.nextSibling)}if(z8(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vi=uc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vi=null}}else Vi=Yi?uc(e.stateNode.nextSibling):null;return!0}function GY(){for(var e=Vi;e;)e=uc(e.nextSibling)}function Hp(){Vi=Yi=null,Wt=!1}function g3(e){pa===null?pa=[e]:pa.push(e)}var _ye=lu.ReactCurrentBatchConfig;function ay(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function Ox(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function B8(e){var t=e._init;return t(e._payload)}function VY(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=hc(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,v,b,x){return v===null||v.tag!==6?(v=vk(b,y.mode,x),v.return=y,v):(v=i(v,b),v.return=y,v)}function l(y,v,b,x){var w=b.type;return w===Bh?c(y,v,b.props.children,x,b.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Tu&&B8(w)===v.type)?(x=i(v,b.props),x.ref=ay(y,v,b),x.return=y,x):(x=Kw(b.type,b.key,b.props,null,y.mode,x),x.ref=ay(y,v,b),x.return=y,x)}function u(y,v,b,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=bk(b,y.mode,x),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function c(y,v,b,x,w){return v===null||v.tag!==7?(v=Qf(b,y.mode,x,w),v.return=y,v):(v=i(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=vk(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case mx:return b=Kw(v.type,v.key,v.props,null,y.mode,b),b.ref=ay(y,null,v),b.return=y,b;case zh:return v=bk(v,y.mode,b),v.return=y,v;case Tu:var x=v._init;return f(y,x(v._payload),b)}if(Hy(v)||ty(v))return v=Qf(v,y.mode,b,null),v.return=y,v;Ox(y,v)}return null}function d(y,v,b,x){var w=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(y,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mx:return b.key===w?l(y,v,b,x):null;case zh:return b.key===w?u(y,v,b,x):null;case Tu:return w=b._init,d(y,v,w(b._payload),x)}if(Hy(b)||ty(b))return w!==null?null:c(y,v,b,x,null);Ox(y,b)}return null}function h(y,v,b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(b)||null,s(v,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mx:return y=y.get(x.key===null?b:x.key)||null,l(v,y,x,w);case zh:return y=y.get(x.key===null?b:x.key)||null,u(v,y,x,w);case Tu:var E=x._init;return h(y,v,b,E(x._payload),w)}if(Hy(x)||ty(x))return y=y.get(b)||null,c(v,y,x,w,null);Ox(v,x)}return null}function p(y,v,b,x){for(var w=null,E=null,S=v,A=v=0,$=null;S!==null&&A<b.length;A++){S.index>A?($=S,S=null):$=S.sibling;var _=d(y,S,b[A],x);if(_===null){S===null&&(S=$);break}e&&S&&_.alternate===null&&t(y,S),v=o(_,v,A),E===null?w=_:E.sibling=_,E=_,S=$}if(A===b.length)return n(y,S),Wt&&Af(y,A),w;if(S===null){for(;A<b.length;A++)S=f(y,b[A],x),S!==null&&(v=o(S,v,A),E===null?w=S:E.sibling=S,E=S);return Wt&&Af(y,A),w}for(S=r(y,S);A<b.length;A++)$=h(S,y,A,b[A],x),$!==null&&(e&&$.alternate!==null&&S.delete($.key===null?A:$.key),v=o($,v,A),E===null?w=$:E.sibling=$,E=$);return e&&S.forEach(function(O){return t(y,O)}),Wt&&Af(y,A),w}function g(y,v,b,x){var w=ty(b);if(typeof w!="function")throw Error(ne(150));if(b=w.call(b),b==null)throw Error(ne(151));for(var E=w=null,S=v,A=v=0,$=null,_=b.next();S!==null&&!_.done;A++,_=b.next()){S.index>A?($=S,S=null):$=S.sibling;var O=d(y,S,_.value,x);if(O===null){S===null&&(S=$);break}e&&S&&O.alternate===null&&t(y,S),v=o(O,v,A),E===null?w=O:E.sibling=O,E=O,S=$}if(_.done)return n(y,S),Wt&&Af(y,A),w;if(S===null){for(;!_.done;A++,_=b.next())_=f(y,_.value,x),_!==null&&(v=o(_,v,A),E===null?w=_:E.sibling=_,E=_);return Wt&&Af(y,A),w}for(S=r(y,S);!_.done;A++,_=b.next())_=h(S,y,A,_.value,x),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?A:_.key),v=o(_,v,A),E===null?w=_:E.sibling=_,E=_);return e&&S.forEach(function(P){return t(y,P)}),Wt&&Af(y,A),w}function m(y,v,b,x){if(typeof b=="object"&&b!==null&&b.type===Bh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case mx:e:{for(var w=b.key,E=v;E!==null;){if(E.key===w){if(w=b.type,w===Bh){if(E.tag===7){n(y,E.sibling),v=i(E,b.props.children),v.return=y,y=v;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Tu&&B8(w)===E.type){n(y,E.sibling),v=i(E,b.props),v.ref=ay(y,E,b),v.return=y,y=v;break e}n(y,E);break}else t(y,E);E=E.sibling}b.type===Bh?(v=Qf(b.props.children,y.mode,x,b.key),v.return=y,y=v):(x=Kw(b.type,b.key,b.props,null,y.mode,x),x.ref=ay(y,v,b),x.return=y,y=x)}return a(y);case zh:e:{for(E=b.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=bk(b,y.mode,x),v.return=y,y=v}return a(y);case Tu:return E=b._init,m(y,v,E(b._payload),x)}if(Hy(b))return p(y,v,b,x);if(ty(b))return g(y,v,b,x);Ox(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=vk(b,y.mode,x),v.return=y,y=v),a(y)):n(y,v)}return m}var Gp=VY(!0),XY=VY(!1),HS=qc(null),GS=null,Kh=null,m3=null;function y3(){m3=Kh=GS=null}function v3(e){var t=HS.current;zt(HS),e._currentValue=t}function wM(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hp(e,t){GS=e,m3=Kh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yi=!0),e.firstContext=null)}function Fo(e){var t=e._currentValue;if(m3!==e)if(e={context:e,memoizedValue:t,next:null},Kh===null){if(GS===null)throw Error(ne(308));Kh=e,GS.dependencies={lanes:0,firstContext:e}}else Kh=Kh.next=e;return t}var Lf=null;function b3(e){Lf===null?Lf=[e]:Lf.push(e)}function KY(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,b3(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vl(e,r)}function Vl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mu=!1;function x3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YY(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ml(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vl(e,n)}return i=r.interleaved,i===null?(t.next=t,b3(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vl(e,n)}function Ww(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,o3(e,n)}}function U8(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function VS(e,t,n,r){var i=e.updateQueue;Mu=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=Jt({},f,d);break e;case 2:Mu=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);hd|=a,e.lanes=a,e.memoizedState=f}}function W8(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var G1={},Ss=qc(G1),cv=qc(G1),fv=qc(G1);function zf(e){if(e===G1)throw Error(ne(174));return e}function w3(e,t){switch(Pt(fv,t),Pt(cv,e),Pt(Ss,G1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tM(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tM(t,e)}zt(Ss),Pt(Ss,t)}function Vp(){zt(Ss),zt(cv),zt(fv)}function QY(e){zf(fv.current);var t=zf(Ss.current),n=tM(t,e.type);t!==n&&(Pt(cv,e),Pt(Ss,n))}function S3(e){cv.current===e&&(zt(Ss),zt(cv))}var Xt=qc(0);function XS(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dk=[];function E3(){for(var e=0;e<dk.length;e++)dk[e]._workInProgressVersionPrimary=null;dk.length=0}var qw=lu.ReactCurrentDispatcher,hk=lu.ReactCurrentBatchConfig,dd=0,Qt=null,An=null,Fn=null,KS=!1,$0=!1,dv=0,Aye=0;function pr(){throw Error(ne(321))}function _3(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ca(e[n],t[n]))return!1;return!0}function A3(e,t,n,r,i,o){if(dd=o,Qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qw.current=e===null||e.memoizedState===null?kye:Pye,e=n(r,i),$0){o=0;do{if($0=!1,dv=0,25<=o)throw Error(ne(301));o+=1,Fn=An=null,t.updateQueue=null,qw.current=Tye,e=n(r,i)}while($0)}if(qw.current=YS,t=An!==null&&An.next!==null,dd=0,Fn=An=Qt=null,KS=!1,t)throw Error(ne(300));return e}function $3(){var e=dv!==0;return dv=0,e}function rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Qt.memoizedState=Fn=e:Fn=Fn.next=e,Fn}function jo(){if(An===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=An.next;var t=Fn===null?Qt.memoizedState:Fn.next;if(t!==null)Fn=t,An=e;else{if(e===null)throw Error(ne(310));An=e,e={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},Fn===null?Qt.memoizedState=Fn=e:Fn=Fn.next=e}return Fn}function hv(e,t){return typeof t=="function"?t(e):t}function pk(e){var t=jo(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=An,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((dd&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Qt.lanes|=c,hd|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Ca(r,t.memoizedState)||(yi=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Qt.lanes|=o,hd|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gk(e){var t=jo(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Ca(o,t.memoizedState)||(yi=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function JY(){}function ZY(e,t){var n=Qt,r=jo(),i=t(),o=!Ca(r.memoizedState,i);if(o&&(r.memoizedState=i,yi=!0),r=r.queue,O3(nQ.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Fn!==null&&Fn.memoizedState.tag&1){if(n.flags|=2048,pv(9,tQ.bind(null,n,r,i,t),void 0,null),qn===null)throw Error(ne(349));dd&30||eQ(n,t,i)}return i}function eQ(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tQ(e,t,n,r){t.value=n,t.getSnapshot=r,rQ(t)&&iQ(e)}function nQ(e,t,n){return n(function(){rQ(t)&&iQ(e)})}function rQ(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ca(e,n)}catch{return!0}}function iQ(e){var t=Vl(e,1);t!==null&&Aa(t,e,1,-1)}function q8(e){var t=rs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hv,lastRenderedState:e},t.queue=e,e=e.dispatch=Cye.bind(null,Qt,e),[t.memoizedState,e]}function pv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function oQ(){return jo().memoizedState}function Hw(e,t,n,r){var i=rs();Qt.flags|=e,i.memoizedState=pv(1|t,n,void 0,r===void 0?null:r)}function q_(e,t,n,r){var i=jo();r=r===void 0?null:r;var o=void 0;if(An!==null){var a=An.memoizedState;if(o=a.destroy,r!==null&&_3(r,a.deps)){i.memoizedState=pv(t,n,o,r);return}}Qt.flags|=e,i.memoizedState=pv(1|t,n,o,r)}function H8(e,t){return Hw(8390656,8,e,t)}function O3(e,t){return q_(2048,8,e,t)}function aQ(e,t){return q_(4,2,e,t)}function sQ(e,t){return q_(4,4,e,t)}function lQ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uQ(e,t,n){return n=n!=null?n.concat([e]):null,q_(4,4,lQ.bind(null,t,e),n)}function C3(){}function cQ(e,t){var n=jo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_3(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fQ(e,t){var n=jo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_3(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dQ(e,t,n){return dd&21?(Ca(n,t)||(n=yY(),Qt.lanes|=n,hd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yi=!0),e.memoizedState=n)}function $ye(e,t){var n=ht;ht=n!==0&&4>n?n:4,e(!0);var r=hk.transition;hk.transition={};try{e(!1),t()}finally{ht=n,hk.transition=r}}function hQ(){return jo().memoizedState}function Oye(e,t,n){var r=dc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pQ(e))gQ(t,n);else if(n=KY(e,t,n,r),n!==null){var i=Zr();Aa(n,e,r,i),mQ(n,t,r)}}function Cye(e,t,n){var r=dc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pQ(e))gQ(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Ca(s,a)){var l=t.interleaved;l===null?(i.next=i,b3(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=KY(e,t,i,r),n!==null&&(i=Zr(),Aa(n,e,r,i),mQ(n,t,r))}}function pQ(e){var t=e.alternate;return e===Qt||t!==null&&t===Qt}function gQ(e,t){$0=KS=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mQ(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,o3(e,n)}}var YS={readContext:Fo,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},kye={readContext:Fo,useCallback:function(e,t){return rs().memoizedState=[e,t===void 0?null:t],e},useContext:Fo,useEffect:H8,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hw(4194308,4,lQ.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hw(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hw(4,2,e,t)},useMemo:function(e,t){var n=rs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Oye.bind(null,Qt,e),[r.memoizedState,e]},useRef:function(e){var t=rs();return e={current:e},t.memoizedState=e},useState:q8,useDebugValue:C3,useDeferredValue:function(e){return rs().memoizedState=e},useTransition:function(){var e=q8(!1),t=e[0];return e=$ye.bind(null,e[1]),rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qt,i=rs();if(Wt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),qn===null)throw Error(ne(349));dd&30||eQ(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,H8(nQ.bind(null,r,o,e),[e]),r.flags|=2048,pv(9,tQ.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=rs(),t=qn.identifierPrefix;if(Wt){var n=Al,r=_l;n=(r&~(1<<32-_a(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=dv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Aye++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pye={readContext:Fo,useCallback:cQ,useContext:Fo,useEffect:O3,useImperativeHandle:uQ,useInsertionEffect:aQ,useLayoutEffect:sQ,useMemo:fQ,useReducer:pk,useRef:oQ,useState:function(){return pk(hv)},useDebugValue:C3,useDeferredValue:function(e){var t=jo();return dQ(t,An.memoizedState,e)},useTransition:function(){var e=pk(hv)[0],t=jo().memoizedState;return[e,t]},useMutableSource:JY,useSyncExternalStore:ZY,useId:hQ,unstable_isNewReconciler:!1},Tye={readContext:Fo,useCallback:cQ,useContext:Fo,useEffect:O3,useImperativeHandle:uQ,useInsertionEffect:aQ,useLayoutEffect:sQ,useMemo:fQ,useReducer:gk,useRef:oQ,useState:function(){return gk(hv)},useDebugValue:C3,useDeferredValue:function(e){var t=jo();return An===null?t.memoizedState=e:dQ(t,An.memoizedState,e)},useTransition:function(){var e=gk(hv)[0],t=jo().memoizedState;return[e,t]},useMutableSource:JY,useSyncExternalStore:ZY,useId:hQ,unstable_isNewReconciler:!1};function aa(e,t){if(e&&e.defaultProps){t=Jt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function SM(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Jt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var H_={isMounted:function(e){return(e=e._reactInternals)?qd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zr(),i=dc(e),o=Ml(r,i);o.payload=t,n!=null&&(o.callback=n),t=cc(e,o,i),t!==null&&(Aa(t,e,i,r),Ww(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zr(),i=dc(e),o=Ml(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=cc(e,o,i),t!==null&&(Aa(t,e,i,r),Ww(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zr(),r=dc(e),i=Ml(n,r);i.tag=2,t!=null&&(i.callback=t),t=cc(e,i,r),t!==null&&(Aa(t,e,r,n),Ww(t,e,r))}};function G8(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!av(n,r)||!av(i,o):!0}function yQ(e,t,n){var r=!1,i=Sc,o=t.contextType;return typeof o=="object"&&o!==null?o=Fo(o):(i=xi(t)?cd:Nr.current,r=t.contextTypes,o=(r=r!=null)?qp(e,i):Sc),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=H_,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function V8(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&H_.enqueueReplaceState(t,t.state,null)}function EM(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},x3(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Fo(o):(o=xi(t)?cd:Nr.current,i.context=qp(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(SM(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&H_.enqueueReplaceState(i,i.state,null),VS(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xp(e,t){try{var n="",r=t;do n+=ome(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function mk(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _M(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Mye=typeof WeakMap=="function"?WeakMap:Map;function vQ(e,t,n){n=Ml(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){JS||(JS=!0,RM=r),_M(e,t)},n}function bQ(e,t,n){n=Ml(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){_M(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){_M(e,t),typeof r!="function"&&(fc===null?fc=new Set([this]):fc.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function X8(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Mye;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Gye.bind(null,e,t,n),t.then(e,e))}function K8(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Y8(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ml(-1,1),t.tag=2,cc(n,t,1))),n.lanes|=1),e)}var Nye=lu.ReactCurrentOwner,yi=!1;function Ur(e,t,n,r){t.child=e===null?XY(t,null,n,r):Gp(t,e.child,n,r)}function Q8(e,t,n,r,i){n=n.render;var o=t.ref;return hp(t,i),r=A3(e,t,n,r,o,i),n=$3(),e!==null&&!yi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xl(e,t,i)):(Wt&&n&&h3(t),t.flags|=1,Ur(e,t,r,i),t.child)}function J8(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!I3(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,xQ(e,t,o,r,i)):(e=Kw(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:av,n(a,r)&&e.ref===t.ref)return Xl(e,t,i)}return t.flags|=1,e=hc(o,r),e.ref=t.ref,e.return=t,t.child=e}function xQ(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(av(o,r)&&e.ref===t.ref)if(yi=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(yi=!0);else return t.lanes=e.lanes,Xl(e,t,i)}return AM(e,t,n,r,i)}function wQ(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Qh,Li),Li|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pt(Qh,Li),Li|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pt(Qh,Li),Li|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Pt(Qh,Li),Li|=r;return Ur(e,t,i,n),t.child}function SQ(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function AM(e,t,n,r,i){var o=xi(n)?cd:Nr.current;return o=qp(t,o),hp(t,i),n=A3(e,t,n,r,o,i),r=$3(),e!==null&&!yi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xl(e,t,i)):(Wt&&r&&h3(t),t.flags|=1,Ur(e,t,n,i),t.child)}function Z8(e,t,n,r,i){if(xi(n)){var o=!0;US(t)}else o=!1;if(hp(t,i),t.stateNode===null)Gw(e,t),yQ(t,n,r),EM(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fo(u):(u=xi(n)?cd:Nr.current,u=qp(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&V8(t,a,r,u),Mu=!1;var d=t.memoizedState;a.state=d,VS(t,r,a,i),l=t.memoizedState,s!==r||d!==l||bi.current||Mu?(typeof c=="function"&&(SM(t,n,c,r),l=t.memoizedState),(s=Mu||G8(t,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,YY(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:aa(t.type,s),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fo(l):(l=xi(n)?cd:Nr.current,l=qp(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&V8(t,a,r,l),Mu=!1,d=t.memoizedState,a.state=d,VS(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||bi.current||Mu?(typeof h=="function"&&(SM(t,n,h,r),p=t.memoizedState),(u=Mu||G8(t,n,u,r,d,p,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return $M(e,t,n,r,o,i)}function $M(e,t,n,r,i,o){SQ(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&j8(t,n,!1),Xl(e,t,o);r=t.stateNode,Nye.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Gp(t,e.child,null,o),t.child=Gp(t,null,s,o)):Ur(e,t,s,o),t.memoizedState=r.state,i&&j8(t,n,!0),t.child}function EQ(e){var t=e.stateNode;t.pendingContext?F8(e,t.pendingContext,t.pendingContext!==t.context):t.context&&F8(e,t.context,!1),w3(e,t.containerInfo)}function eB(e,t,n,r,i){return Hp(),g3(i),t.flags|=256,Ur(e,t,n,r),t.child}var OM={dehydrated:null,treeContext:null,retryLane:0};function CM(e){return{baseLanes:e,cachePool:null,transitions:null}}function _Q(e,t,n){var r=t.pendingProps,i=Xt.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Pt(Xt,i&1),e===null)return xM(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=X_(a,r,0,null),e=Qf(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=CM(n),t.memoizedState=OM,e):k3(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Rye(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=hc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=hc(s,o):(o=Qf(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?CM(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=OM,r}return o=e.child,e=o.sibling,r=hc(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function k3(e,t){return t=X_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cx(e,t,n,r){return r!==null&&g3(r),Gp(t,e.child,null,n),e=k3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rye(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=mk(Error(ne(422))),Cx(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=X_({mode:"visible",children:r.children},i,0,null),o=Qf(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Gp(t,e.child,null,a),t.child.memoizedState=CM(a),t.memoizedState=OM,o);if(!(t.mode&1))return Cx(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(ne(419)),r=mk(o,r,void 0),Cx(e,t,a,r)}if(s=(a&e.childLanes)!==0,yi||s){if(r=qn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Vl(e,i),Aa(r,e,i,-1))}return D3(),r=mk(Error(ne(421))),Cx(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Vye.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Vi=uc(i.nextSibling),Yi=t,Wt=!0,pa=null,e!==null&&(wo[So++]=_l,wo[So++]=Al,wo[So++]=fd,_l=e.id,Al=e.overflow,fd=t),t=k3(t,r.children),t.flags|=4096,t)}function tB(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wM(e.return,t,n)}function yk(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function AQ(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ur(e,t,r.children,n),r=Xt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tB(e,n,t);else if(e.tag===19)tB(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pt(Xt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&XS(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yk(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&XS(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yk(t,!0,n,null,o);break;case"together":yk(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=hc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dye(e,t,n){switch(t.tag){case 3:EQ(t),Hp();break;case 5:QY(t);break;case 1:xi(t.type)&&US(t);break;case 4:w3(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pt(HS,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pt(Xt,Xt.current&1),t.flags|=128,null):n&t.child.childLanes?_Q(e,t,n):(Pt(Xt,Xt.current&1),e=Xl(e,t,n),e!==null?e.sibling:null);Pt(Xt,Xt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return AQ(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(Xt,Xt.current),r)break;return null;case 22:case 23:return t.lanes=0,wQ(e,t,n)}return Xl(e,t,n)}var $Q,kM,OQ,CQ;$Q=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kM=function(){};OQ=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,zf(Ss.current);var o=null;switch(n){case"input":i=QT(e,i),r=QT(e,r),o=[];break;case"select":i=Jt({},i,{value:void 0}),r=Jt({},r,{value:void 0}),o=[];break;case"textarea":i=eM(e,i),r=eM(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zS)}nM(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Z0.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Z0.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Dt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};CQ=function(e,t,n,r){n!==r&&(t.flags|=4)};function sy(e,t){if(!Wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Iye(e,t,n){var r=t.pendingProps;switch(p3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(t),null;case 1:return xi(t.type)&&BS(),gr(t),null;case 3:return r=t.stateNode,Vp(),zt(bi),zt(Nr),E3(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($x(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pa!==null&&(FM(pa),pa=null))),kM(e,t),gr(t),null;case 5:S3(t);var i=zf(fv.current);if(n=t.type,e!==null&&t.stateNode!=null)OQ(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return gr(t),null}if(e=zf(Ss.current),$x(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hs]=t,r[uv]=o,e=(t.mode&1)!==0,n){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(i=0;i<Vy.length;i++)Dt(Vy[i],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":c8(r,o),Dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Dt("invalid",r);break;case"textarea":d8(r,o),Dt("invalid",r)}nM(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ax(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ax(r.textContent,s,e),i=["children",""+s]):Z0.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Dt("scroll",r)}switch(n){case"input":yx(r),f8(r,o,!0);break;case"textarea":yx(r),h8(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=zS)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nY(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[hs]=t,e[uv]=r,$Q(e,t,!1,!1),t.stateNode=e;e:{switch(a=rM(n,r),n){case"dialog":Dt("cancel",e),Dt("close",e),i=r;break;case"iframe":case"object":case"embed":Dt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Vy.length;i++)Dt(Vy[i],e);i=r;break;case"source":Dt("error",e),i=r;break;case"img":case"image":case"link":Dt("error",e),Dt("load",e),i=r;break;case"details":Dt("toggle",e),i=r;break;case"input":c8(e,r),i=QT(e,r),Dt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Jt({},r,{value:void 0}),Dt("invalid",e);break;case"textarea":d8(e,r),i=eM(e,r),Dt("invalid",e);break;default:i=r}nM(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?oY(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rY(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ev(e,l):typeof l=="number"&&ev(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Z0.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Dt("scroll",e):l!=null&&ZI(e,o,l,a))}switch(n){case"input":yx(e),f8(e,r,!1);break;case"textarea":yx(e),h8(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wc(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?up(e,!!r.multiple,o,!1):r.defaultValue!=null&&up(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=zS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gr(t),null;case 6:if(e&&t.stateNode!=null)CQ(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ne(166));if(n=zf(fv.current),zf(Ss.current),$x(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(o=r.nodeValue!==n)&&(e=Yi,e!==null))switch(e.tag){case 3:Ax(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ax(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hs]=t,t.stateNode=r}return gr(t),null;case 13:if(zt(Xt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Wt&&Vi!==null&&t.mode&1&&!(t.flags&128))GY(),Hp(),t.flags|=98560,o=!1;else if(o=$x(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ne(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[hs]=t}else Hp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gr(t),o=!1}else pa!==null&&(FM(pa),pa=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xt.current&1?kn===0&&(kn=3):D3())),t.updateQueue!==null&&(t.flags|=4),gr(t),null);case 4:return Vp(),kM(e,t),e===null&&sv(t.stateNode.containerInfo),gr(t),null;case 10:return v3(t.type._context),gr(t),null;case 17:return xi(t.type)&&BS(),gr(t),null;case 19:if(zt(Xt),o=t.memoizedState,o===null)return gr(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)sy(o,!1);else{if(kn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=XS(e),a!==null){for(t.flags|=128,sy(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pt(Xt,Xt.current&1|2),t.child}e=e.sibling}o.tail!==null&&fn()>Kp&&(t.flags|=128,r=!0,sy(o,!1),t.lanes=4194304)}else{if(!r)if(e=XS(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sy(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Wt)return gr(t),null}else 2*fn()-o.renderingStartTime>Kp&&n!==1073741824&&(t.flags|=128,r=!0,sy(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=fn(),t.sibling=null,n=Xt.current,Pt(Xt,r?n&1|2:n&1),t):(gr(t),null);case 22:case 23:return R3(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Li&1073741824&&(gr(t),t.subtreeFlags&6&&(t.flags|=8192)):gr(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function Fye(e,t){switch(p3(t),t.tag){case 1:return xi(t.type)&&BS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vp(),zt(bi),zt(Nr),E3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return S3(t),null;case 13:if(zt(Xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));Hp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(Xt),null;case 4:return Vp(),null;case 10:return v3(t.type._context),null;case 22:case 23:return R3(),null;case 24:return null;default:return null}}var kx=!1,Ar=!1,jye=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Yh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){an(e,t,r)}else n.current=null}function PM(e,t,n){try{n()}catch(r){an(e,t,r)}}var nB=!1;function Lye(e,t){if(hM=FS,e=NY(),d3(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pM={focusedElem:e,selectionRange:n},FS=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,m=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:aa(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(x){an(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return p=nB,nB=!1,p}function O0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&PM(t,n,o)}i=i.next}while(i!==r)}}function G_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function TM(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kQ(e){var t=e.alternate;t!==null&&(e.alternate=null,kQ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hs],delete t[uv],delete t[yM],delete t[wye],delete t[Sye])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PQ(e){return e.tag===5||e.tag===3||e.tag===4}function rB(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PQ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function MM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zS));else if(r!==4&&(e=e.child,e!==null))for(MM(e,t,n),e=e.sibling;e!==null;)MM(e,t,n),e=e.sibling}function NM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(NM(e,t,n),e=e.sibling;e!==null;)NM(e,t,n),e=e.sibling}var Qn=null,ua=!1;function Su(e,t,n){for(n=n.child;n!==null;)TQ(e,t,n),n=n.sibling}function TQ(e,t,n){if(ws&&typeof ws.onCommitFiberUnmount=="function")try{ws.onCommitFiberUnmount(j_,n)}catch{}switch(n.tag){case 5:Ar||Yh(n,t);case 6:var r=Qn,i=ua;Qn=null,Su(e,t,n),Qn=r,ua=i,Qn!==null&&(ua?(e=Qn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qn.removeChild(n.stateNode));break;case 18:Qn!==null&&(ua?(e=Qn,n=n.stateNode,e.nodeType===8?ck(e.parentNode,n):e.nodeType===1&&ck(e,n),iv(e)):ck(Qn,n.stateNode));break;case 4:r=Qn,i=ua,Qn=n.stateNode.containerInfo,ua=!0,Su(e,t,n),Qn=r,ua=i;break;case 0:case 11:case 14:case 15:if(!Ar&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&PM(n,t,a),i=i.next}while(i!==r)}Su(e,t,n);break;case 1:if(!Ar&&(Yh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){an(n,t,s)}Su(e,t,n);break;case 21:Su(e,t,n);break;case 22:n.mode&1?(Ar=(r=Ar)||n.memoizedState!==null,Su(e,t,n),Ar=r):Su(e,t,n);break;default:Su(e,t,n)}}function iB(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jye),t.forEach(function(r){var i=Xye.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ta(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Qn=s.stateNode,ua=!1;break e;case 3:Qn=s.stateNode.containerInfo,ua=!0;break e;case 4:Qn=s.stateNode.containerInfo,ua=!0;break e}s=s.return}if(Qn===null)throw Error(ne(160));TQ(o,a,i),Qn=null,ua=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){an(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)MQ(t,e),t=t.sibling}function MQ(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ta(t,e),Za(e),r&4){try{O0(3,e,e.return),G_(3,e)}catch(g){an(e,e.return,g)}try{O0(5,e,e.return)}catch(g){an(e,e.return,g)}}break;case 1:ta(t,e),Za(e),r&512&&n!==null&&Yh(n,n.return);break;case 5:if(ta(t,e),Za(e),r&512&&n!==null&&Yh(n,n.return),e.flags&32){var i=e.stateNode;try{ev(i,"")}catch(g){an(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&eY(i,o),rM(s,a);var u=rM(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?oY(i,f):c==="dangerouslySetInnerHTML"?rY(i,f):c==="children"?ev(i,f):ZI(i,c,f,u)}switch(s){case"input":JT(i,o);break;case"textarea":tY(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?up(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?up(i,!!o.multiple,o.defaultValue,!0):up(i,!!o.multiple,o.multiple?[]:"",!1))}i[uv]=o}catch(g){an(e,e.return,g)}}break;case 6:if(ta(t,e),Za(e),r&4){if(e.stateNode===null)throw Error(ne(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){an(e,e.return,g)}}break;case 3:if(ta(t,e),Za(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{iv(t.containerInfo)}catch(g){an(e,e.return,g)}break;case 4:ta(t,e),Za(e);break;case 13:ta(t,e),Za(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(M3=fn())),r&4&&iB(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ar=(u=Ar)||c,ta(t,e),Ar=u):ta(t,e),Za(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(pe=e,c=e.child;c!==null;){for(f=pe=c;pe!==null;){switch(d=pe,h=d.child,d.tag){case 0:case 11:case 14:case 15:O0(4,d,d.return);break;case 1:Yh(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){an(r,n,g)}}break;case 5:Yh(d,d.return);break;case 22:if(d.memoizedState!==null){aB(f);continue}}h!==null?(h.return=d,pe=h):aB(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=iY("display",a))}catch(g){an(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){an(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ta(t,e),Za(e),r&4&&iB(e);break;case 21:break;default:ta(t,e),Za(e)}}function Za(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(PQ(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ev(i,""),r.flags&=-33);var o=rB(e);NM(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=rB(e);MM(e,s,a);break;default:throw Error(ne(161))}}catch(l){an(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zye(e,t,n){pe=e,NQ(e)}function NQ(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var i=pe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||kx;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ar;s=kx;var u=Ar;if(kx=a,(Ar=l)&&!u)for(pe=i;pe!==null;)a=pe,l=a.child,a.tag===22&&a.memoizedState!==null?sB(i):l!==null?(l.return=a,pe=l):sB(i);for(;o!==null;)pe=o,NQ(o),o=o.sibling;pe=i,kx=s,Ar=u}oB(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,pe=o):oB(e)}}function oB(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ar||G_(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ar)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:aa(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&W8(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}W8(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&iv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Ar||t.flags&512&&TM(t)}catch(d){an(t,t.return,d)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function aB(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function sB(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{G_(4,t)}catch(l){an(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){an(t,i,l)}}var o=t.return;try{TM(t)}catch(l){an(t,o,l)}break;case 5:var a=t.return;try{TM(t)}catch(l){an(t,a,l)}}}catch(l){an(t,t.return,l)}if(t===e){pe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,pe=s;break}pe=t.return}}var Bye=Math.ceil,QS=lu.ReactCurrentDispatcher,P3=lu.ReactCurrentOwner,Mo=lu.ReactCurrentBatchConfig,Ye=0,qn=null,vn=null,sr=0,Li=0,Qh=qc(0),kn=0,gv=null,hd=0,V_=0,T3=0,C0=null,pi=null,M3=0,Kp=1/0,pl=null,JS=!1,RM=null,fc=null,Px=!1,Xu=null,ZS=0,k0=0,DM=null,Vw=-1,Xw=0;function Zr(){return Ye&6?fn():Vw!==-1?Vw:Vw=fn()}function dc(e){return e.mode&1?Ye&2&&sr!==0?sr&-sr:_ye.transition!==null?(Xw===0&&(Xw=yY()),Xw):(e=ht,e!==0||(e=window.event,e=e===void 0?16:_Y(e.type)),e):1}function Aa(e,t,n,r){if(50<k0)throw k0=0,DM=null,Error(ne(185));W1(e,n,r),(!(Ye&2)||e!==qn)&&(e===qn&&(!(Ye&2)&&(V_|=n),kn===4&&zu(e,sr)),wi(e,r),n===1&&Ye===0&&!(t.mode&1)&&(Kp=fn()+500,W_&&Hc()))}function wi(e,t){var n=e.callbackNode;_me(e,t);var r=IS(e,e===qn?sr:0);if(r===0)n!==null&&m8(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&m8(n),t===1)e.tag===0?Eye(lB.bind(null,e)):WY(lB.bind(null,e)),bye(function(){!(Ye&6)&&Hc()}),n=null;else{switch(vY(r)){case 1:n=i3;break;case 4:n=gY;break;case 16:n=DS;break;case 536870912:n=mY;break;default:n=DS}n=BQ(n,RQ.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function RQ(e,t){if(Vw=-1,Xw=0,Ye&6)throw Error(ne(327));var n=e.callbackNode;if(pp()&&e.callbackNode!==n)return null;var r=IS(e,e===qn?sr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=eE(e,r);else{t=r;var i=Ye;Ye|=2;var o=IQ();(qn!==e||sr!==t)&&(pl=null,Kp=fn()+500,Yf(e,t));do try{qye();break}catch(s){DQ(e,s)}while(!0);y3(),QS.current=o,Ye=i,vn!==null?t=0:(qn=null,sr=0,t=kn)}if(t!==0){if(t===2&&(i=lM(e),i!==0&&(r=i,t=IM(e,i))),t===1)throw n=gv,Yf(e,0),zu(e,r),wi(e,fn()),n;if(t===6)zu(e,r);else{if(i=e.current.alternate,!(r&30)&&!Uye(i)&&(t=eE(e,r),t===2&&(o=lM(e),o!==0&&(r=o,t=IM(e,o))),t===1))throw n=gv,Yf(e,0),zu(e,r),wi(e,fn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ne(345));case 2:$f(e,pi,pl);break;case 3:if(zu(e,r),(r&130023424)===r&&(t=M3+500-fn(),10<t)){if(IS(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Zr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mM($f.bind(null,e,pi,pl),t);break}$f(e,pi,pl);break;case 4:if(zu(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-_a(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bye(r/1960))-r,10<r){e.timeoutHandle=mM($f.bind(null,e,pi,pl),r);break}$f(e,pi,pl);break;case 5:$f(e,pi,pl);break;default:throw Error(ne(329))}}}return wi(e,fn()),e.callbackNode===n?RQ.bind(null,e):null}function IM(e,t){var n=C0;return e.current.memoizedState.isDehydrated&&(Yf(e,t).flags|=256),e=eE(e,t),e!==2&&(t=pi,pi=n,t!==null&&FM(t)),e}function FM(e){pi===null?pi=e:pi.push.apply(pi,e)}function Uye(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ca(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zu(e,t){for(t&=~T3,t&=~V_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_a(t),r=1<<n;e[n]=-1,t&=~r}}function lB(e){if(Ye&6)throw Error(ne(327));pp();var t=IS(e,0);if(!(t&1))return wi(e,fn()),null;var n=eE(e,t);if(e.tag!==0&&n===2){var r=lM(e);r!==0&&(t=r,n=IM(e,r))}if(n===1)throw n=gv,Yf(e,0),zu(e,t),wi(e,fn()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$f(e,pi,pl),wi(e,fn()),null}function N3(e,t){var n=Ye;Ye|=1;try{return e(t)}finally{Ye=n,Ye===0&&(Kp=fn()+500,W_&&Hc())}}function pd(e){Xu!==null&&Xu.tag===0&&!(Ye&6)&&pp();var t=Ye;Ye|=1;var n=Mo.transition,r=ht;try{if(Mo.transition=null,ht=1,e)return e()}finally{ht=r,Mo.transition=n,Ye=t,!(Ye&6)&&Hc()}}function R3(){Li=Qh.current,zt(Qh)}function Yf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vye(n)),vn!==null)for(n=vn.return;n!==null;){var r=n;switch(p3(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&BS();break;case 3:Vp(),zt(bi),zt(Nr),E3();break;case 5:S3(r);break;case 4:Vp();break;case 13:zt(Xt);break;case 19:zt(Xt);break;case 10:v3(r.type._context);break;case 22:case 23:R3()}n=n.return}if(qn=e,vn=e=hc(e.current,null),sr=Li=t,kn=0,gv=null,T3=V_=hd=0,pi=C0=null,Lf!==null){for(t=0;t<Lf.length;t++)if(n=Lf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Lf=null}return e}function DQ(e,t){do{var n=vn;try{if(y3(),qw.current=YS,KS){for(var r=Qt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}KS=!1}if(dd=0,Fn=An=Qt=null,$0=!1,dv=0,P3.current=null,n===null||n.return===null){kn=1,gv=t,vn=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=sr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=K8(a);if(h!==null){h.flags&=-257,Y8(h,a,s,o,t),h.mode&1&&X8(o,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){X8(o,u,t),D3();break e}l=Error(ne(426))}}else if(Wt&&s.mode&1){var m=K8(a);if(m!==null){!(m.flags&65536)&&(m.flags|=256),Y8(m,a,s,o,t),g3(Xp(l,s));break e}}o=l=Xp(l,s),kn!==4&&(kn=2),C0===null?C0=[o]:C0.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=vQ(o,l,t);U8(o,y);break e;case 1:s=l;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(fc===null||!fc.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=bQ(o,s,t);U8(o,x);break e}}o=o.return}while(o!==null)}jQ(n)}catch(w){t=w,vn===n&&n!==null&&(vn=n=n.return);continue}break}while(!0)}function IQ(){var e=QS.current;return QS.current=YS,e===null?YS:e}function D3(){(kn===0||kn===3||kn===2)&&(kn=4),qn===null||!(hd&268435455)&&!(V_&268435455)||zu(qn,sr)}function eE(e,t){var n=Ye;Ye|=2;var r=IQ();(qn!==e||sr!==t)&&(pl=null,Yf(e,t));do try{Wye();break}catch(i){DQ(e,i)}while(!0);if(y3(),Ye=n,QS.current=r,vn!==null)throw Error(ne(261));return qn=null,sr=0,kn}function Wye(){for(;vn!==null;)FQ(vn)}function qye(){for(;vn!==null&&!gme();)FQ(vn)}function FQ(e){var t=zQ(e.alternate,e,Li);e.memoizedProps=e.pendingProps,t===null?jQ(e):vn=t,P3.current=null}function jQ(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fye(n,t),n!==null){n.flags&=32767,vn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kn=6,vn=null;return}}else if(n=Iye(n,t,Li),n!==null){vn=n;return}if(t=t.sibling,t!==null){vn=t;return}vn=t=e}while(t!==null);kn===0&&(kn=5)}function $f(e,t,n){var r=ht,i=Mo.transition;try{Mo.transition=null,ht=1,Hye(e,t,n,r)}finally{Mo.transition=i,ht=r}return null}function Hye(e,t,n,r){do pp();while(Xu!==null);if(Ye&6)throw Error(ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ame(e,o),e===qn&&(vn=qn=null,sr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Px||(Px=!0,BQ(DS,function(){return pp(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Mo.transition,Mo.transition=null;var a=ht;ht=1;var s=Ye;Ye|=4,P3.current=null,Lye(e,n),MQ(n,e),fye(pM),FS=!!hM,pM=hM=null,e.current=n,zye(n),mme(),Ye=s,ht=a,Mo.transition=o}else e.current=n;if(Px&&(Px=!1,Xu=e,ZS=i),o=e.pendingLanes,o===0&&(fc=null),bme(n.stateNode),wi(e,fn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(JS)throw JS=!1,e=RM,RM=null,e;return ZS&1&&e.tag!==0&&pp(),o=e.pendingLanes,o&1?e===DM?k0++:(k0=0,DM=e):k0=0,Hc(),null}function pp(){if(Xu!==null){var e=vY(ZS),t=Mo.transition,n=ht;try{if(Mo.transition=null,ht=16>e?16:e,Xu===null)var r=!1;else{if(e=Xu,Xu=null,ZS=0,Ye&6)throw Error(ne(331));var i=Ye;for(Ye|=4,pe=e.current;pe!==null;){var o=pe,a=o.child;if(pe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(pe=u;pe!==null;){var c=pe;switch(c.tag){case 0:case 11:case 15:O0(8,c,o)}var f=c.child;if(f!==null)f.return=c,pe=f;else for(;pe!==null;){c=pe;var d=c.sibling,h=c.return;if(kQ(c),c===u){pe=null;break}if(d!==null){d.return=h,pe=d;break}pe=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}pe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,pe=a;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:O0(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,pe=y;break e}pe=o.return}}var v=e.current;for(pe=v;pe!==null;){a=pe;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,pe=b;else e:for(a=v;pe!==null;){if(s=pe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:G_(9,s)}}catch(w){an(s,s.return,w)}if(s===a){pe=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,pe=x;break e}pe=s.return}}if(Ye=i,Hc(),ws&&typeof ws.onPostCommitFiberRoot=="function")try{ws.onPostCommitFiberRoot(j_,e)}catch{}r=!0}return r}finally{ht=n,Mo.transition=t}}return!1}function uB(e,t,n){t=Xp(n,t),t=vQ(e,t,1),e=cc(e,t,1),t=Zr(),e!==null&&(W1(e,1,t),wi(e,t))}function an(e,t,n){if(e.tag===3)uB(e,e,n);else for(;t!==null;){if(t.tag===3){uB(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fc===null||!fc.has(r))){e=Xp(n,e),e=bQ(t,e,1),t=cc(t,e,1),e=Zr(),t!==null&&(W1(t,1,e),wi(t,e));break}}t=t.return}}function Gye(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zr(),e.pingedLanes|=e.suspendedLanes&n,qn===e&&(sr&n)===n&&(kn===4||kn===3&&(sr&130023424)===sr&&500>fn()-M3?Yf(e,0):T3|=n),wi(e,t)}function LQ(e,t){t===0&&(e.mode&1?(t=xx,xx<<=1,!(xx&130023424)&&(xx=4194304)):t=1);var n=Zr();e=Vl(e,t),e!==null&&(W1(e,t,n),wi(e,n))}function Vye(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),LQ(e,n)}function Xye(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(t),LQ(e,n)}var zQ;zQ=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||bi.current)yi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yi=!1,Dye(e,t,n);yi=!!(e.flags&131072)}else yi=!1,Wt&&t.flags&1048576&&qY(t,qS,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gw(e,t),e=t.pendingProps;var i=qp(t,Nr.current);hp(t,n),i=A3(null,t,r,e,i,n);var o=$3();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xi(r)?(o=!0,US(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,x3(t),i.updater=H_,t.stateNode=i,i._reactInternals=t,EM(t,r,e,n),t=$M(null,t,r,!0,o,n)):(t.tag=0,Wt&&o&&h3(t),Ur(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gw(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Yye(r),e=aa(r,e),i){case 0:t=AM(null,t,r,e,n);break e;case 1:t=Z8(null,t,r,e,n);break e;case 11:t=Q8(null,t,r,e,n);break e;case 14:t=J8(null,t,r,aa(r.type,e),n);break e}throw Error(ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:aa(r,i),AM(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:aa(r,i),Z8(e,t,r,i,n);case 3:e:{if(EQ(t),e===null)throw Error(ne(387));r=t.pendingProps,o=t.memoizedState,i=o.element,YY(e,t),VS(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Xp(Error(ne(423)),t),t=eB(e,t,r,n,i);break e}else if(r!==i){i=Xp(Error(ne(424)),t),t=eB(e,t,r,n,i);break e}else for(Vi=uc(t.stateNode.containerInfo.firstChild),Yi=t,Wt=!0,pa=null,n=XY(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hp(),r===i){t=Xl(e,t,n);break e}Ur(e,t,r,n)}t=t.child}return t;case 5:return QY(t),e===null&&xM(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,gM(r,i)?a=null:o!==null&&gM(r,o)&&(t.flags|=32),SQ(e,t),Ur(e,t,a,n),t.child;case 6:return e===null&&xM(t),null;case 13:return _Q(e,t,n);case 4:return w3(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gp(t,null,r,n):Ur(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:aa(r,i),Q8(e,t,r,i,n);case 7:return Ur(e,t,t.pendingProps,n),t.child;case 8:return Ur(e,t,t.pendingProps.children,n),t.child;case 12:return Ur(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Pt(HS,r._currentValue),r._currentValue=a,o!==null)if(Ca(o.value,a)){if(o.children===i.children&&!bi.current){t=Xl(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ml(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),wM(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ne(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),wM(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ur(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,hp(t,n),i=Fo(i),r=r(i),t.flags|=1,Ur(e,t,r,n),t.child;case 14:return r=t.type,i=aa(r,t.pendingProps),i=aa(r.type,i),J8(e,t,r,i,n);case 15:return xQ(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:aa(r,i),Gw(e,t),t.tag=1,xi(r)?(e=!0,US(t)):e=!1,hp(t,n),yQ(t,r,i),EM(t,r,i,n),$M(null,t,r,!0,e,n);case 19:return AQ(e,t,n);case 22:return wQ(e,t,n)}throw Error(ne(156,t.tag))};function BQ(e,t){return pY(e,t)}function Kye(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oo(e,t,n,r){return new Kye(e,t,n,r)}function I3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yye(e){if(typeof e=="function")return I3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===t3)return 11;if(e===n3)return 14}return 2}function hc(e,t){var n=e.alternate;return n===null?(n=Oo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kw(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")I3(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Bh:return Qf(n.children,i,o,t);case e3:a=8,i|=8;break;case VT:return e=Oo(12,n,t,i|2),e.elementType=VT,e.lanes=o,e;case XT:return e=Oo(13,n,t,i),e.elementType=XT,e.lanes=o,e;case KT:return e=Oo(19,n,t,i),e.elementType=KT,e.lanes=o,e;case QK:return X_(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case KK:a=10;break e;case YK:a=9;break e;case t3:a=11;break e;case n3:a=14;break e;case Tu:a=16,r=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=Oo(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Qf(e,t,n,r){return e=Oo(7,e,r,t),e.lanes=n,e}function X_(e,t,n,r){return e=Oo(22,e,r,t),e.elementType=QK,e.lanes=n,e.stateNode={isHidden:!1},e}function vk(e,t,n){return e=Oo(6,e,null,t),e.lanes=n,e}function bk(e,t,n){return t=Oo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qye(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ZC(0),this.expirationTimes=ZC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ZC(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function F3(e,t,n,r,i,o,a,s,l){return e=new Qye(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Oo(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},x3(o),e}function Jye(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function UQ(e){if(!e)return Sc;e=e._reactInternals;e:{if(qd(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(xi(n))return UY(e,n,t)}return t}function WQ(e,t,n,r,i,o,a,s,l){return e=F3(n,r,!0,e,i,o,a,s,l),e.context=UQ(null),n=e.current,r=Zr(),i=dc(n),o=Ml(r,i),o.callback=t??null,cc(n,o,i),e.current.lanes=i,W1(e,i,r),wi(e,r),e}function K_(e,t,n,r){var i=t.current,o=Zr(),a=dc(i);return n=UQ(n),t.context===null?t.context=n:t.pendingContext=n,t=Ml(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cc(i,t,a),e!==null&&(Aa(e,i,a,o),Ww(e,i,a)),a}function tE(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cB(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function j3(e,t){cB(e,t),(e=e.alternate)&&cB(e,t)}function Zye(){return null}var qQ=typeof reportError=="function"?reportError:function(e){console.error(e)};function L3(e){this._internalRoot=e}Y_.prototype.render=L3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));K_(e,t,null,null)};Y_.prototype.unmount=L3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pd(function(){K_(null,e,null,null)}),t[Gl]=null}};function Y_(e){this._internalRoot=e}Y_.prototype.unstable_scheduleHydration=function(e){if(e){var t=wY();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lu.length&&t!==0&&t<Lu[n].priority;n++);Lu.splice(n,0,e),n===0&&EY(e)}};function z3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Q_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fB(){}function e0e(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=tE(a);o.call(u)}}var a=WQ(t,r,e,0,null,!1,!1,"",fB);return e._reactRootContainer=a,e[Gl]=a.current,sv(e.nodeType===8?e.parentNode:e),pd(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=tE(l);s.call(u)}}var l=F3(e,0,!1,null,null,!1,!1,"",fB);return e._reactRootContainer=l,e[Gl]=l.current,sv(e.nodeType===8?e.parentNode:e),pd(function(){K_(t,l,n,r)}),l}function J_(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=tE(a);s.call(l)}}K_(t,a,e,i)}else a=e0e(n,t,e,i,r);return tE(a)}bY=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gy(t.pendingLanes);n!==0&&(o3(t,n|1),wi(t,fn()),!(Ye&6)&&(Kp=fn()+500,Hc()))}break;case 13:pd(function(){var r=Vl(e,1);if(r!==null){var i=Zr();Aa(r,e,1,i)}}),j3(e,1)}};a3=function(e){if(e.tag===13){var t=Vl(e,134217728);if(t!==null){var n=Zr();Aa(t,e,134217728,n)}j3(e,134217728)}};xY=function(e){if(e.tag===13){var t=dc(e),n=Vl(e,t);if(n!==null){var r=Zr();Aa(n,e,t,r)}j3(e,t)}};wY=function(){return ht};SY=function(e,t){var n=ht;try{return ht=e,t()}finally{ht=n}};oM=function(e,t,n){switch(t){case"input":if(JT(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=U_(r);if(!i)throw Error(ne(90));ZK(r),JT(r,i)}}}break;case"textarea":tY(e,n);break;case"select":t=n.value,t!=null&&up(e,!!n.multiple,t,!1)}};lY=N3;uY=pd;var t0e={usingClientEntryPoint:!1,Events:[H1,Hh,U_,aY,sY,N3]},ly={findFiberByHostInstance:jf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n0e={bundleType:ly.bundleType,version:ly.version,rendererPackageName:ly.rendererPackageName,rendererConfig:ly.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dY(e),e===null?null:e.stateNode},findFiberByHostInstance:ly.findFiberByHostInstance||Zye,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tx.isDisabled&&Tx.supportsFiber)try{j_=Tx.inject(n0e),ws=Tx}catch{}}fo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t0e;fo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z3(t))throw Error(ne(200));return Jye(e,t,null,n)};fo.createRoot=function(e,t){if(!z3(e))throw Error(ne(299));var n=!1,r="",i=qQ;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=F3(e,1,!1,null,null,n,!1,r,i),e[Gl]=t.current,sv(e.nodeType===8?e.parentNode:e),new L3(t)};fo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=dY(t),e=e===null?null:e.stateNode,e};fo.flushSync=function(e){return pd(e)};fo.hydrate=function(e,t,n){if(!Q_(t))throw Error(ne(200));return J_(null,e,t,!0,n)};fo.hydrateRoot=function(e,t,n){if(!z3(e))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=qQ;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=WQ(t,null,e,1,n??null,i,!1,o,a),e[Gl]=t.current,sv(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Y_(t)};fo.render=function(e,t,n){if(!Q_(t))throw Error(ne(200));return J_(null,e,t,!1,n)};fo.unmountComponentAtNode=function(e){if(!Q_(e))throw Error(ne(40));return e._reactRootContainer?(pd(function(){J_(null,null,e,!1,function(){e._reactRootContainer=null,e[Gl]=null})}),!0):!1};fo.unstable_batchedUpdates=N3;fo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Q_(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return J_(e,t,n,!1,r)};fo.version="18.3.1-next-f1338f8080-20240426";function HQ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HQ)}catch(e){console.error(e)}}HQ(),HK.exports=fo;var V1=HK.exports;const GQ=lt(V1);var VQ,dB=V1;VQ=dB.createRoot,dB.hydrateRoot;const r0e=1,i0e=1e6;let xk=0;function o0e(){return xk=(xk+1)%Number.MAX_SAFE_INTEGER,xk.toString()}const wk=new Map,hB=e=>{if(wk.has(e))return;const t=setTimeout(()=>{wk.delete(e),P0({type:"REMOVE_TOAST",toastId:e})},i0e);wk.set(e,t)},a0e=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,r0e)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?hB(n):e.toasts.forEach(r=>{hB(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Yw=[];let Qw={toasts:[]};function P0(e){Qw=a0e(Qw,e),Yw.forEach(t=>{t(Qw)})}function s0e({...e}){const t=o0e(),n=i=>P0({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>P0({type:"DISMISS_TOAST",toastId:t});return P0({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function l0e(){const[e,t]=T.useState(Qw);return T.useEffect(()=>(Yw.push(t),()=>{const n=Yw.indexOf(t);n>-1&&Yw.splice(n,1)}),[e]),{...e,toast:s0e,dismiss:n=>P0({type:"DISMISS_TOAST",toastId:n})}}function $n(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function u0e(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function XQ(...e){return t=>e.forEach(n=>u0e(n,t))}function ka(...e){return T.useCallback(XQ(...e),e)}function c0e(e,t=[]){let n=[];function r(o,a){const s=T.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][l])||s,m=T.useMemo(()=>p,Object.values(p));return j.jsx(g.Provider,{value:m,children:h})}function c(f,d){const h=(d==null?void 0:d[e][l])||s,p=T.useContext(h);if(p)return p;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=n.map(a=>T.createContext(a));return function(s){const l=(s==null?void 0:s[e])||o;return T.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,f0e(i,...t)]}function f0e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...s,...f}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var mv=T.forwardRef((e,t)=>{const{children:n,...r}=e,i=T.Children.toArray(n),o=i.find(d0e);if(o){const a=o.props.children,s=i.map(l=>l===o?T.Children.count(a)>1?T.Children.only(null):T.isValidElement(a)?a.props.children:null:l);return j.jsx(jM,{...r,ref:t,children:T.isValidElement(a)?T.cloneElement(a,void 0,s):null})}return j.jsx(jM,{...r,ref:t,children:n})});mv.displayName="Slot";var jM=T.forwardRef((e,t)=>{const{children:n,...r}=e;if(T.isValidElement(n)){const i=p0e(n);return T.cloneElement(n,{...h0e(r,n.props),ref:t?XQ(t,i):i})}return T.Children.count(n)>1?T.Children.only(null):null});jM.displayName="SlotClone";var KQ=({children:e})=>j.jsx(j.Fragment,{children:e});function d0e(e){return T.isValidElement(e)&&e.type===KQ}function h0e(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{o(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function p0e(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function g0e(e){const t=e+"CollectionProvider",[n,r]=c0e(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:p,children:g}=h,m=D.useRef(null),y=D.useRef(new Map).current;return j.jsx(i,{scope:p,itemMap:y,collectionRef:m,children:g})};a.displayName=t;const s=e+"CollectionSlot",l=D.forwardRef((h,p)=>{const{scope:g,children:m}=h,y=o(s,g),v=ka(p,y.collectionRef);return j.jsx(mv,{ref:v,children:m})});l.displayName=s;const u=e+"CollectionItemSlot",c="data-radix-collection-item",f=D.forwardRef((h,p)=>{const{scope:g,children:m,...y}=h,v=D.useRef(null),b=ka(p,v),x=o(u,g);return D.useEffect(()=>(x.itemMap.set(v,{ref:v,...y}),()=>void x.itemMap.delete(v))),j.jsx(mv,{[c]:"",ref:b,children:m})});f.displayName=u;function d(h){const p=o(e+"CollectionConsumer",h);return D.useCallback(()=>{const m=p.collectionRef.current;if(!m)return[];const y=Array.from(m.querySelectorAll(`[${c}]`));return Array.from(p.itemMap.values()).sort((x,w)=>y.indexOf(x.ref.current)-y.indexOf(w.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:a,Slot:l,ItemSlot:f},d,r]}function YQ(e,t=[]){let n=[];function r(o,a){const s=T.createContext(a),l=n.length;n=[...n,a];const u=f=>{var y;const{scope:d,children:h,...p}=f,g=((y=d==null?void 0:d[e])==null?void 0:y[l])||s,m=T.useMemo(()=>p,Object.values(p));return j.jsx(g.Provider,{value:m,children:h})};u.displayName=o+"Provider";function c(f,d){var g;const h=((g=d==null?void 0:d[e])==null?void 0:g[l])||s,p=T.useContext(h);if(p)return p;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,c]}const i=()=>{const o=n.map(a=>T.createContext(a));return function(s){const l=(s==null?void 0:s[e])||o;return T.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,m0e(i,...t)]}function m0e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...s,...f}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var y0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pi=y0e.reduce((e,t)=>{const n=T.forwardRef((r,i)=>{const{asChild:o,...a}=r,s=o?mv:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),j.jsx(s,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function QQ(e,t){e&&V1.flushSync(()=>e.dispatchEvent(t))}function Ms(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function v0e(e,t=globalThis==null?void 0:globalThis.document){const n=Ms(e);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var b0e="DismissableLayer",LM="dismissableLayer.update",x0e="dismissableLayer.pointerDownOutside",w0e="dismissableLayer.focusOutside",pB,JQ=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),B3=T.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=e,u=T.useContext(JQ),[c,f]=T.useState(null),d=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=T.useState({}),p=ka(t,S=>f(S)),g=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(m),v=c?g.indexOf(c):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,x=v>=y,w=E0e(S=>{const A=S.target,$=[...u.branches].some(_=>_.contains(A));!x||$||(i==null||i(S),a==null||a(S),S.defaultPrevented||s==null||s())},d),E=_0e(S=>{const A=S.target;[...u.branches].some(_=>_.contains(A))||(o==null||o(S),a==null||a(S),S.defaultPrevented||s==null||s())},d);return v0e(S=>{v===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&s&&(S.preventDefault(),s()))},d),T.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(pB=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),gB(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=pB)}},[c,d,n,u]),T.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),gB())},[c,u]),T.useEffect(()=>{const S=()=>h({});return document.addEventListener(LM,S),()=>document.removeEventListener(LM,S)},[]),j.jsx(Pi.div,{...l,ref:p,style:{pointerEvents:b?x?"auto":"none":void 0,...e.style},onFocusCapture:$n(e.onFocusCapture,E.onFocusCapture),onBlurCapture:$n(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:$n(e.onPointerDownCapture,w.onPointerDownCapture)})});B3.displayName=b0e;var S0e="DismissableLayerBranch",ZQ=T.forwardRef((e,t)=>{const n=T.useContext(JQ),r=T.useRef(null),i=ka(t,r);return T.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),j.jsx(Pi.div,{...e,ref:i})});ZQ.displayName=S0e;function E0e(e,t=globalThis==null?void 0:globalThis.document){const n=Ms(e),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){eJ(x0e,n,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function _0e(e,t=globalThis==null?void 0:globalThis.document){const n=Ms(e),r=T.useRef(!1);return T.useEffect(()=>{const i=o=>{o.target&&!r.current&&eJ(w0e,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gB(){const e=new CustomEvent(LM);document.dispatchEvent(e)}function eJ(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?QQ(i,o):i.dispatchEvent(o)}var A0e=B3,$0e=ZQ,gd=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},O0e="Portal",tJ=T.forwardRef((e,t)=>{var s;const{container:n,...r}=e,[i,o]=T.useState(!1);gd(()=>o(!0),[]);const a=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?GQ.createPortal(j.jsx(Pi.div,{...r,ref:t}),a):null});tJ.displayName=O0e;function C0e(e,t){return T.useReducer((n,r)=>t[n][r]??n,e)}var U3=e=>{const{present:t,children:n}=e,r=k0e(t),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),o=ka(r.ref,P0e(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:o}):null};U3.displayName="Presence";function k0e(e){const[t,n]=T.useState(),r=T.useRef({}),i=T.useRef(e),o=T.useRef("none"),a=e?"mounted":"unmounted",[s,l]=C0e(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=Mx(r.current);o.current=s==="mounted"?u:"none"},[s]),gd(()=>{const u=r.current,c=i.current;if(c!==e){const d=o.current,h=Mx(u);e?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),gd(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,f=h=>{const g=Mx(r.current).includes(h.animationName);if(h.target===t&&g&&(l("ANIMATION_END"),!i.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},d=h=>{h.target===t&&(o.current=Mx(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:T.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Mx(e){return(e==null?void 0:e.animationName)||"none"}function P0e(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function T0e({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=M0e({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:r,s=Ms(n),l=T.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&s(f)}else i(u)},[o,e,i,s]);return[a,l]}function M0e({defaultProp:e,onChange:t}){const n=T.useState(e),[r]=n,i=T.useRef(r),o=Ms(t);return T.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var N0e="VisuallyHidden",Z_=T.forwardRef((e,t)=>j.jsx(Pi.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Z_.displayName=N0e;var R0e=Z_,W3="ToastProvider",[q3,D0e,I0e]=g0e("Toast"),[nJ,aAt]=YQ("Toast",[I0e]),[F0e,eA]=nJ(W3),rJ=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=e,[s,l]=T.useState(null),[u,c]=T.useState(0),f=T.useRef(!1),d=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${W3}\`. Expected non-empty \`string\`.`),j.jsx(q3.Provider,{scope:t,children:j.jsx(F0e,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:s,onViewportChange:l,onToastAdd:T.useCallback(()=>c(h=>h+1),[]),onToastRemove:T.useCallback(()=>c(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:a})})};rJ.displayName=W3;var iJ="ToastViewport",j0e=["F8"],zM="toast.viewportPause",BM="toast.viewportResume",oJ=T.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=j0e,label:i="Notifications ({hotkey})",...o}=e,a=eA(iJ,n),s=D0e(n),l=T.useRef(null),u=T.useRef(null),c=T.useRef(null),f=T.useRef(null),d=ka(t,f,a.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=a.toastCount>0;T.useEffect(()=>{const m=y=>{var b;r.length!==0&&r.every(x=>y[x]||y.code===x)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[r]),T.useEffect(()=>{const m=l.current,y=f.current;if(p&&m&&y){const v=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(zM);y.dispatchEvent(E),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent(BM);y.dispatchEvent(E),a.isClosePausedRef.current=!1}},x=E=>{!m.contains(E.relatedTarget)&&b()},w=()=>{m.contains(document.activeElement)||b()};return m.addEventListener("focusin",v),m.addEventListener("focusout",x),m.addEventListener("pointermove",v),m.addEventListener("pointerleave",w),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{m.removeEventListener("focusin",v),m.removeEventListener("focusout",x),m.removeEventListener("pointermove",v),m.removeEventListener("pointerleave",w),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[p,a.isClosePausedRef]);const g=T.useCallback(({tabbingDirection:m})=>{const v=s().map(b=>{const x=b.ref.current,w=[x,...Q0e(x)];return m==="forwards"?w:w.reverse()});return(m==="forwards"?v.reverse():v).flat()},[s]);return T.useEffect(()=>{const m=f.current;if(m){const y=v=>{var w,E,S;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const A=document.activeElement,$=v.shiftKey;if(v.target===m&&$){(w=u.current)==null||w.focus();return}const P=g({tabbingDirection:$?"backwards":"forwards"}),R=P.findIndex(k=>k===A);Sk(P.slice(R+1))?v.preventDefault():$?(E=u.current)==null||E.focus():(S=c.current)==null||S.focus()}};return m.addEventListener("keydown",y),()=>m.removeEventListener("keydown",y)}},[s,g]),j.jsxs($0e,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&j.jsx(UM,{ref:u,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"forwards"});Sk(m)}}),j.jsx(q3.Slot,{scope:n,children:j.jsx(Pi.ol,{tabIndex:-1,...o,ref:d})}),p&&j.jsx(UM,{ref:c,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"backwards"});Sk(m)}})]})});oJ.displayName=iJ;var aJ="ToastFocusProxy",UM=T.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=eA(aJ,n);return j.jsx(Z_,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const s=a.relatedTarget;!((u=o.viewport)!=null&&u.contains(s))&&r()}})});UM.displayName=aJ;var tA="Toast",L0e="toast.swipeStart",z0e="toast.swipeMove",B0e="toast.swipeCancel",U0e="toast.swipeEnd",sJ=T.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=e,[s=!0,l]=T0e({prop:r,defaultProp:i,onChange:o});return j.jsx(U3,{present:n||s,children:j.jsx(H0e,{open:s,...a,ref:t,onClose:()=>l(!1),onPause:Ms(e.onPause),onResume:Ms(e.onResume),onSwipeStart:$n(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$n(e.onSwipeMove,u=>{const{x:c,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:$n(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$n(e.onSwipeEnd,u=>{const{x:c,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});sJ.displayName=tA;var[W0e,q0e]=nJ(tA,{onClose(){}}),H0e=T.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:s,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...p}=e,g=eA(tA,n),[m,y]=T.useState(null),v=ka(t,k=>y(k)),b=T.useRef(null),x=T.useRef(null),w=i||g.duration,E=T.useRef(0),S=T.useRef(w),A=T.useRef(0),{onToastAdd:$,onToastRemove:_}=g,O=Ms(()=>{var C;(m==null?void 0:m.contains(document.activeElement))&&((C=g.viewport)==null||C.focus()),a()}),P=T.useCallback(k=>{!k||k===1/0||(window.clearTimeout(A.current),E.current=new Date().getTime(),A.current=window.setTimeout(O,k))},[O]);T.useEffect(()=>{const k=g.viewport;if(k){const C=()=>{P(S.current),u==null||u()},M=()=>{const I=new Date().getTime()-E.current;S.current=S.current-I,window.clearTimeout(A.current),l==null||l()};return k.addEventListener(zM,M),k.addEventListener(BM,C),()=>{k.removeEventListener(zM,M),k.removeEventListener(BM,C)}}},[g.viewport,w,l,u,P]),T.useEffect(()=>{o&&!g.isClosePausedRef.current&&P(w)},[o,w,g.isClosePausedRef,P]),T.useEffect(()=>($(),()=>_()),[$,_]);const R=T.useMemo(()=>m?pJ(m):null,[m]);return g.viewport?j.jsxs(j.Fragment,{children:[R&&j.jsx(G0e,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),j.jsx(W0e,{scope:n,onClose:O,children:V1.createPortal(j.jsx(q3.ItemSlot,{scope:n,children:j.jsx(A0e,{asChild:!0,onEscapeKeyDown:$n(s,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:j.jsx(Pi.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:$n(e.onKeyDown,k=>{k.key==="Escape"&&(s==null||s(k.nativeEvent),k.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:$n(e.onPointerDown,k=>{k.button===0&&(b.current={x:k.clientX,y:k.clientY})}),onPointerMove:$n(e.onPointerMove,k=>{if(!b.current)return;const C=k.clientX-b.current.x,M=k.clientY-b.current.y,I=!!x.current,N=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,L=N?F(0,C):0,z=N?0:F(0,M),B=k.pointerType==="touch"?10:2,V={x:L,y:z},ce={originalEvent:k,delta:V};I?(x.current=V,Nx(z0e,f,ce,{discrete:!1})):mB(V,g.swipeDirection,B)?(x.current=V,Nx(L0e,c,ce,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(C)>B||Math.abs(M)>B)&&(b.current=null)}),onPointerUp:$n(e.onPointerUp,k=>{const C=x.current,M=k.target;if(M.hasPointerCapture(k.pointerId)&&M.releasePointerCapture(k.pointerId),x.current=null,b.current=null,C){const I=k.currentTarget,N={originalEvent:k,delta:C};mB(C,g.swipeDirection,g.swipeThreshold)?Nx(U0e,h,N,{discrete:!0}):Nx(B0e,d,N,{discrete:!0}),I.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),G0e=e=>{const{__scopeToast:t,children:n,...r}=e,i=eA(tA,t),[o,a]=T.useState(!1),[s,l]=T.useState(!1);return K0e(()=>a(!0)),T.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:j.jsx(tJ,{asChild:!0,children:j.jsx(Z_,{...r,children:o&&j.jsxs(j.Fragment,{children:[i.label," ",n]})})})},V0e="ToastTitle",lJ=T.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return j.jsx(Pi.div,{...r,ref:t})});lJ.displayName=V0e;var X0e="ToastDescription",uJ=T.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return j.jsx(Pi.div,{...r,ref:t})});uJ.displayName=X0e;var cJ="ToastAction",fJ=T.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?j.jsx(hJ,{altText:n,asChild:!0,children:j.jsx(H3,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${cJ}\`. Expected non-empty \`string\`.`),null)});fJ.displayName=cJ;var dJ="ToastClose",H3=T.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=q0e(dJ,n);return j.jsx(hJ,{asChild:!0,children:j.jsx(Pi.button,{type:"button",...r,ref:t,onClick:$n(e.onClick,i.onClose)})})});H3.displayName=dJ;var hJ=T.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return j.jsx(Pi.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function pJ(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Y0e(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...pJ(r))}}),t}function Nx(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?QQ(i,o):i.dispatchEvent(o)}var mB=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function K0e(e=()=>{}){const t=Ms(e);gd(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Y0e(e){return e.nodeType===e.ELEMENT_NODE}function Q0e(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Sk(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var J0e=rJ,gJ=oJ,mJ=sJ,yJ=lJ,vJ=uJ,bJ=fJ,xJ=H3;function wJ(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=wJ(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ke(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=wJ(e))&&(r&&(r+=" "),r+=t);return r}const yB=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,vB=ke,SJ=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return vB(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(u=>{const c=n==null?void 0:n[u],f=o==null?void 0:o[u];if(c===null)return null;const d=yB(c)||yB(f);return i[u][d]}),s=n&&Object.entries(n).reduce((u,c)=>{let[f,d]=c;return d===void 0||(u[f]=d),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:f,className:d,...h}=c;return Object.entries(h).every(p=>{let[g,m]=p;return Array.isArray(m)?m.includes({...o,...s}[g]):{...o,...s}[g]===m})?[...u,f,d]:u},[]);return vB(e,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0e=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EJ=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eve={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tve=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>T.createElement("svg",{ref:l,...eve,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:EJ("lucide",i),...s},[...a.map(([u,c])=>T.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=(e,t)=>{const n=T.forwardRef(({className:r,...i},o)=>T.createElement(tve,{ref:o,iconNode:t,className:EJ(`lucide-${Z0e(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nve=G3("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rve=G3("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=G3("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),V3="-",ive=e=>{const t=ave(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const s=a.split(V3);return s[0]===""&&s.length!==1&&s.shift(),_J(s,t)||ove(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},_J=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?_J(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(V3);return(a=t.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},bB=/^\[(.+)\]$/,ove=e=>{if(bB.test(e)){const t=bB.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ave=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return lve(Object.entries(e.classGroups),n).forEach(([o,a])=>{qM(a,r,o,t)}),r},qM=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:xB(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(sve(i)){qM(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{qM(a,xB(t,o),n,r)})})},xB=(e,t)=>{let n=e;return t.split(V3).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sve=e=>e.isThemeGetter,lve=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[t+a,s])):o);return[n,i]}):e,uve=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},AJ="!",cve=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,a=s=>{const l=[];let u=0,c=0,f;for(let m=0;m<s.length;m++){let y=s[m];if(u===0){if(y===i&&(r||s.slice(m,m+o)===t)){l.push(s.slice(c,m)),c=m+o;continue}if(y==="/"){f=m;continue}}y==="["?u++:y==="]"&&u--}const d=l.length===0?s:s.substring(c),h=d.startsWith(AJ),p=h?d.substring(1):d,g=f&&f>c?f-c:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}};return n?s=>n({className:s,parseClassName:a}):a},fve=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},dve=e=>({cache:uve(e.cacheSize),parseClassName:cve(e),...ive(e)}),hve=/\s+/,pve=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],a=e.trim().split(hve);let s="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:c,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}=n(u);let p=!!h,g=r(p?d.substring(0,h):d);if(!g){if(!p){s=u+(s.length>0?" "+s:s);continue}if(g=r(d),!g){s=u+(s.length>0?" "+s:s);continue}p=!1}const m=fve(c).join(":"),y=f?m+AJ:m,v=y+g;if(o.includes(v))continue;o.push(v);const b=i(g,p);for(let x=0;x<b.length;++x){const w=b[x];o.push(y+w)}s=u+(s.length>0?" "+s:s)}return s};function gve(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=$J(t))&&(r&&(r+=" "),r+=n);return r}const $J=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=$J(e[r]))&&(n&&(n+=" "),n+=t);return n};function mve(e,...t){let n,r,i,o=a;function a(l){const u=t.reduce((c,f)=>f(c),e());return n=dve(u),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const u=r(l);if(u)return u;const c=pve(l,n);return i(l,c),c}return function(){return o(gve.apply(null,arguments))}}const Rt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},OJ=/^\[(?:([a-z-]+):)?(.+)\]$/i,yve=/^\d+\/\d+$/,vve=new Set(["px","full","screen"]),bve=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xve=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wve=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Sve=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Eve=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ol=e=>gp(e)||vve.has(e)||yve.test(e),Eu=e=>um(e,"length",Tve),gp=e=>!!e&&!Number.isNaN(Number(e)),Ek=e=>um(e,"number",gp),uy=e=>!!e&&Number.isInteger(Number(e)),_ve=e=>e.endsWith("%")&&gp(e.slice(0,-1)),Fe=e=>OJ.test(e),_u=e=>bve.test(e),Ave=new Set(["length","size","percentage"]),$ve=e=>um(e,Ave,CJ),Ove=e=>um(e,"position",CJ),Cve=new Set(["image","url"]),kve=e=>um(e,Cve,Nve),Pve=e=>um(e,"",Mve),cy=()=>!0,um=(e,t,n)=>{const r=OJ.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Tve=e=>xve.test(e)&&!wve.test(e),CJ=()=>!1,Mve=e=>Sve.test(e),Nve=e=>Eve.test(e),Rve=()=>{const e=Rt("colors"),t=Rt("spacing"),n=Rt("blur"),r=Rt("brightness"),i=Rt("borderColor"),o=Rt("borderRadius"),a=Rt("borderSpacing"),s=Rt("borderWidth"),l=Rt("contrast"),u=Rt("grayscale"),c=Rt("hueRotate"),f=Rt("invert"),d=Rt("gap"),h=Rt("gradientColorStops"),p=Rt("gradientColorStopPositions"),g=Rt("inset"),m=Rt("margin"),y=Rt("opacity"),v=Rt("padding"),b=Rt("saturate"),x=Rt("scale"),w=Rt("sepia"),E=Rt("skew"),S=Rt("space"),A=Rt("translate"),$=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Fe,t],P=()=>[Fe,t],R=()=>["",ol,Eu],k=()=>["auto",gp,Fe],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Fe],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[gp,Fe];return{cacheSize:500,separator:":",theme:{colors:[cy],spacing:[ol,Eu],blur:["none","",_u,Fe],brightness:z(),borderColor:[e],borderRadius:["none","","full",_u,Fe],borderSpacing:P(),borderWidth:R(),contrast:z(),grayscale:F(),hueRotate:z(),invert:F(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[_ve,Eu],inset:O(),margin:O(),opacity:z(),padding:P(),saturate:z(),scale:z(),sepia:F(),skew:z(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[_u]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),Fe]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uy,Fe]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",uy,Fe]}],"grid-cols":[{"grid-cols":[cy]}],"col-start-end":[{col:["auto",{span:["full",uy,Fe]},Fe]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[cy]}],"row-start-end":[{row:["auto",{span:[uy,Fe]},Fe]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,t]}],"min-w":[{"min-w":[Fe,t,"min","max","fit"]}],"max-w":[{"max-w":[Fe,t,"none","full","min","max","fit","prose",{screen:[_u]},_u]}],h:[{h:[Fe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",_u,Eu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ek]}],"font-family":[{font:[cy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",gp,Ek]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ol,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ol,Eu]}],"underline-offset":[{"underline-offset":["auto",ol,Fe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),Ove]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$ve]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kve]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[ol,Fe]}],"outline-w":[{outline:[ol,Eu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ol,Eu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_u,Pve]}],"shadow-color":[{shadow:[cy]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",_u,Fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[uy,Fe]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ol,Eu,Ek]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Dve=mve(Rve);function uu(...e){return Dve(ke(e))}const Ive=J0e,kJ=T.forwardRef(({className:e,...t},n)=>j.jsx(gJ,{ref:n,className:uu("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));kJ.displayName=gJ.displayName;const Fve=SJ("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),PJ=T.forwardRef(({className:e,variant:t,...n},r)=>j.jsx(mJ,{ref:r,className:uu(Fve({variant:t}),e),...n}));PJ.displayName=mJ.displayName;const jve=T.forwardRef(({className:e,...t},n)=>j.jsx(bJ,{ref:n,className:uu("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));jve.displayName=bJ.displayName;const TJ=T.forwardRef(({className:e,...t},n)=>j.jsx(xJ,{ref:n,className:uu("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:j.jsx(WM,{className:"h-4 w-4"})}));TJ.displayName=xJ.displayName;const MJ=T.forwardRef(({className:e,...t},n)=>j.jsx(yJ,{ref:n,className:uu("text-sm font-semibold",e),...t}));MJ.displayName=yJ.displayName;const NJ=T.forwardRef(({className:e,...t},n)=>j.jsx(vJ,{ref:n,className:uu("text-sm opacity-90",e),...t}));NJ.displayName=vJ.displayName;function Lve(){const{toasts:e}=l0e();return j.jsxs(Ive,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return j.jsxs(PJ,{...o,children:[j.jsxs("div",{className:"grid gap-1",children:[n&&j.jsx(MJ,{children:n}),r&&j.jsx(NJ,{children:r})]}),i,j.jsx(TJ,{})]},t)}),j.jsx(kJ,{})]})}var wB=["light","dark"],zve="(prefers-color-scheme: dark)",Bve=T.createContext(void 0),Uve={setTheme:e=>{},themes:[]},Wve=()=>{var e;return(e=T.useContext(Bve))!=null?e:Uve};T.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:a,attrs:s,nonce:l})=>{let u=o==="system",c=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?wB.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(p,g=!1,m=!0)=>{let y=a?a[p]:p,v=g?p+"|| ''":`'${y}'`,b="";return i&&m&&!g&&wB.includes(p)&&(b+=`d.style.colorScheme = '${p}';`),n==="class"?g||y?b+=`c.add(${v})`:b+="null":y&&(b+=`d[s](n,${v})`),b},h=e?`!function(){${c}${d(e)}}()`:r?`!function(){try{${c}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${zve}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${d(a?"x[e]":"e",!0)}}${u?"":"else{"+d(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${d(a?"x[e]":"e",!0)}}else{${d(o,!1,!1)};}${f}}catch(t){}}();`;return T.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var qve=e=>{switch(e){case"success":return Vve;case"info":return Kve;case"warning":return Xve;case"error":return Yve;default:return null}},Hve=Array(12).fill(0),Gve=({visible:e})=>D.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},D.createElement("div",{className:"sonner-spinner"},Hve.map((t,n)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Vve=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Xve=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Kve=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Yve=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Qve=()=>{let[e,t]=D.useState(document.hidden);return D.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},HM=1,Jve=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:HM++,o=this.toasts.find(s=>s.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...e,id:i,title:n}),{...s,...e,id:i,dismissible:a,title:n}):s):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0;return r.then(async o=>{if(e1e(o)&&!o.ok){i=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,s=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:n,type:"error",message:a,description:s})}else if(t.success!==void 0){i=!1;let a=typeof t.success=="function"?await t.success(o):t.success,s=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"success",message:a,description:s})}}).catch(async o=>{if(t.error!==void 0){i=!1;let a=typeof t.error=="function"?await t.error(o):t.error,s=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"error",message:a,description:s})}}).finally(()=>{var o;i&&(this.dismiss(n),n=void 0),(o=t.finally)==null||o.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||HM++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},ji=new Jve,Zve=(e,t)=>{let n=(t==null?void 0:t.id)||HM++;return ji.addToast({title:e,...t,id:n}),n},e1e=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",t1e=Zve,n1e=()=>ji.toasts;Object.assign(t1e,{success:ji.success,info:ji.info,warning:ji.warning,error:ji.error,custom:ji.custom,message:ji.message,promise:ji.promise,dismiss:ji.dismiss,loading:ji.loading},{getHistory:n1e});function r1e(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}r1e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Rx(e){return e.label!==void 0}var i1e=3,o1e="32px",a1e=4e3,s1e=356,l1e=14,u1e=20,c1e=200;function f1e(...e){return e.filter(Boolean).join(" ")}var d1e=e=>{var t,n,r,i,o,a,s,l,u,c;let{invert:f,toast:d,unstyled:h,interacting:p,setHeights:g,visibleToasts:m,heights:y,index:v,toasts:b,expanded:x,removeToast:w,defaultRichColors:E,closeButton:S,style:A,cancelButtonStyle:$,actionButtonStyle:_,className:O="",descriptionClassName:P="",duration:R,position:k,gap:C,loadingIcon:M,expandByDefault:I,classNames:N,icons:F,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:z,cn:B}=e,[V,ce]=D.useState(!1),[fe,Ee]=D.useState(!1),[Xe,Mt]=D.useState(!1),[ae,ve]=D.useState(!1),[$e,Q]=D.useState(0),[Je,De]=D.useState(0),ct=D.useRef(null),Ze=D.useRef(null),En=v===0,Ni=v+1<=m,Zt=d.type,ci=d.dismissible!==!1,il=d.className||"",ey=d.descriptionClassName||"",cf=D.useMemo(()=>y.findIndex(Ie=>Ie.toastId===d.id)||0,[y,d.id]),fx=D.useMemo(()=>{var Ie;return(Ie=d.closeButton)!=null?Ie:S},[d.closeButton,S]),Jz=D.useMemo(()=>d.duration||R||a1e,[d.duration,R]),HC=D.useRef(0),dh=D.useRef(0),Zz=D.useRef(0),hh=D.useRef(null),[e8,Age]=k.split("-"),t8=D.useMemo(()=>y.reduce((Ie,Nt,Ot)=>Ot>=cf?Ie:Ie+Nt.height,0),[y,cf]),n8=Qve(),$ge=d.invert||f,GC=Zt==="loading";dh.current=D.useMemo(()=>cf*C+t8,[cf,t8]),D.useEffect(()=>{ce(!0)},[]),D.useLayoutEffect(()=>{if(!V)return;let Ie=Ze.current,Nt=Ie.style.height;Ie.style.height="auto";let Ot=Ie.getBoundingClientRect().height;Ie.style.height=Nt,De(Ot),g(Qa=>Qa.find(Ja=>Ja.toastId===d.id)?Qa.map(Ja=>Ja.toastId===d.id?{...Ja,height:Ot}:Ja):[{toastId:d.id,height:Ot,position:d.position},...Qa])},[V,d.title,d.description,g,d.id]);let wu=D.useCallback(()=>{Ee(!0),Q(dh.current),g(Ie=>Ie.filter(Nt=>Nt.toastId!==d.id)),setTimeout(()=>{w(d)},c1e)},[d,w,g,dh]);D.useEffect(()=>{if(d.promise&&Zt==="loading"||d.duration===1/0||d.type==="loading")return;let Ie,Nt=Jz;return x||p||z&&n8?(()=>{if(Zz.current<HC.current){let Ot=new Date().getTime()-HC.current;Nt=Nt-Ot}Zz.current=new Date().getTime()})():Nt!==1/0&&(HC.current=new Date().getTime(),Ie=setTimeout(()=>{var Ot;(Ot=d.onAutoClose)==null||Ot.call(d,d),wu()},Nt)),()=>clearTimeout(Ie)},[x,p,I,d,Jz,wu,d.promise,Zt,z,n8]),D.useEffect(()=>{let Ie=Ze.current;if(Ie){let Nt=Ie.getBoundingClientRect().height;return De(Nt),g(Ot=>[{toastId:d.id,height:Nt,position:d.position},...Ot]),()=>g(Ot=>Ot.filter(Qa=>Qa.toastId!==d.id))}},[g,d.id]),D.useEffect(()=>{d.delete&&wu()},[wu,d.delete]);function Oge(){return F!=null&&F.loading?D.createElement("div",{className:"sonner-loader","data-visible":Zt==="loading"},F.loading):M?D.createElement("div",{className:"sonner-loader","data-visible":Zt==="loading"},M):D.createElement(Gve,{visible:Zt==="loading"})}return D.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ze,className:B(O,il,N==null?void 0:N.toast,(t=d==null?void 0:d.classNames)==null?void 0:t.toast,N==null?void 0:N.default,N==null?void 0:N[Zt],(n=d==null?void 0:d.classNames)==null?void 0:n[Zt]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:E,"data-styled":!(d.jsx||d.unstyled||h),"data-mounted":V,"data-promise":!!d.promise,"data-removed":fe,"data-visible":Ni,"data-y-position":e8,"data-x-position":Age,"data-index":v,"data-front":En,"data-swiping":Xe,"data-dismissible":ci,"data-type":Zt,"data-invert":$ge,"data-swipe-out":ae,"data-expanded":!!(x||I&&V),style:{"--index":v,"--toasts-before":v,"--z-index":b.length-v,"--offset":`${fe?$e:dh.current}px`,"--initial-height":I?"auto":`${Je}px`,...A,...d.style},onPointerDown:Ie=>{GC||!ci||(ct.current=new Date,Q(dh.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&(Mt(!0),hh.current={x:Ie.clientX,y:Ie.clientY}))},onPointerUp:()=>{var Ie,Nt,Ot,Qa;if(ae||!ci)return;hh.current=null;let Ja=Number(((Ie=Ze.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount").replace("px",""))||0),dx=new Date().getTime()-((Nt=ct.current)==null?void 0:Nt.getTime()),Cge=Math.abs(Ja)/dx;if(Math.abs(Ja)>=u1e||Cge>.11){Q(dh.current),(Ot=d.onDismiss)==null||Ot.call(d,d),wu(),ve(!0);return}(Qa=Ze.current)==null||Qa.style.setProperty("--swipe-amount","0px"),Mt(!1)},onPointerMove:Ie=>{var Nt;if(!hh.current||!ci)return;let Ot=Ie.clientY-hh.current.y,Qa=Ie.clientX-hh.current.x,Ja=(e8==="top"?Math.min:Math.max)(0,Ot),dx=Ie.pointerType==="touch"?10:2;Math.abs(Ja)>dx?(Nt=Ze.current)==null||Nt.style.setProperty("--swipe-amount",`${Ot}px`):Math.abs(Qa)>dx&&(hh.current=null)}},fx&&!d.jsx?D.createElement("button",{"aria-label":L,"data-disabled":GC,"data-close-button":!0,onClick:GC||!ci?()=>{}:()=>{var Ie;wu(),(Ie=d.onDismiss)==null||Ie.call(d,d)},className:B(N==null?void 0:N.closeButton,(i=d==null?void 0:d.classNames)==null?void 0:i.closeButton)},D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||D.isValidElement(d.title)?d.jsx||d.title:D.createElement(D.Fragment,null,Zt||d.icon||d.promise?D.createElement("div",{"data-icon":"",className:B(N==null?void 0:N.icon,(o=d==null?void 0:d.classNames)==null?void 0:o.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Oge():null,d.type!=="loading"?d.icon||(F==null?void 0:F[Zt])||qve(Zt):null):null,D.createElement("div",{"data-content":"",className:B(N==null?void 0:N.content,(a=d==null?void 0:d.classNames)==null?void 0:a.content)},D.createElement("div",{"data-title":"",className:B(N==null?void 0:N.title,(s=d==null?void 0:d.classNames)==null?void 0:s.title)},d.title),d.description?D.createElement("div",{"data-description":"",className:B(P,ey,N==null?void 0:N.description,(l=d==null?void 0:d.classNames)==null?void 0:l.description)},d.description):null),D.isValidElement(d.cancel)?d.cancel:d.cancel&&Rx(d.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||$,onClick:Ie=>{var Nt,Ot;Rx(d.cancel)&&ci&&((Ot=(Nt=d.cancel).onClick)==null||Ot.call(Nt,Ie),wu())},className:B(N==null?void 0:N.cancelButton,(u=d==null?void 0:d.classNames)==null?void 0:u.cancelButton)},d.cancel.label):null,D.isValidElement(d.action)?d.action:d.action&&Rx(d.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||_,onClick:Ie=>{var Nt,Ot;Rx(d.action)&&(Ie.defaultPrevented||((Ot=(Nt=d.action).onClick)==null||Ot.call(Nt,Ie),wu()))},className:B(N==null?void 0:N.actionButton,(c=d==null?void 0:d.classNames)==null?void 0:c.actionButton)},d.action.label):null))};function SB(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var h1e=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:s,theme:l="light",richColors:u,duration:c,style:f,visibleToasts:d=i1e,toastOptions:h,dir:p=SB(),gap:g=l1e,loadingIcon:m,icons:y,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:b,cn:x=f1e}=e,[w,E]=D.useState([]),S=D.useMemo(()=>Array.from(new Set([n].concat(w.filter(z=>z.position).map(z=>z.position)))),[w,n]),[A,$]=D.useState([]),[_,O]=D.useState(!1),[P,R]=D.useState(!1),[k,C]=D.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=D.useRef(null),I=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=D.useRef(null),F=D.useRef(!1),L=D.useCallback(z=>{var B;(B=w.find(V=>V.id===z.id))!=null&&B.delete||ji.dismiss(z.id),E(V=>V.filter(({id:ce})=>ce!==z.id))},[w]);return D.useEffect(()=>ji.subscribe(z=>{if(z.dismiss){E(B=>B.map(V=>V.id===z.id?{...V,delete:!0}:V));return}setTimeout(()=>{GQ.flushSync(()=>{E(B=>{let V=B.findIndex(ce=>ce.id===z.id);return V!==-1?[...B.slice(0,V),{...B[V],...z},...B.slice(V+1)]:[z,...B]})})})}),[]),D.useEffect(()=>{if(l!=="system"){C(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?C("dark"):C("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{C(z?"dark":"light")})},[l]),D.useEffect(()=>{w.length<=1&&O(!1)},[w]),D.useEffect(()=>{let z=B=>{var V,ce;r.every(fe=>B[fe]||B.code===fe)&&(O(!0),(V=M.current)==null||V.focus()),B.code==="Escape"&&(document.activeElement===M.current||(ce=M.current)!=null&&ce.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[r]),D.useEffect(()=>{if(M.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,F.current=!1)}},[M.current]),w.length?D.createElement("section",{"aria-label":`${v} ${I}`,tabIndex:-1},S.map((z,B)=>{var V;let[ce,fe]=z.split("-");return D.createElement("ol",{key:z,dir:p==="auto"?SB():p,tabIndex:-1,ref:M,className:a,"data-sonner-toaster":!0,"data-theme":k,"data-y-position":ce,"data-x-position":fe,style:{"--front-toast-height":`${((V=A[0])==null?void 0:V.height)||0}px`,"--offset":typeof s=="number"?`${s}px`:s||o1e,"--width":`${s1e}px`,"--gap":`${g}px`,...f},onBlur:Ee=>{F.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(F.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||F.current||(F.current=!0,N.current=Ee.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{P||O(!1)},onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},w.filter(Ee=>!Ee.position&&B===0||Ee.position===z).map((Ee,Xe)=>{var Mt,ae;return D.createElement(d1e,{key:Ee.id,icons:y,index:Xe,toast:Ee,defaultRichColors:u,duration:(Mt=h==null?void 0:h.duration)!=null?Mt:c,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:t,visibleToasts:d,closeButton:(ae=h==null?void 0:h.closeButton)!=null?ae:o,interacting:P,position:z,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,removeToast:L,toasts:w.filter(ve=>ve.position==Ee.position),heights:A.filter(ve=>ve.position==Ee.position),setHeights:$,expandByDefault:i,gap:g,loadingIcon:m,expanded:_,pauseWhenPageIsHidden:b,cn:x})}))})):null};const p1e=({...e})=>{const{theme:t="system"}=Wve();return j.jsx(h1e,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},g1e=["top","right","bottom","left"],Ec=Math.min,Ui=Math.max,nE=Math.round,Dx=Math.floor,_c=e=>({x:e,y:e}),m1e={left:"right",right:"left",bottom:"top",top:"bottom"},y1e={start:"end",end:"start"};function GM(e,t,n){return Ui(e,Ec(t,n))}function Kl(e,t){return typeof e=="function"?e(t):e}function Yl(e){return e.split("-")[0]}function cm(e){return e.split("-")[1]}function X3(e){return e==="x"?"y":"x"}function K3(e){return e==="y"?"height":"width"}function Ac(e){return["top","bottom"].includes(Yl(e))?"y":"x"}function Y3(e){return X3(Ac(e))}function v1e(e,t,n){n===void 0&&(n=!1);const r=cm(e),i=Y3(e),o=K3(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=rE(a)),[a,rE(a)]}function b1e(e){const t=rE(e);return[VM(e),t,VM(t)]}function VM(e){return e.replace(/start|end/g,t=>y1e[t])}function x1e(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function w1e(e,t,n,r){const i=cm(e);let o=x1e(Yl(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(VM)))),o}function rE(e){return e.replace(/left|right|bottom|top/g,t=>m1e[t])}function S1e(e){return{top:0,right:0,bottom:0,left:0,...e}}function RJ(e){return typeof e!="number"?S1e(e):{top:e,right:e,bottom:e,left:e}}function iE(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function EB(e,t,n){let{reference:r,floating:i}=e;const o=Ac(t),a=Y3(t),s=K3(a),l=Yl(t),u=o==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(cm(t)){case"start":h[a]-=d*(n&&u?-1:1);break;case"end":h[a]+=d*(n&&u?-1:1);break}return h}const E1e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=EB(u,r,l),d=r,h={},p=0;for(let g=0;g<s.length;g++){const{name:m,fn:y}=s[g],{x:v,y:b,data:x,reset:w}=await y({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:u,platform:a,elements:{reference:e,floating:t}});c=v??c,f=b??f,h={...h,[m]:{...h[m],...x}},w&&p<=50&&(p++,typeof w=="object"&&(w.placement&&(d=w.placement),w.rects&&(u=w.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:c,y:f}=EB(u,d,l)),g=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function yv(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Kl(t,e),p=RJ(h),m=s[d?f==="floating"?"reference":"floating":f],y=iE(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(m)))==null||n?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),v=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),x=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},w=iE(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:b,strategy:l}):v);return{top:(y.top-w.top+p.top)/x.y,bottom:(w.bottom-y.bottom+p.bottom)/x.y,left:(y.left-w.left+p.left)/x.x,right:(w.right-y.right+p.right)/x.x}}const _1e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=Kl(e,t)||{};if(u==null)return{};const f=RJ(c),d={x:n,y:r},h=Y3(i),p=K3(h),g=await a.getDimensions(u),m=h==="y",y=m?"top":"left",v=m?"bottom":"right",b=m?"clientHeight":"clientWidth",x=o.reference[p]+o.reference[h]-d[h]-o.floating[p],w=d[h]-o.reference[h],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=E?E[b]:0;(!S||!await(a.isElement==null?void 0:a.isElement(E)))&&(S=s.floating[b]||o.floating[p]);const A=x/2-w/2,$=S/2-g[p]/2-1,_=Ec(f[y],$),O=Ec(f[v],$),P=_,R=S-g[p]-O,k=S/2-g[p]/2+A,C=GM(P,k,R),M=!l.arrow&&cm(i)!=null&&k!==C&&o.reference[p]/2-(k<P?_:O)-g[p]/2<0,I=M?k<P?k-P:k-R:0;return{[h]:d[h]+I,data:{[h]:C,centerOffset:k-C-I,...M&&{alignmentOffset:I}},reset:M}}}),A1e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Kl(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Yl(i),v=Ac(s),b=Yl(s)===s,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),w=d||(b||!g?[rE(s)]:b1e(s)),E=p!=="none";!d&&E&&w.push(...w1e(s,g,p,x));const S=[s,...w],A=await yv(t,m),$=[];let _=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&$.push(A[y]),f){const k=v1e(i,a,x);$.push(A[k[0]],A[k[1]])}if(_=[..._,{placement:i,overflows:$}],!$.every(k=>k<=0)){var O,P;const k=(((O=o.flip)==null?void 0:O.index)||0)+1,C=S[k];if(C)return{data:{index:k,overflows:_},reset:{placement:C}};let M=(P=_.filter(I=>I.overflows[0]<=0).sort((I,N)=>I.overflows[1]-N.overflows[1])[0])==null?void 0:P.placement;if(!M)switch(h){case"bestFit":{var R;const I=(R=_.filter(N=>{if(E){const F=Ac(N.placement);return F===v||F==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(F=>F>0).reduce((F,L)=>F+L,0)]).sort((N,F)=>N[1]-F[1])[0])==null?void 0:R[0];I&&(M=I);break}case"initialPlacement":M=s;break}if(i!==M)return{reset:{placement:M}}}return{}}}};function _B(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function AB(e){return g1e.some(t=>e[t]>=0)}const $1e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Kl(e,t);switch(r){case"referenceHidden":{const o=await yv(t,{...i,elementContext:"reference"}),a=_B(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:AB(a)}}}case"escaped":{const o=await yv(t,{...i,altBoundary:!0}),a=_B(o,n.floating);return{data:{escapedOffsets:a,escaped:AB(a)}}}default:return{}}}}};async function O1e(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Yl(n),s=cm(n),l=Ac(n)==="y",u=["left","top"].includes(a)?-1:1,c=o&&l?-1:1,f=Kl(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const C1e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await O1e(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},k1e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:m=>{let{x:y,y:v}=m;return{x:y,y:v}}},...l}=Kl(e,t),u={x:n,y:r},c=await yv(t,l),f=Ac(Yl(i)),d=X3(f);let h=u[d],p=u[f];if(o){const m=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=h+c[m],b=h-c[y];h=GM(v,h,b)}if(a){const m=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=p+c[m],b=p-c[y];p=GM(v,p,b)}const g=s.fn({...t,[d]:h,[f]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[d]:o,[f]:a}}}}}},P1e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=Kl(e,t),c={x:n,y:r},f=Ac(i),d=X3(f);let h=c[d],p=c[f];const g=Kl(s,t),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=d==="y"?"height":"width",x=o.reference[d]-o.floating[b]+m.mainAxis,w=o.reference[d]+o.reference[b]-m.mainAxis;h<x?h=x:h>w&&(h=w)}if(u){var y,v;const b=d==="y"?"width":"height",x=["top","left"].includes(Yl(i)),w=o.reference[f]-o.floating[b]+(x&&((y=a.offset)==null?void 0:y[f])||0)+(x?0:m.crossAxis),E=o.reference[f]+o.reference[b]+(x?0:((v=a.offset)==null?void 0:v[f])||0)-(x?m.crossAxis:0);p<w?p=w:p>E&&(p=E)}return{[d]:h,[f]:p}}}},T1e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...u}=Kl(e,t),c=await yv(t,u),f=Yl(i),d=cm(i),h=Ac(i)==="y",{width:p,height:g}=o.floating;let m,y;f==="top"||f==="bottom"?(m=f,y=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(y=f,m=d==="end"?"top":"bottom");const v=g-c.top-c.bottom,b=p-c.left-c.right,x=Ec(g-c[m],v),w=Ec(p-c[y],b),E=!t.middlewareData.shift;let S=x,A=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=v),E&&!d){const _=Ui(c.left,0),O=Ui(c.right,0),P=Ui(c.top,0),R=Ui(c.bottom,0);h?A=p-2*(_!==0||O!==0?_+O:Ui(c.left,c.right)):S=g-2*(P!==0||R!==0?P+R:Ui(c.top,c.bottom))}await l({...t,availableWidth:A,availableHeight:S});const $=await a.getDimensions(s.floating);return p!==$.width||g!==$.height?{reset:{rects:!0}}:{}}}};function nA(){return typeof window<"u"}function fm(e){return DJ(e)?(e.nodeName||"").toLowerCase():"#document"}function Qi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qs(e){var t;return(t=(DJ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function DJ(e){return nA()?e instanceof Node||e instanceof Qi(e).Node:!1}function Pa(e){return nA()?e instanceof Element||e instanceof Qi(e).Element:!1}function Ns(e){return nA()?e instanceof HTMLElement||e instanceof Qi(e).HTMLElement:!1}function $B(e){return!nA()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qi(e).ShadowRoot}function X1(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ta(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function M1e(e){return["table","td","th"].includes(fm(e))}function rA(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Q3(e){const t=J3(),n=Pa(e)?Ta(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function N1e(e){let t=$c(e);for(;Ns(t)&&!Yp(t);){if(Q3(t))return t;if(rA(t))return null;t=$c(t)}return null}function J3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yp(e){return["html","body","#document"].includes(fm(e))}function Ta(e){return Qi(e).getComputedStyle(e)}function iA(e){return Pa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $c(e){if(fm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$B(e)&&e.host||qs(e);return $B(t)?t.host:t}function IJ(e){const t=$c(e);return Yp(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ns(t)&&X1(t)?t:IJ(t)}function vv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=IJ(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=Qi(i);if(o){const s=XM(a);return t.concat(a,a.visualViewport||[],X1(i)?i:[],s&&n?vv(s):[])}return t.concat(i,vv(i,[],n))}function XM(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function FJ(e){const t=Ta(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ns(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=nE(n)!==o||nE(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function Z3(e){return Pa(e)?e:e.contextElement}function mp(e){const t=Z3(e);if(!Ns(t))return _c(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=FJ(t);let a=(o?nE(n.width):n.width)/r,s=(o?nE(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const R1e=_c(0);function jJ(e){const t=Qi(e);return!J3()||!t.visualViewport?R1e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function D1e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qi(e)?!1:t}function md(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Z3(e);let a=_c(1);t&&(r?Pa(r)&&(a=mp(r)):a=mp(e));const s=D1e(o,n,r)?jJ(o):_c(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,c=i.width/a.x,f=i.height/a.y;if(o){const d=Qi(o),h=r&&Pa(r)?Qi(r):r;let p=d,g=XM(p);for(;g&&r&&h!==p;){const m=mp(g),y=g.getBoundingClientRect(),v=Ta(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*m.x,x=y.top+(g.clientTop+parseFloat(v.paddingTop))*m.y;l*=m.x,u*=m.y,c*=m.x,f*=m.y,l+=b,u+=x,p=Qi(g),g=XM(p)}}return iE({width:c,height:f,x:l,y:u})}function I1e(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=qs(r),s=t?rA(t.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},u=_c(1);const c=_c(0),f=Ns(r);if((f||!f&&!o)&&((fm(r)!=="body"||X1(a))&&(l=iA(r)),Ns(r))){const d=md(r);u=mp(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x,y:n.y*u.y-l.scrollTop*u.y+c.y}}function F1e(e){return Array.from(e.getClientRects())}function KM(e,t){const n=iA(e).scrollLeft;return t?t.left+n:md(qs(e)).left+n}function j1e(e){const t=qs(e),n=iA(e),r=e.ownerDocument.body,i=Ui(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ui(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+KM(e);const s=-n.scrollTop;return Ta(r).direction==="rtl"&&(a+=Ui(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function L1e(e,t){const n=Qi(e),r=qs(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=J3();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function z1e(e,t){const n=md(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ns(e)?mp(e):_c(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:a,height:s,x:l,y:u}}function OB(e,t,n){let r;if(t==="viewport")r=L1e(e,n);else if(t==="document")r=j1e(qs(e));else if(Pa(t))r=z1e(t,n);else{const i=jJ(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return iE(r)}function LJ(e,t){const n=$c(e);return n===t||!Pa(n)||Yp(n)?!1:Ta(n).position==="fixed"||LJ(n,t)}function B1e(e,t){const n=t.get(e);if(n)return n;let r=vv(e,[],!1).filter(s=>Pa(s)&&fm(s)!=="body"),i=null;const o=Ta(e).position==="fixed";let a=o?$c(e):e;for(;Pa(a)&&!Yp(a);){const s=Ta(a),l=Q3(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||X1(a)&&!l&&LJ(e,a))?r=r.filter(c=>c!==a):i=s,a=$c(a)}return t.set(e,r),r}function U1e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?rA(t)?[]:B1e(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((u,c)=>{const f=OB(t,c,i);return u.top=Ui(f.top,u.top),u.right=Ec(f.right,u.right),u.bottom=Ec(f.bottom,u.bottom),u.left=Ui(f.left,u.left),u},OB(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function W1e(e){const{width:t,height:n}=FJ(e);return{width:t,height:n}}function q1e(e,t,n){const r=Ns(t),i=qs(t),o=n==="fixed",a=md(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=_c(0);if(r||!r&&!o)if((fm(t)!=="body"||X1(i))&&(s=iA(t)),r){const h=md(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=KM(i));let u=0,c=0;if(i&&!r&&!o){const h=i.getBoundingClientRect();c=h.top+s.scrollTop,u=h.left+s.scrollLeft-KM(i,h)}const f=a.left+s.scrollLeft-l.x-u,d=a.top+s.scrollTop-l.y-c;return{x:f,y:d,width:a.width,height:a.height}}function _k(e){return Ta(e).position==="static"}function CB(e,t){if(!Ns(e)||Ta(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return qs(e)===n&&(n=n.ownerDocument.body),n}function zJ(e,t){const n=Qi(e);if(rA(e))return n;if(!Ns(e)){let i=$c(e);for(;i&&!Yp(i);){if(Pa(i)&&!_k(i))return i;i=$c(i)}return n}let r=CB(e,t);for(;r&&M1e(r)&&_k(r);)r=CB(r,t);return r&&Yp(r)&&_k(r)&&!Q3(r)?n:r||N1e(e)||n}const H1e=async function(e){const t=this.getOffsetParent||zJ,n=this.getDimensions,r=await n(e.floating);return{reference:q1e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function G1e(e){return Ta(e).direction==="rtl"}const V1e={convertOffsetParentRelativeRectToViewportRelativeRect:I1e,getDocumentElement:qs,getClippingRect:U1e,getOffsetParent:zJ,getElementRects:H1e,getClientRects:F1e,getDimensions:W1e,getScale:mp,isElement:Pa,isRTL:G1e};function X1e(e,t){let n=null,r;const i=qs(e);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:u,top:c,width:f,height:d}=e.getBoundingClientRect();if(s||t(),!f||!d)return;const h=Dx(c),p=Dx(i.clientWidth-(u+f)),g=Dx(i.clientHeight-(c+d)),m=Dx(u),v={rootMargin:-h+"px "+-p+"px "+-g+"px "+-m+"px",threshold:Ui(0,Ec(1,l))||1};let b=!0;function x(w){const E=w[0].intersectionRatio;if(E!==l){if(!b)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(x,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,v)}n.observe(e)}return a(!0),o}function K1e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Z3(e),c=i||o?[...u?vv(u):[],...vv(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=u&&s?X1e(u,n):null;let d=-1,h=null;a&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,g=l?md(e):null;l&&m();function m(){const y=md(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,p=requestAnimationFrame(m)}return n(),()=>{var y;c.forEach(v=>{i&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const Y1e=C1e,Q1e=k1e,J1e=A1e,Z1e=T1e,ebe=$1e,kB=_1e,tbe=P1e,nbe=(e,t,n)=>{const r=new Map,i={platform:V1e,...n},o={...i.platform,_c:r};return E1e(e,t,{...i,platform:o})};var Jw=typeof document<"u"?T.useLayoutEffect:T.useEffect;function oE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!oE(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!oE(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function BJ(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function PB(e,t){const n=BJ(e);return Math.round(t*n)/n}function Ak(e){const t=T.useRef(e);return Jw(()=>{t.current=e}),t}function rbe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[c,f]=T.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=T.useState(r);oE(d,r)||h(r);const[p,g]=T.useState(null),[m,y]=T.useState(null),v=T.useCallback(N=>{N!==E.current&&(E.current=N,g(N))},[]),b=T.useCallback(N=>{N!==S.current&&(S.current=N,y(N))},[]),x=o||p,w=a||m,E=T.useRef(null),S=T.useRef(null),A=T.useRef(c),$=l!=null,_=Ak(l),O=Ak(i),P=Ak(u),R=T.useCallback(()=>{if(!E.current||!S.current)return;const N={placement:t,strategy:n,middleware:d};O.current&&(N.platform=O.current),nbe(E.current,S.current,N).then(F=>{const L={...F,isPositioned:P.current!==!1};k.current&&!oE(A.current,L)&&(A.current=L,V1.flushSync(()=>{f(L)}))})},[d,t,n,O,P]);Jw(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(N=>({...N,isPositioned:!1})))},[u]);const k=T.useRef(!1);Jw(()=>(k.current=!0,()=>{k.current=!1}),[]),Jw(()=>{if(x&&(E.current=x),w&&(S.current=w),x&&w){if(_.current)return _.current(x,w,R);R()}},[x,w,R,_,$]);const C=T.useMemo(()=>({reference:E,floating:S,setReference:v,setFloating:b}),[v,b]),M=T.useMemo(()=>({reference:x,floating:w}),[x,w]),I=T.useMemo(()=>{const N={position:n,left:0,top:0};if(!M.floating)return N;const F=PB(M.floating,c.x),L=PB(M.floating,c.y);return s?{...N,transform:"translate("+F+"px, "+L+"px)",...BJ(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:L}},[n,s,M.floating,c.x,c.y]);return T.useMemo(()=>({...c,update:R,refs:C,elements:M,floatingStyles:I}),[c,R,C,M,I])}const ibe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?kB({element:r.current,padding:i}).fn(n):{}:r?kB({element:r,padding:i}).fn(n):{}}}},obe=(e,t)=>({...Y1e(e),options:[e,t]}),abe=(e,t)=>({...Q1e(e),options:[e,t]}),sbe=(e,t)=>({...tbe(e),options:[e,t]}),lbe=(e,t)=>({...J1e(e),options:[e,t]}),ube=(e,t)=>({...Z1e(e),options:[e,t]}),cbe=(e,t)=>({...ebe(e),options:[e,t]}),fbe=(e,t)=>({...ibe(e),options:[e,t]});var dbe="Arrow",UJ=T.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return j.jsx(Pi.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:j.jsx("polygon",{points:"0,0 30,0 15,10"})})});UJ.displayName=dbe;var hbe=UJ;function pbe(e,t=[]){let n=[];function r(o,a){const s=T.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][l])||s,m=T.useMemo(()=>p,Object.values(p));return j.jsx(g.Provider,{value:m,children:h})}function c(f,d){const h=(d==null?void 0:d[e][l])||s,p=T.useContext(h);if(p)return p;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=n.map(a=>T.createContext(a));return function(s){const l=(s==null?void 0:s[e])||o;return T.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,gbe(i,...t)]}function gbe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...s,...f}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function mbe(e){const[t,n]=T.useState(void 0);return gd(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,s=u.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var WJ="Popper",[qJ,HJ]=pbe(WJ),[sAt,GJ]=qJ(WJ),VJ="PopperAnchor",XJ=T.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=GJ(VJ,n),a=T.useRef(null),s=ka(t,a);return T.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:j.jsx(Pi.div,{...i,ref:s})});XJ.displayName=VJ;var eF="PopperContent",[ybe,vbe]=qJ(eF),KJ=T.forwardRef((e,t)=>{var Xe,Mt,ae,ve,$e,Q;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:p,...g}=e,m=GJ(eF,n),[y,v]=T.useState(null),b=ka(t,Je=>v(Je)),[x,w]=T.useState(null),E=mbe(x),S=(E==null?void 0:E.width)??0,A=(E==null?void 0:E.height)??0,$=r+(o!=="center"?"-"+o:""),_=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},O=Array.isArray(u)?u:[u],P=O.length>0,R={padding:_,boundary:O.filter(xbe),altBoundary:P},{refs:k,floatingStyles:C,placement:M,isPositioned:I,middlewareData:N}=rbe({strategy:"fixed",placement:$,whileElementsMounted:(...Je)=>K1e(...Je,{animationFrame:h==="always"}),elements:{reference:m.anchor},middleware:[obe({mainAxis:i+A,alignmentAxis:a}),l&&abe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?sbe():void 0,...R}),l&&lbe({...R}),ube({...R,apply:({elements:Je,rects:De,availableWidth:ct,availableHeight:Ze})=>{const{width:En,height:Ni}=De.reference,Zt=Je.floating.style;Zt.setProperty("--radix-popper-available-width",`${ct}px`),Zt.setProperty("--radix-popper-available-height",`${Ze}px`),Zt.setProperty("--radix-popper-anchor-width",`${En}px`),Zt.setProperty("--radix-popper-anchor-height",`${Ni}px`)}}),x&&fbe({element:x,padding:s}),wbe({arrowWidth:S,arrowHeight:A}),d&&cbe({strategy:"referenceHidden",...R})]}),[F,L]=JJ(M),z=Ms(p);gd(()=>{I&&(z==null||z())},[I,z]);const B=(Xe=N.arrow)==null?void 0:Xe.x,V=(Mt=N.arrow)==null?void 0:Mt.y,ce=((ae=N.arrow)==null?void 0:ae.centerOffset)!==0,[fe,Ee]=T.useState();return gd(()=>{y&&Ee(window.getComputedStyle(y).zIndex)},[y]),j.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...C,transform:I?C.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(ve=N.transformOrigin)==null?void 0:ve.x,($e=N.transformOrigin)==null?void 0:$e.y].join(" "),...((Q=N.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:j.jsx(ybe,{scope:n,placedSide:F,onArrowChange:w,arrowX:B,arrowY:V,shouldHideArrow:ce,children:j.jsx(Pi.div,{"data-side":F,"data-align":L,...g,ref:b,style:{...g.style,animation:I?void 0:"none"}})})})});KJ.displayName=eF;var YJ="PopperArrow",bbe={top:"bottom",right:"left",bottom:"top",left:"right"},QJ=T.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=vbe(YJ,r),a=bbe[o.placedSide];return j.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:j.jsx(hbe,{...i,ref:n,style:{...i.style,display:"block"}})})});QJ.displayName=YJ;function xbe(e){return e!==null}var wbe=e=>({name:"transformOrigin",options:e,fn(t){var m,y,v;const{placement:n,rects:r,middlewareData:i}=t,a=((m=i.arrow)==null?void 0:m.centerOffset)!==0,s=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[u,c]=JJ(n),f={start:"0%",center:"50%",end:"100%"}[c],d=(((y=i.arrow)==null?void 0:y.x)??0)+s/2,h=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let p="",g="";return u==="bottom"?(p=a?f:`${d}px`,g=`${-l}px`):u==="top"?(p=a?f:`${d}px`,g=`${r.floating.height+l}px`):u==="right"?(p=`${-l}px`,g=a?f:`${h}px`):u==="left"&&(p=`${r.floating.width+l}px`,g=a?f:`${h}px`),{data:{x:p,y:g}}}});function JJ(e){const[t,n="center"]=e.split("-");return[t,n]}var Sbe=XJ,Ebe=KJ,_be=QJ,[oA,lAt]=YQ("Tooltip",[HJ]),tF=HJ(),ZJ="TooltipProvider",Abe=700,TB="tooltip.open",[$be,eZ]=oA(ZJ),tZ=e=>{const{__scopeTooltip:t,delayDuration:n=Abe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,[a,s]=T.useState(!0),l=T.useRef(!1),u=T.useRef(0);return T.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),j.jsx($be,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(u.current),s(!1)},[]),onClose:T.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>s(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:T.useCallback(c=>{l.current=c},[]),disableHoverableContent:i,children:o})};tZ.displayName=ZJ;var nZ="Tooltip",[uAt,aA]=oA(nZ),YM="TooltipTrigger",Obe=T.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=aA(YM,n),o=eZ(YM,n),a=tF(n),s=T.useRef(null),l=ka(t,s,i.onTriggerChange),u=T.useRef(!1),c=T.useRef(!1),f=T.useCallback(()=>u.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),j.jsx(Sbe,{asChild:!0,...a,children:j.jsx(Pi.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:$n(e.onPointerMove,d=>{d.pointerType!=="touch"&&!c.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),c.current=!0)}),onPointerLeave:$n(e.onPointerLeave,()=>{i.onTriggerLeave(),c.current=!1}),onPointerDown:$n(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:$n(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:$n(e.onBlur,i.onClose),onClick:$n(e.onClick,i.onClose)})})});Obe.displayName=YM;var Cbe="TooltipPortal",[cAt,kbe]=oA(Cbe,{forceMount:void 0}),Qp="TooltipContent",rZ=T.forwardRef((e,t)=>{const n=kbe(Qp,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,a=aA(Qp,e.__scopeTooltip);return j.jsx(U3,{present:r||a.open,children:a.disableHoverableContent?j.jsx(iZ,{side:i,...o,ref:t}):j.jsx(Pbe,{side:i,...o,ref:t})})}),Pbe=T.forwardRef((e,t)=>{const n=aA(Qp,e.__scopeTooltip),r=eZ(Qp,e.__scopeTooltip),i=T.useRef(null),o=ka(t,i),[a,s]=T.useState(null),{trigger:l,onClose:u}=n,c=i.current,{onPointerInTransitChange:f}=r,d=T.useCallback(()=>{s(null),f(!1)},[f]),h=T.useCallback((p,g)=>{const m=p.currentTarget,y={x:p.clientX,y:p.clientY},v=Rbe(y,m.getBoundingClientRect()),b=Dbe(y,v),x=Ibe(g.getBoundingClientRect()),w=jbe([...b,...x]);s(w),f(!0)},[f]);return T.useEffect(()=>()=>d(),[d]),T.useEffect(()=>{if(l&&c){const p=m=>h(m,c),g=m=>h(m,l);return l.addEventListener("pointerleave",p),c.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",p),c.removeEventListener("pointerleave",g)}}},[l,c,h,d]),T.useEffect(()=>{if(a){const p=g=>{const m=g.target,y={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(m))||(c==null?void 0:c.contains(m)),b=!Fbe(y,a);v?d():b&&(d(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,c,a,u,d]),j.jsx(iZ,{...e,ref:o})}),[Tbe,Mbe]=oA(nZ,{isInside:!1}),iZ=T.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=e,l=aA(Qp,n),u=tF(n),{onClose:c}=l;return T.useEffect(()=>(document.addEventListener(TB,c),()=>document.removeEventListener(TB,c)),[c]),T.useEffect(()=>{if(l.trigger){const f=d=>{const h=d.target;h!=null&&h.contains(l.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,c]),j.jsx(B3,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:c,children:j.jsxs(Ebe,{"data-state":l.stateAttribute,...u,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[j.jsx(KQ,{children:r}),j.jsx(Tbe,{scope:n,isInside:!0,children:j.jsx(R0e,{id:l.contentId,role:"tooltip",children:i||r})})]})})});rZ.displayName=Qp;var oZ="TooltipArrow",Nbe=T.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=tF(n);return Mbe(oZ,n).isInside?null:j.jsx(_be,{...i,...r,ref:t})});Nbe.displayName=oZ;function Rbe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Dbe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Ibe(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Fbe(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const s=t[o].x,l=t[o].y,u=t[a].x,c=t[a].y;l>r!=c>r&&n<(u-s)*(r-l)/(c-l)+s&&(i=!i)}return i}function jbe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Lbe(t)}function Lbe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var zbe=tZ,aZ=rZ;const Bbe=zbe,Ube=T.forwardRef(({className:e,sideOffset:t=4,...n},r)=>j.jsx(aZ,{ref:r,sideOffset:t,className:uu("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Ube.displayName=aZ.displayName;var sA=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lA=typeof window>"u"||"Deno"in globalThis;function sa(){}function Wbe(e,t){return typeof e=="function"?e(t):e}function qbe(e){return typeof e=="number"&&e>=0&&e!==1/0}function Hbe(e,t){return Math.max(e+(t||0)-Date.now(),0)}function MB(e,t){return typeof e=="function"?e(t):e}function Gbe(e,t){return typeof e=="function"?e(t):e}function NB(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=e;if(a){if(r){if(t.queryHash!==nF(a,t.options))return!1}else if(!xv(t.queryKey,a))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||o&&!o(t))}function RB(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(bv(t.options.mutationKey)!==bv(o))return!1}else if(!xv(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function nF(e,t){return((t==null?void 0:t.queryKeyHashFn)||bv)(e)}function bv(e){return JSON.stringify(e,(t,n)=>QM(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function xv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!xv(e[n],t[n])):!1}function sZ(e,t){if(e===t)return e;const n=DB(e)&&DB(t);if(n||QM(e)&&QM(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),a=o.length,s=n?[]:{};let l=0;for(let u=0;u<a;u++){const c=n?u:o[u];(!n&&r.includes(c)||n)&&e[c]===void 0&&t[c]===void 0?(s[c]=void 0,l++):(s[c]=sZ(e[c],t[c]),s[c]===e[c]&&e[c]!==void 0&&l++)}return i===a&&l===i?e:s}return t}function DB(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function QM(e){if(!IB(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!IB(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function IB(e){return Object.prototype.toString.call(e)==="[object Object]"}function Vbe(e){return new Promise(t=>{setTimeout(t,e)})}function Xbe(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?sZ(e,t):t}function Kbe(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Ybe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var rF=Symbol();function lZ(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===rF?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Gf,Uu,Np,AK,Qbe=(AK=class extends sA{constructor(){super();it(this,Gf);it(this,Uu);it(this,Np);Me(this,Np,t=>{if(!lA&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,Uu)||this.setEventListener(Y(this,Np))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,Uu))==null||t.call(this),Me(this,Uu,void 0))}setEventListener(t){var n;Me(this,Np,t),(n=Y(this,Uu))==null||n.call(this),Me(this,Uu,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Y(this,Gf)!==t&&(Me(this,Gf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Y(this,Gf)=="boolean"?Y(this,Gf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gf=new WeakMap,Uu=new WeakMap,Np=new WeakMap,AK),uZ=new Qbe,Rp,Wu,Dp,$K,Jbe=($K=class extends sA{constructor(){super();it(this,Rp,!0);it(this,Wu);it(this,Dp);Me(this,Dp,t=>{if(!lA&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,Wu)||this.setEventListener(Y(this,Dp))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,Wu))==null||t.call(this),Me(this,Wu,void 0))}setEventListener(t){var n;Me(this,Dp,t),(n=Y(this,Wu))==null||n.call(this),Me(this,Wu,t(this.setOnline.bind(this)))}setOnline(t){Y(this,Rp)!==t&&(Me(this,Rp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Y(this,Rp)}},Rp=new WeakMap,Wu=new WeakMap,Dp=new WeakMap,$K),aE=new Jbe;function Zbe(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function exe(e){return Math.min(1e3*2**e,3e4)}function cZ(e){return(e??"online")==="online"?aE.isOnline():!0}var fZ=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function $k(e){return e instanceof fZ}function dZ(e){let t=!1,n=0,r=!1,i;const o=Zbe(),a=g=>{var m;r||(d(new fZ(g)),(m=e.abort)==null||m.call(e))},s=()=>{t=!0},l=()=>{t=!1},u=()=>uZ.isFocused()&&(e.networkMode==="always"||aE.isOnline())&&e.canRun(),c=()=>cZ(e.networkMode)&&e.canRun(),f=g=>{var m;r||(r=!0,(m=e.onSuccess)==null||m.call(e,g),i==null||i(),o.resolve(g))},d=g=>{var m;r||(r=!0,(m=e.onError)==null||m.call(e,g),i==null||i(),o.reject(g))},h=()=>new Promise(g=>{var m;i=y=>{(r||u())&&g(y)},(m=e.onPause)==null||m.call(e)}).then(()=>{var g;i=void 0,r||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(r)return;let g;const m=n===0?e.initialPromise:void 0;try{g=m??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var E;if(r)return;const v=e.retry??(lA?0:3),b=e.retryDelay??exe,x=typeof b=="function"?b(n,y):b,w=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!w){d(y);return}n++,(E=e.onFail)==null||E.call(e,n,y),Vbe(x).then(()=>u()?void 0:h()).then(()=>{t?d(y):p()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:s,continueRetry:l,canStart:c,start:()=>(c()?p():h().then(p),o)}}function txe(){let e=[],t=0,n=s=>{s()},r=s=>{s()},i=s=>setTimeout(s,0);const o=s=>{t?e.push(s):i(()=>{n(s)})},a=()=>{const s=e;e=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var qr=txe(),Vf,OK,hZ=(OK=class{constructor(){it(this,Vf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qbe(this.gcTime)&&Me(this,Vf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(lA?1/0:5*60*1e3))}clearGcTimeout(){Y(this,Vf)&&(clearTimeout(Y(this,Vf)),Me(this,Vf,void 0))}},Vf=new WeakMap,OK),Ip,Fp,xo,wr,z1,Xf,la,hl,CK,nxe=(CK=class extends hZ{constructor(t){super();it(this,la);it(this,Ip);it(this,Fp);it(this,xo);it(this,wr);it(this,z1);it(this,Xf);Me(this,Xf,!1),Me(this,z1,t.defaultOptions),this.setOptions(t.options),this.observers=[],Me(this,xo,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Me(this,Ip,ixe(this.options)),this.state=t.state??Y(this,Ip),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Y(this,wr))==null?void 0:t.promise}setOptions(t){this.options={...Y(this,z1),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,xo).remove(this)}setData(t,n){const r=Xbe(this.state.data,t,this.options);return hr(this,la,hl).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){hr(this,la,hl).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=Y(this,wr))==null?void 0:r.promise;return(i=Y(this,wr))==null||i.cancel(t),n?n.then(sa).catch(sa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Ip))}isActive(){return this.observers.some(t=>Gbe(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rF||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Hbe(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Y(this,wr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Y(this,wr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Y(this,xo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Y(this,wr)&&(Y(this,Xf)?Y(this,wr).cancel({revert:!0}):Y(this,wr).cancelRetry()),this.scheduleGc()),Y(this,xo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||hr(this,la,hl).call(this,{type:"invalidate"})}fetch(t,n){var l,u,c;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Y(this,wr))return Y(this,wr).continueRetry(),Y(this,wr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Me(this,Xf,!0),r.signal)})},o=()=>{const f=lZ(this.options,n),d={queryKey:this.queryKey,meta:this.meta};return i(d),Me(this,Xf,!1),this.options.persister?this.options.persister(f,d,this):f(d)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(l=this.options.behavior)==null||l.onFetch(a,this),Me(this,Fp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&hr(this,la,hl).call(this,{type:"fetch",meta:(c=a.fetchOptions)==null?void 0:c.meta});const s=f=>{var d,h,p,g;$k(f)&&f.silent||hr(this,la,hl).call(this,{type:"error",error:f}),$k(f)||((h=(d=Y(this,xo).config).onError)==null||h.call(d,f,this),(g=(p=Y(this,xo).config).onSettled)==null||g.call(p,this.state.data,f,this)),this.scheduleGc()};return Me(this,wr,dZ({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var d,h,p,g;if(f===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(m){s(m);return}(h=(d=Y(this,xo).config).onSuccess)==null||h.call(d,f,this),(g=(p=Y(this,xo).config).onSettled)==null||g.call(p,f,this.state.error,this),this.scheduleGc()},onError:s,onFail:(f,d)=>{hr(this,la,hl).call(this,{type:"failed",failureCount:f,error:d})},onPause:()=>{hr(this,la,hl).call(this,{type:"pause"})},onContinue:()=>{hr(this,la,hl).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Y(this,wr).start()}},Ip=new WeakMap,Fp=new WeakMap,xo=new WeakMap,wr=new WeakMap,z1=new WeakMap,Xf=new WeakMap,la=new WeakSet,hl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...rxe(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return $k(i)&&i.revert&&Y(this,Fp)?{...Y(this,Fp),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),qr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,xo).notify({query:this,type:"updated",action:t})})},CK);function rxe(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cZ(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ixe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ss,kK,oxe=(kK=class extends sA{constructor(t={}){super();it(this,ss);this.config=t,Me(this,ss,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??nF(i,n);let a=this.get(o);return a||(a=new nxe({cache:this,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){Y(this,ss).has(t.queryHash)||(Y(this,ss).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Y(this,ss).get(t.queryHash);n&&(t.destroy(),n===t&&Y(this,ss).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){qr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Y(this,ss).get(t)}getAll(){return[...Y(this,ss).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>NB(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>NB(t,r)):n}notify(t){qr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){qr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){qr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ss=new WeakMap,kK),ls,Lr,Kf,us,Ou,PK,axe=(PK=class extends hZ{constructor(t){super();it(this,us);it(this,ls);it(this,Lr);it(this,Kf);this.mutationId=t.mutationId,Me(this,Lr,t.mutationCache),Me(this,ls,[]),this.state=t.state||sxe(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Y(this,ls).includes(t)||(Y(this,ls).push(t),this.clearGcTimeout(),Y(this,Lr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Me(this,ls,Y(this,ls).filter(n=>n!==t)),this.scheduleGc(),Y(this,Lr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Y(this,ls).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Lr).remove(this))}continue(){var t;return((t=Y(this,Kf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,s,l,u,c,f,d,h,p,g,m,y,v,b,x,w,E,S;Me(this,Kf,dZ({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,$)=>{hr(this,us,Ou).call(this,{type:"failed",failureCount:A,error:$})},onPause:()=>{hr(this,us,Ou).call(this,{type:"pause"})},onContinue:()=>{hr(this,us,Ou).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Lr).canRun(this)}));const n=this.state.status==="pending",r=!Y(this,Kf).canStart();try{if(!n){hr(this,us,Ou).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(i=Y(this,Lr).config).onMutate)==null?void 0:o.call(i,t,this));const $=await((s=(a=this.options).onMutate)==null?void 0:s.call(a,t));$!==this.state.context&&hr(this,us,Ou).call(this,{type:"pending",context:$,variables:t,isPaused:r})}const A=await Y(this,Kf).start();return await((u=(l=Y(this,Lr).config).onSuccess)==null?void 0:u.call(l,A,t,this.state.context,this)),await((f=(c=this.options).onSuccess)==null?void 0:f.call(c,A,t,this.state.context)),await((h=(d=Y(this,Lr).config).onSettled)==null?void 0:h.call(d,A,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,A,null,t,this.state.context)),hr(this,us,Ou).call(this,{type:"success",data:A}),A}catch(A){try{throw await((y=(m=Y(this,Lr).config).onError)==null?void 0:y.call(m,A,t,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,A,t,this.state.context)),await((w=(x=Y(this,Lr).config).onSettled)==null?void 0:w.call(x,void 0,A,this.state.variables,this.state.context,this)),await((S=(E=this.options).onSettled)==null?void 0:S.call(E,void 0,A,t,this.state.context)),A}finally{hr(this,us,Ou).call(this,{type:"error",error:A})}}finally{Y(this,Lr).runNext(this)}}},ls=new WeakMap,Lr=new WeakMap,Kf=new WeakMap,us=new WeakSet,Ou=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),qr.batch(()=>{Y(this,ls).forEach(r=>{r.onMutationUpdate(t)}),Y(this,Lr).notify({mutation:this,type:"updated",action:t})})},PK);function sxe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fi,B1,TK,lxe=(TK=class extends sA{constructor(t={}){super();it(this,Fi);it(this,B1);this.config=t,Me(this,Fi,new Map),Me(this,B1,Date.now())}build(t,n,r){const i=new axe({mutationCache:this,mutationId:++hx(this,B1)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Ix(t),r=Y(this,Fi).get(n)??[];r.push(t),Y(this,Fi).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Ix(t);if(Y(this,Fi).has(n)){const i=(r=Y(this,Fi).get(n))==null?void 0:r.filter(o=>o!==t);i&&(i.length===0?Y(this,Fi).delete(n):Y(this,Fi).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=Y(this,Fi).get(Ix(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=Y(this,Fi).get(Ix(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){qr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Y(this,Fi).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>RB(n,r))}findAll(t={}){return this.getAll().filter(n=>RB(t,n))}notify(t){qr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return qr.batch(()=>Promise.all(t.map(n=>n.continue().catch(sa))))}},Fi=new WeakMap,B1=new WeakMap,TK);function Ix(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function FB(e){return{onFetch:(t,n)=>{var c,f,d,h,p;const r=t.options,i=(d=(f=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,o=((h=t.state.data)==null?void 0:h.pages)||[],a=((p=t.state.data)==null?void 0:p.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=lZ(t.options,t.fetchOptions),v=async(b,x,w)=>{if(g)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const E={queryKey:t.queryKey,pageParam:x,direction:w?"backward":"forward",meta:t.options.meta};m(E);const S=await y(E),{maxPages:A}=t.options,$=w?Ybe:Kbe;return{pages:$(b.pages,S,A),pageParams:$(b.pageParams,x,A)}};if(i&&o.length){const b=i==="backward",x=b?uxe:jB,w={pages:o,pageParams:a},E=x(r,w);s=await v(w,E,b)}else{const b=e??o.length;do{const x=l===0?a[0]??r.initialPageParam:jB(r,s);if(l>0&&x==null)break;s=await v(s,x),l++}while(l<b)}return s};t.options.persister?t.fetchFn=()=>{var g,m;return(m=(g=t.options).persister)==null?void 0:m.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function jB(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function uxe(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var nn,qu,Hu,jp,Lp,Gu,zp,Bp,MK,cxe=(MK=class{constructor(e={}){it(this,nn);it(this,qu);it(this,Hu);it(this,jp);it(this,Lp);it(this,Gu);it(this,zp);it(this,Bp);Me(this,nn,e.queryCache||new oxe),Me(this,qu,e.mutationCache||new lxe),Me(this,Hu,e.defaultOptions||{}),Me(this,jp,new Map),Me(this,Lp,new Map),Me(this,Gu,0)}mount(){hx(this,Gu)._++,Y(this,Gu)===1&&(Me(this,zp,uZ.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,nn).onFocus())})),Me(this,Bp,aE.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,nn).onOnline())})))}unmount(){var e,t;hx(this,Gu)._--,Y(this,Gu)===0&&((e=Y(this,zp))==null||e.call(this),Me(this,zp,void 0),(t=Y(this,Bp))==null||t.call(this),Me(this,Bp,void 0))}isFetching(e){return Y(this,nn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Y(this,qu).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Y(this,nn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=Y(this,nn).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(MB(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return Y(this,nn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=Y(this,nn).get(r.queryHash),o=i==null?void 0:i.state.data,a=Wbe(t,o);if(a!==void 0)return Y(this,nn).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return qr.batch(()=>Y(this,nn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Y(this,nn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Y(this,nn);qr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Y(this,nn),r={type:"active",...e};return qr.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=qr.batch(()=>Y(this,nn).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(sa).catch(sa)}invalidateQueries(e={},t={}){return qr.batch(()=>{if(Y(this,nn).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=qr.batch(()=>Y(this,nn).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(sa)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(sa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Y(this,nn).build(this,t);return n.isStaleByTime(MB(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(sa).catch(sa)}fetchInfiniteQuery(e){return e.behavior=FB(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(sa).catch(sa)}ensureInfiniteQueryData(e){return e.behavior=FB(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return aE.isOnline()?Y(this,qu).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,nn)}getMutationCache(){return Y(this,qu)}getDefaultOptions(){return Y(this,Hu)}setDefaultOptions(e){Me(this,Hu,e)}setQueryDefaults(e,t){Y(this,jp).set(bv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Y(this,jp).values()];let n={};return t.forEach(r=>{xv(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){Y(this,Lp).set(bv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Y(this,Lp).values()];let n={};return t.forEach(r=>{xv(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Y(this,Hu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nF(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===rF&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Y(this,Hu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Y(this,nn).clear(),Y(this,qu).clear()}},nn=new WeakMap,qu=new WeakMap,Hu=new WeakMap,jp=new WeakMap,Lp=new WeakMap,Gu=new WeakMap,zp=new WeakMap,Bp=new WeakMap,MK),fxe=T.createContext(void 0),dxe=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),j.jsx(fxe.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wv.apply(this,arguments)}var Ku;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ku||(Ku={}));const LB="popstate";function hxe(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return JM("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sE(i)}return gxe(t,n,null,e)}function bn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pZ(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pxe(){return Math.random().toString(36).substr(2,8)}function zB(e,t){return{usr:e.state,key:e.key,idx:t}}function JM(e,t,n,r){return n===void 0&&(n=null),wv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dm(t):t,{state:n,key:t&&t.key||r||pxe()})}function sE(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function dm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function gxe(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Ku.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(wv({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=Ku.Pop;let m=c(),y=m==null?null:m-u;u=m,l&&l({action:s,location:g.location,delta:y})}function d(m,y){s=Ku.Push;let v=JM(g.location,m,y);u=c()+1;let b=zB(v,u),x=g.createHref(v);try{a.pushState(b,"",x)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(x)}o&&l&&l({action:s,location:g.location,delta:1})}function h(m,y){s=Ku.Replace;let v=JM(g.location,m,y);u=c();let b=zB(v,u),x=g.createHref(v);a.replaceState(b,"",x),o&&l&&l({action:s,location:g.location,delta:0})}function p(m){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof m=="string"?m:sE(m);return v=v.replace(/ $/,"%20"),bn(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return s},get location(){return e(i,a)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(LB,f),l=m,()=>{i.removeEventListener(LB,f),l=null}},createHref(m){return t(i,m)},createURL:p,encodeLocation(m){let y=p(m);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:h,go(m){return a.go(m)}};return g}var BB;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(BB||(BB={}));function mxe(e,t,n){return n===void 0&&(n="/"),yxe(e,t,n,!1)}function yxe(e,t,n,r){let i=typeof t=="string"?dm(t):t,o=iF(i.pathname||"/",n);if(o==null)return null;let a=gZ(e);vxe(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=kxe(o);s=Oxe(a[l],u,r)}return s}function gZ(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(bn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=pc([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(bn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gZ(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Axe(u,o.index),routesMeta:c})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of mZ(o.path))i(o,a,l)}),t}function mZ(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=mZ(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function vxe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$xe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bxe=/^:[\w-]+$/,xxe=3,wxe=2,Sxe=1,Exe=10,_xe=-2,UB=e=>e==="*";function Axe(e,t){let n=e.split("/"),r=n.length;return n.some(UB)&&(r+=_xe),t&&(r+=wxe),n.filter(i=>!UB(i)).reduce((i,o)=>i+(bxe.test(o)?xxe:o===""?Sxe:Exe),r)}function $xe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Oxe(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",f=WB({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=WB({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:pc([o,f.pathname]),pathnameBase:Nxe(pc([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=pc([o,f.pathnameBase]))}return a}function WB(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Cxe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let g=s[f]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const p=s[f];return h&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function Cxe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),pZ(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function kxe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pZ(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function iF(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Pxe(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?dm(e):e;return{pathname:n?n.startsWith("/")?n:Txe(n,t):t,search:Rxe(r),hash:Dxe(i)}}function Txe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ok(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mxe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function yZ(e,t){let n=Mxe(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vZ(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=dm(e):(i=wv({},e),bn(!i.pathname||!i.pathname.includes("?"),Ok("?","pathname","search",i)),bn(!i.pathname||!i.pathname.includes("#"),Ok("#","pathname","hash",i)),bn(!i.search||!i.search.includes("#"),Ok("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?t[f]:"/"}let l=Pxe(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const pc=e=>e.join("/").replace(/\/\/+/g,"/"),Nxe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rxe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Dxe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ixe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bZ=["post","put","patch","delete"];new Set(bZ);const Fxe=["get",...bZ];new Set(Fxe);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sv.apply(this,arguments)}const oF=T.createContext(null),jxe=T.createContext(null),Hd=T.createContext(null),uA=T.createContext(null),Gd=T.createContext({outlet:null,matches:[],isDataRoute:!1}),xZ=T.createContext(null);function Lxe(e,t){let{relative:n}=t===void 0?{}:t;K1()||bn(!1);let{basename:r,navigator:i}=T.useContext(Hd),{hash:o,pathname:a,search:s}=SZ(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:pc([r,a])),i.createHref({pathname:l,search:s,hash:o})}function K1(){return T.useContext(uA)!=null}function Y1(){return K1()||bn(!1),T.useContext(uA).location}function wZ(e){T.useContext(Hd).static||T.useLayoutEffect(e)}function zxe(){let{isDataRoute:e}=T.useContext(Gd);return e?Zxe():Bxe()}function Bxe(){K1()||bn(!1);let e=T.useContext(oF),{basename:t,future:n,navigator:r}=T.useContext(Hd),{matches:i}=T.useContext(Gd),{pathname:o}=Y1(),a=JSON.stringify(yZ(i,n.v7_relativeSplatPath)),s=T.useRef(!1);return wZ(()=>{s.current=!0}),T.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=vZ(u,JSON.parse(a),o,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:pc([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,a,o,e])}function SZ(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=T.useContext(Hd),{matches:i}=T.useContext(Gd),{pathname:o}=Y1(),a=JSON.stringify(yZ(i,r.v7_relativeSplatPath));return T.useMemo(()=>vZ(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function Uxe(e,t){return Wxe(e,t)}function Wxe(e,t,n,r){K1()||bn(!1);let{navigator:i}=T.useContext(Hd),{matches:o}=T.useContext(Gd),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Y1(),c;if(t){var f;let m=typeof t=="string"?dm(t):t;l==="/"||(f=m.pathname)!=null&&f.startsWith(l)||bn(!1),c=m}else c=u;let d=c.pathname||"/",h=d;if(l!=="/"){let m=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let p=mxe(e,{pathname:h}),g=Xxe(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},s,m.params),pathname:pc([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:pc([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r);return t&&g?T.createElement(uA.Provider,{value:{location:Sv({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ku.Pop}},g):g}function qxe(){let e=Jxe(),t=Ixe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,null)}const Hxe=T.createElement(qxe,null);class Gxe extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?T.createElement(Gd.Provider,{value:this.props.routeContext},T.createElement(xZ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vxe(e){let{routeContext:t,match:n,children:r}=e,i=T.useContext(oF);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Gd.Provider,{value:t},r)}function Xxe(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||bn(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:h}=n,p=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,d)=>{let h,p=!1,g=null,m=null;n&&(h=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||Hxe,l&&(u<0&&d===0?(p=!0,m=null):u===d&&(p=!0,m=f.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,d+1)),v=()=>{let b;return h?b=g:p?b=m:f.route.Component?b=T.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=c,T.createElement(Vxe,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?T.createElement(Gxe,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var EZ=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(EZ||{}),lE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lE||{});function Kxe(e){let t=T.useContext(oF);return t||bn(!1),t}function Yxe(e){let t=T.useContext(jxe);return t||bn(!1),t}function Qxe(e){let t=T.useContext(Gd);return t||bn(!1),t}function _Z(e){let t=Qxe(),n=t.matches[t.matches.length-1];return n.route.id||bn(!1),n.route.id}function Jxe(){var e;let t=T.useContext(xZ),n=Yxe(lE.UseRouteError),r=_Z(lE.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Zxe(){let{router:e}=Kxe(EZ.UseNavigateStable),t=_Z(lE.UseNavigateStable),n=T.useRef(!1);return wZ(()=>{n.current=!0}),T.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Sv({fromRouteId:t},o)))},[e,t])}function ZM(e){bn(!1)}function ewe(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ku.Pop,navigator:o,static:a=!1,future:s}=e;K1()&&bn(!1);let l=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:o,static:a,future:Sv({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=dm(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:p="default"}=r,g=T.useMemo(()=>{let m=iF(c,l);return m==null?null:{location:{pathname:m,search:f,hash:d,state:h,key:p},navigationType:i}},[l,c,f,d,h,p,i]);return g==null?null:T.createElement(Hd.Provider,{value:u},T.createElement(uA.Provider,{children:n,value:g}))}function twe(e){let{children:t,location:n}=e;return Uxe(eN(t),n)}new Promise(()=>{});function eN(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(r,i)=>{if(!T.isValidElement(r))return;let o=[...t,i];if(r.type===T.Fragment){n.push.apply(n,eN(r.props.children,o));return}r.type!==ZM&&bn(!1),!r.props.index||!r.props.children||bn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=eN(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tN.apply(this,arguments)}function nwe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function rwe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iwe(e,t){return e.button===0&&(!t||t==="_self")&&!rwe(e)}const owe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],awe="6";try{window.__reactRouterVersion=awe}catch{}const swe="startTransition",qB=HT[swe];function lwe(e){let{basename:t,children:n,future:r,window:i}=e,o=T.useRef();o.current==null&&(o.current=hxe({window:i,v5Compat:!0}));let a=o.current,[s,l]=T.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=T.useCallback(f=>{u&&qB?qB(()=>l(f)):l(f)},[l,u]);return T.useLayoutEffect(()=>a.listen(c),[a,c]),T.createElement(ewe,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const uwe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cwe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fx=T.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=t,d=nwe(t,owe),{basename:h}=T.useContext(Hd),p,g=!1;if(typeof u=="string"&&cwe.test(u)&&(p=u,uwe))try{let b=new URL(window.location.href),x=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=iF(x.pathname,h);x.origin===b.origin&&w!=null?u=w+x.search+x.hash:g=!0}catch{}let m=Lxe(u,{relative:i}),y=fwe(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function v(b){r&&r(b),b.defaultPrevented||y(b)}return T.createElement("a",tN({},d,{href:p||m,onClick:g||o?r:v,ref:n,target:l}))});var HB;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(HB||(HB={}));var GB;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(GB||(GB={}));function fwe(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=t===void 0?{}:t,l=zxe(),u=Y1(),c=SZ(e,{relative:a});return T.useCallback(f=>{if(iwe(f,n)){f.preventDefault();let d=r!==void 0?r:sE(u)===sE(c);l(e,{replace:d,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,e,o,a,s])}const dwe=SJ("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Nl=T.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const a=r?mv:"button";return j.jsx(a,{className:uu(dwe({variant:t,size:n,className:e})),ref:o,...i})});Nl.displayName="Button";const AZ=T.forwardRef(({className:e,type:t,...n},r)=>j.jsx("input",{type:t,className:uu("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));AZ.displayName="Input";const hwe=()=>j.jsxs("nav",{className:"bg-white border-b border-gray-200 py-4 px-6 flex items-center justify-between",children:[j.jsx("div",{className:"flex items-center",children:j.jsxs("h1",{className:"text-2xl font-bold text-traderepublic-darkpurple",children:[j.jsx("span",{className:"text-traderepublic-purple",children:"Trade"}),"Finance"]})}),j.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[j.jsx(Fx,{to:"/",className:"text-gray-600 hover:text-traderepublic-purple transition-colors",children:"Home"}),j.jsx(Fx,{to:"/",className:"text-gray-600 hover:text-traderepublic-purple transition-colors",children:"Invest"}),j.jsx(Fx,{to:"/",className:"text-gray-600 hover:text-traderepublic-purple transition-colors",children:"Save"}),j.jsx(Fx,{to:"/",className:"text-gray-600 hover:text-traderepublic-purple transition-colors",children:"Learn"})]}),j.jsxs("div",{className:"flex items-center space-x-4",children:[j.jsx(Nl,{variant:"outline",className:"border-traderepublic-purple text-traderepublic-purple hover:bg-traderepublic-purple hover:text-white",children:"Log In"}),j.jsx(Nl,{className:"bg-traderepublic-purple hover:bg-traderepublic-darkpurple text-white",children:"Sign Up"})]})]}),pwe=/("(?:[^\\"]|\\.)*")|[:,]/g;function Ck(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return function o(a,s,l){a&&typeof a.toJSON=="function"&&(a=a.toJSON());const u=JSON.stringify(a,i);if(u===void 0)return u;const c=r-s.length-l;if(u.length<=c){const f=u.replace(pwe,(d,h)=>h||`${d} `);if(f.length<=c)return f}if(i!=null&&(a=JSON.parse(u),i=void 0),typeof a=="object"&&a!==null){const f=s+n,d=[];let h=0,p,g;if(Array.isArray(a)){p="[",g="]";const{length:m}=a;for(;h<m;h++)d.push(o(a[h],f,h===m-1?0:1)||"null")}else{p="{",g="}";const m=Object.keys(a),{length:y}=m;for(;h<y;h++){const v=m[h],b=`${JSON.stringify(v)}: `,x=o(a[v],f,b.length+(h===y-1?0:1));x!==void 0&&d.push(b+x)}}if(d.length>0)return[p,n+d.join(`,
${f}`),g].join(`
${s}`)}return u}(e,"",0)}function Ti(e,t,n){return e.fields=t||[],e.fname=n,e}function un(e){return e==null?null:e.fname}function kr(e){return e==null?null:e.fields}function $Z(e){return e.length===1?gwe(e[0]):mwe(e)}const gwe=e=>function(t){return t[e]},mwe=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function G(e){throw Error(e)}function Hs(e){const t=[],n=e.length;let r=null,i=0,o="",a,s,l;e=e+"";function u(){t.push(o+e.substring(a,s)),o="",a=s+1}for(a=s=0;s<n;++s)if(l=e[s],l==="\\")o+=e.substring(a,s++),a=s;else if(l===r)u(),r=null,i=-1;else{if(r)continue;a===i&&l==='"'||a===i&&l==="'"?(a=s+1,r=l):l==="."&&!i?s>a?u():a=s+1:l==="["?(s>a&&u(),i=a=s+1):l==="]"&&(i||G("Access path missing open bracket: "+e),i>0&&u(),i=0,a=s+1)}return i&&G("Access path missing closing bracket: "+e),r&&G("Access path missing closing quote: "+e),s>a&&(s++,u()),t}function Lo(e,t,n){const r=Hs(e);return e=r.length===1?r[0]:e,Ti((n&&n.get||$Z)(r),[e],t||e)}const Q1=Lo("id"),Rr=Ti(e=>e,[],"identity"),Bu=Ti(()=>0,[],"zero"),hm=Ti(()=>1,[],"one"),zo=Ti(()=>!0,[],"true"),Cu=Ti(()=>!1,[],"false");function ywe(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const OZ=0,aF=1,sF=2,CZ=3,kZ=4;function lF(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ywe,r=e||OZ;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=aF&&n(t||"error","ERROR",arguments),this},warn(){return r>=sF&&n(t||"warn","WARN",arguments),this},info(){return r>=CZ&&n(t||"log","INFO",arguments),this},debug(){return r>=kZ&&n(t||"log","DEBUG",arguments),this}}}var X=Array.isArray;function le(e){return e===Object(e)}const VB=e=>e!=="__proto__";function pm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=vwe(r.signals,i.signals);else{const a=o==="legend"?{layout:1}:o==="style"?!0:null;gm(r,o,i[o],a)}return r},{})}function gm(e,t,n,r){if(!VB(t))return;let i,o;if(le(n)&&!X(n)){o=le(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?gm(o,i,n[i]):VB(i)&&(o[i]=n[i])}else e[t]=n}function vwe(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function Ve(e){return e[e.length-1]}function Or(e){return e==null||e===""?null:+e}const PZ=e=>t=>e*Math.exp(t),TZ=e=>t=>Math.log(e*t),MZ=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),NZ=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,uE=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function cA(e,t,n,r){const i=n(e[0]),o=n(Ve(e)),a=(o-i)*t;return[r(i-a),r(o-a)]}function RZ(e,t){return cA(e,t,Or,Rr)}function DZ(e,t){var n=Math.sign(e[0]);return cA(e,t,TZ(n),PZ(n))}function IZ(e,t,n){return cA(e,t,uE(n),uE(1/n))}function FZ(e,t,n){return cA(e,t,MZ(n),NZ(n))}function fA(e,t,n,r,i){const o=r(e[0]),a=r(Ve(e)),s=t!=null?r(t):(o+a)/2;return[i(s+(o-s)*n),i(s+(a-s)*n)]}function uF(e,t,n){return fA(e,t,n,Or,Rr)}function cF(e,t,n){const r=Math.sign(e[0]);return fA(e,t,n,TZ(r),PZ(r))}function cE(e,t,n,r){return fA(e,t,n,uE(r),uE(1/r))}function fF(e,t,n,r){return fA(e,t,n,MZ(r),NZ(r))}function jZ(e){return 1+~~(new Date(e).getMonth()/3)}function LZ(e){return 1+~~(new Date(e).getUTCMonth()/3)}function ue(e){return e!=null?X(e)?e:[e]:[]}function zZ(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function Re(e){return typeof e=="function"}const bwe="descending";function dF(e,t,n){n=n||{},t=ue(t)||[];const r=[],i=[],o={},a=n.comparator||xwe;return ue(e).forEach((s,l)=>{s!=null&&(r.push(t[l]===bwe?-1:1),i.push(s=Re(s)?s:Lo(s,null,n)),(kr(s)||[]).forEach(u=>o[u]=1))}),i.length===0?null:Ti(a(i,r),Object.keys(o))}const mm=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),xwe=(e,t)=>e.length===1?wwe(e[0],t[0]):Swe(e,t,e.length),wwe=(e,t)=>function(n,r){return mm(e(n),e(r))*t},Swe=(e,t,n)=>(t.push(0),function(r,i){let o,a=0,s=-1;for(;a===0&&++s<n;)o=e[s],a=mm(o(r),o(i));return a*t[s]});function Dr(e){return Re(e)?e:()=>e}function hF(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Ne(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Rs(e,t){let n=0,r,i,o,a;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=a=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>a&&(a=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=a=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>a&&(a=i))}return[o,a]}function BZ(e,t){const n=e.length;let r=-1,i,o,a,s,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=a=o;break}if(r===n)return[-1,-1];for(s=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,s=r),a<o&&(a=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=a=o;break}if(r===n)return[-1,-1];for(s=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,s=r),a<o&&(a=o,l=r))}return[s,l]}function de(e,t){return Object.hasOwn(e,t)}const jx={};function ym(e){let t={},n;function r(o){return de(t,o)&&t[o]!==jx}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,a){return r(o)||(++i.size,t[o]===jx&&--i.empty),t[o]=a,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=jx),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let a=0;for(const s in t){const l=t[s];l!==jx&&(!n||!n(l))&&(o[s]=l,++a)}i.size=a,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function UZ(e,t,n,r,i,o){if(!n&&n!==0)return o;const a=+n;let s=e[0],l=Ve(e),u;l<s&&(u=s,s=l,l=u),u=Math.abs(t-s);const c=Math.abs(l-t);return u<c&&u<=a?r:c<=a?i:o}function ie(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Ne(r,n)}function Jh(e,t,n,r){let i=t[0],o=t[t.length-1],a;return i>o&&(a=i,i=o,o=a),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function Gc(e){return typeof e=="boolean"}function gc(e){return Object.prototype.toString.call(e)==="[object Date]"}function WZ(e){return e&&Re(e[Symbol.iterator])}function tt(e){return typeof e=="number"}function pF(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function se(e){return typeof e=="string"}function gF(e,t,n){e&&(e=t?ue(e).map(s=>s.replace(/\\(.)/g,"$1")):ue(e));const r=e&&e.length,i=n&&n.get||$Z,o=s=>i(t?[s]:Hs(s));let a;if(!r)a=function(){return""};else if(r===1){const s=o(e[0]);a=function(l){return""+s(l)}}else{const s=e.map(o);a=function(l){let u=""+s[0](l),c=0;for(;++c<r;)u+="|"+s[c](l);return u}}return Ti(a,e,"key")}function qZ(e,t){const n=e[0],r=Ve(e),i=+t;return i?i===1?r:n+i*(r-n):n}const Ewe=1e4;function HZ(e){e=+e||Ewe;let t,n,r;const i=()=>{t={},n={},r=0},o=(a,s)=>(++r>e&&(n=t,t={},r=1),t[a]=s);return i(),{clear:i,has:a=>de(t,a)||de(n,a),get:a=>de(t,a)?t[a]:de(n,a)?o(a,n[a]):void 0,set:(a,s)=>de(t,a)?t[a]=s:o(a,s)}}function GZ(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const a=r||new t.constructor(i+o);let s=0,l=0,u=0;for(;s<i&&l<o;++u)a[u]=e(t[s],n[l])>0?n[l++]:t[s++];for(;s<i;++s,++u)a[u]=t[s];for(;l<o;++l,++u)a[u]=n[l];return a}function Xy(e,t){let n="";for(;--t>=0;)n+=e;return n}function VZ(e,t,n,r){const i=n||" ",o=e+"",a=t-o.length;return a<=0?o:r==="left"?Xy(i,a)+o:r==="center"?Xy(i,~~(a/2))+o+Xy(i,Math.ceil(a/2)):o+Xy(i,a)}function J1(e){return e&&Ve(e)-e[0]||0}function re(e){return X(e)?"["+e.map(re)+"]":le(e)||se(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function mF(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const _we=e=>tt(e)||gc(e)?e:Date.parse(e);function yF(e,t){return t=t||_we,e==null||e===""?null:t(e)}function vF(e){return e==null||e===""?null:e+""}function Ma(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function XZ(e,t,n,r){const i=r??"",o=e+"",a=o.length,s=Math.max(0,t-i.length);return a<=t?o:n==="left"?i+o.slice(a-s):n==="center"?o.slice(0,Math.ceil(s/2))+i+o.slice(a-~~(s/2)):o.slice(0,s)+i}function Nu(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}var XB={},kk={},Pk=34,fy=10,Tk=13;function KZ(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Awe(e,t){var n=KZ(e);return function(r,i){return t(n(r),i,e)}}function KB(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function fi(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function $we(e){return e<0?"-"+fi(-e,6):e>9999?"+"+fi(e,6):fi(e,4)}function Owe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":$we(e.getUTCFullYear())+"-"+fi(e.getUTCMonth()+1,2)+"-"+fi(e.getUTCDate(),2)+(i?"T"+fi(t,2)+":"+fi(n,2)+":"+fi(r,2)+"."+fi(i,3)+"Z":r?"T"+fi(t,2)+":"+fi(n,2)+":"+fi(r,2)+"Z":n||t?"T"+fi(t,2)+":"+fi(n,2)+"Z":"")}function Cwe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(m,y){if(h)return h(m,y-1);p=m,h=d?Awe(m,d):KZ(m)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,m=0,y,v=p<=0,b=!1;f.charCodeAt(p-1)===fy&&--p,f.charCodeAt(p-1)===Tk&&--p;function x(){if(v)return kk;if(b)return b=!1,XB;var E,S=g,A;if(f.charCodeAt(S)===Pk){for(;g++<p&&f.charCodeAt(g)!==Pk||f.charCodeAt(++g)===Pk;);return(E=g)>=p?v=!0:(A=f.charCodeAt(g++))===fy?b=!0:A===Tk&&(b=!0,f.charCodeAt(g)===fy&&++g),f.slice(S+1,E-1).replace(/""/g,'"')}for(;g<p;){if((A=f.charCodeAt(E=g++))===fy)b=!0;else if(A===Tk)b=!0,f.charCodeAt(g)===fy&&++g;else if(A!==n)continue;return f.slice(S,E)}return v=!0,f.slice(S,p)}for(;(y=x())!==kk;){for(var w=[];y!==XB&&y!==kk;)w.push(y),y=x();d&&(w=d(w,m++))==null||h.push(w)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function a(f,d){return d==null&&(d=KB(f)),[d.map(c).join(e)].concat(o(f,d)).join(`
`)}function s(f,d){return d==null&&(d=KB(f)),o(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?Owe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:u,formatValue:c}}function kwe(e){return e}function Pwe(e){if(e==null)return kwe;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(s,l){l||(t=n=0);var u=2,c=s.length,f=new Array(c);for(f[0]=(t+=s[0])*r+o,f[1]=(n+=s[1])*i+a;u<c;)f[u]=s[u],++u;return f}}function Twe(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function Mwe(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return YB(e,n)})}:YB(e,t)}function YB(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=YZ(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function YZ(e,t){var n=Pwe(e.transform),r=e.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));c<0&&Twe(f,p)}function o(c){return n(c)}function a(c){for(var f=[],d=0,h=c.length;d<h;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function s(c){for(var f=a(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(s)}function u(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":d=o(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(o);break;case"LineString":d=a(c.arcs);break;case"MultiLineString":d=c.arcs.map(a);break;case"Polygon":d=l(c.arcs);break;case"MultiPolygon":d=c.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return u(t)}function Nwe(e,t){var n={},r={},i={},o=[],a=-1;t.forEach(function(u,c){var f=e.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++a],t[a]=u,t[c]=d)}),t.forEach(function(u){var c=s(u),f=c[0],d=c[1],h,p;if(h=i[f])if(delete i[h.end],h.push(u),h.end=d,p=r[d]){delete r[p.start];var g=p===h?h:h.concat(p);r[g.start=h.start]=i[g.end=p.end]=g}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(u),h.start=f,p=i[f]){delete i[p.end];var m=p===h?h:p.concat(h);r[m.start=p.start]=i[m.end=h.end]=m}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=f]=i[h.end=d]=h});function s(u){var c=e.arcs[u<0?~u:u],f=c[0],d;return e.transform?(d=[0,0],c.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=c[c.length-1],u<0?[d,f]:[f,d]}function l(u,c){for(var f in u){var d=u[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),o.push(d)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function Rwe(e){return YZ(e,Dwe.apply(this,arguments))}function Dwe(e,t,n){var r,i,o;if(arguments.length>1)r=Iwe(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Nwe(e,r)}}function Iwe(e,t,n){var r=[],i=[],o;function a(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:o})}function s(f){f.forEach(a)}function l(f){f.forEach(s)}function u(f){f.forEach(l)}function c(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":s(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}function Es(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fwe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vm(e){let t,n,r;e.length!==2?(t=Es,n=(s,l)=>Es(e(s),l),r=(s,l)=>e(s)-l):(t=e===Es||e===Fwe?e:jwe,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function jwe(){return 0}function QZ(e){return e===null?NaN:+e}function*Lwe(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const JZ=vm(Es),Ql=JZ.right,zwe=JZ.left;vm(QZ).center;function Bwe(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i))}if(n>1)return o/(n-1)}function Uwe(e,t){const n=Bwe(e,t);return n&&Math.sqrt(n)}class ei{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=t+o,s=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);s&&(n[r++]=s),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class QB extends Map{constructor(t,n=tee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(nN(this,t))}has(t){return super.has(nN(this,t))}set(t,n){return super.set(ZZ(this,t),n)}delete(t){return super.delete(eee(this,t))}}class fE extends Set{constructor(t,n=tee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(nN(this,t))}add(t){return super.add(ZZ(this,t))}delete(t){return super.delete(eee(this,t))}}function nN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ZZ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function eee({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function tee(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Wwe(e,t){return Array.from(t,n=>e[n])}function qwe(e=Es){if(e===Es)return nee;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function nee(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Hwe=Math.sqrt(50),Gwe=Math.sqrt(10),Vwe=Math.sqrt(2);function dE(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Hwe?10:o>=Gwe?5:o>=Vwe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?dE(e,t,n*2):[s,l,u]}function rN(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?dE(t,e,n):dE(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function iN(e,t,n){return t=+t,e=+e,n=+n,dE(e,t,n)[2]}function Oc(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?iN(t,e,n):iN(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Jf(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function oN(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function ree(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?nee:qwe(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/l+d)),p=Math.min(r,Math.floor(t+(l-u)*f/l+d));ree(e,t,h,p,i)}const o=e[t];let a=n,s=r;for(dy(e,n,t),i(e[r],o)>0&&dy(e,n,r);a<s;){for(dy(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?dy(e,n,s):(++s,dy(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function dy(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function hE(e,t,n){if(e=Float64Array.from(Lwe(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return oN(e);if(t>=1)return Jf(e);var r,i=(r-1)*t,o=Math.floor(i),a=Jf(ree(e,o).subarray(0,o+1)),s=oN(e.subarray(o+1));return a+(s-a)*(i-o)}}function iee(e,t,n=QZ){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function Xwe(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function oee(e,t){return hE(e,.5,t)}function*Kwe(e){for(const t of e)yield*t}function aee(e){return Array.from(Kwe(e))}function vi(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function see(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function Ywe(e,...t){e=new fE(e),t=t.map(Qwe);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function Qwe(e){return e instanceof fE?e:new fE(e)}function Jwe(...e){const t=new fE;for(const n of e)for(const r of n)t.add(r);return t}function Zwe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pE(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Jp(e){return e=pE(Math.abs(e)),e?e[1]:NaN}function eSe(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function tSe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var nSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yd(e){if(!(t=nSe.exec(e)))throw new Error("invalid format: "+e);var t;return new bF({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yd.prototype=bF.prototype;function bF(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bF.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rSe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var lee;function iSe(e,t){var n=pE(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(lee=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+pE(e,Math.max(0,t+o-1))[0]}function JB(e,t){var n=pE(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ZB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Zwe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>JB(e*100,t),r:JB,s:iSe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function e9(e){return e}var t9=Array.prototype.map,n9=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uee(e){var t=e.grouping===void 0||e.thousands===void 0?e9:eSe(t9.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?e9:tSe(t9.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=yd(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,y=f.width,v=f.comma,b=f.precision,x=f.trim,w=f.type;w==="n"?(v=!0,w="g"):ZB[w]||(b===void 0&&(b=12),x=!0,w="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var E=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=g==="$"?r:/[%p]/.test(w)?a:"",A=ZB[w],$=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function _(O){var P=E,R=S,k,C,M;if(w==="c")R=A(O)+R,O="";else{O=+O;var I=O<0||1/O<0;if(O=isNaN(O)?l:A(Math.abs(O),b),x&&(O=rSe(O)),I&&+O==0&&p!=="+"&&(I=!1),P=(I?p==="("?p:s:p==="-"||p==="("?"":p)+P,R=(w==="s"?n9[8+lee/3]:"")+R+(I&&p==="("?")":""),$){for(k=-1,C=O.length;++k<C;)if(M=O.charCodeAt(k),48>M||M>57){R=(M===46?i+O.slice(k+1):O.slice(k))+R,O=O.slice(0,k);break}}}v&&!m&&(O=t(O,1/0));var N=P.length+O.length+R.length,F=N<y?new Array(y-N+1).join(d):"";switch(v&&m&&(O=t(F+O,F.length?y-R.length:1/0),F=""),h){case"<":O=P+O+R+F;break;case"=":O=P+F+O+R;break;case"^":O=F.slice(0,N=F.length>>1)+P+O+R+F.slice(N);break;default:O=F+P+O+R;break}return o(O)}return _.toString=function(){return f+""},_}function c(f,d){var h=u((f=yd(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Jp(d)/3)))*3,g=Math.pow(10,-p),m=n9[8+p/3];return function(y){return h(g*y)+m}}return{format:u,formatPrefix:c}}var Lx,dA,xF;oSe({thousands:",",grouping:[3],currency:["$",""]});function oSe(e){return Lx=uee(e),dA=Lx.format,xF=Lx.formatPrefix,Lx}function cee(e){return Math.max(0,-Jp(Math.abs(e)))}function fee(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jp(t)/3)))*3-Jp(Math.abs(e)))}function dee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jp(t)-Jp(e))+1}const Mk=new Date,Nk=new Date;function Rn(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return l},i.filter=o=>Rn(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(Mk.setTime(+o),Nk.setTime(+a),e(Mk),e(Nk),Math.floor(n(Mk,Nk))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Zp=Rn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Rn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Zp);Zp.range;const $l=1e3,Co=$l*60,Ol=Co*60,Jl=Ol*24,wF=Jl*7,r9=Jl*30,Rk=Jl*365,Cl=Rn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$l)},(e,t)=>(t-e)/$l,e=>e.getUTCSeconds());Cl.range;const hA=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$l)},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getMinutes());hA.range;const pA=Rn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getUTCMinutes());pA.range;const gA=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$l-e.getMinutes()*Co)},(e,t)=>{e.setTime(+e+t*Ol)},(e,t)=>(t-e)/Ol,e=>e.getHours());gA.range;const mA=Rn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ol)},(e,t)=>(t-e)/Ol,e=>e.getUTCHours());mA.range;const Rl=Rn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Co)/Jl,e=>e.getDate()-1);Rl.range;const mc=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jl,e=>e.getUTCDate()-1);mc.range;const hee=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jl,e=>Math.floor(e/Jl));hee.range;function Vd(e){return Rn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Co)/wF)}const bm=Vd(0),gE=Vd(1),aSe=Vd(2),sSe=Vd(3),eg=Vd(4),lSe=Vd(5),uSe=Vd(6);bm.range;gE.range;aSe.range;sSe.range;eg.range;lSe.range;uSe.range;function Xd(e){return Rn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/wF)}const xm=Xd(0),mE=Xd(1),cSe=Xd(2),fSe=Xd(3),tg=Xd(4),dSe=Xd(5),hSe=Xd(6);xm.range;mE.range;cSe.range;fSe.range;tg.range;dSe.range;hSe.range;const Ev=Rn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ev.range;const _v=Rn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_v.range;const Ds=Rn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ds.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ds.range;const Is=Rn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Is.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Is.range;function pee(e,t,n,r,i,o){const a=[[Cl,1,$l],[Cl,5,5*$l],[Cl,15,15*$l],[Cl,30,30*$l],[o,1,Co],[o,5,5*Co],[o,15,15*Co],[o,30,30*Co],[i,1,Ol],[i,3,3*Ol],[i,6,6*Ol],[i,12,12*Ol],[r,1,Jl],[r,2,2*Jl],[n,1,wF],[t,1,r9],[t,3,3*r9],[e,1,Rk]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),p=h?h.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,f){const d=Math.abs(c-u)/f,h=vm(([,,m])=>m).right(a,d);if(h===a.length)return e.every(Oc(u/Rk,c/Rk,f));if(h===0)return Zp.every(Math.max(Oc(u,c,f),1));const[p,g]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return p.every(g)}return[s,l]}const[pSe,gSe]=pee(Is,_v,xm,hee,mA,pA),[mSe,ySe]=pee(Ds,Ev,bm,Rl,gA,hA),lr="year",Ei="quarter",Pr="month",Pn="week",_i="date",$r="day",Fs="dayofyear",ao="hours",so="minutes",Bo="seconds",Na="milliseconds",SF=[lr,Ei,Pr,Pn,_i,$r,Fs,ao,so,Bo,Na],Dk=SF.reduce((e,t,n)=>(e[t]=1+n,e),{});function EF(e){const t=ue(e).slice(),n={};return t.length||G("Missing time unit."),t.forEach(i=>{de(Dk,i)?n[i]=1:G(`Invalid time unit: ${i}.`)}),(n[Pn]||n[$r]?1:0)+(n[Ei]||n[Pr]||n[_i]?1:0)+(n[Fs]?1:0)>1&&G(`Incompatible time units: ${e}`),t.sort((i,o)=>Dk[i]-Dk[o]),t}const vSe={[lr]:"%Y ",[Ei]:"Q%q ",[Pr]:"%b ",[_i]:"%d ",[Pn]:"W%U ",[$r]:"%a ",[Fs]:"%j ",[ao]:"%H:00",[so]:"00:%M",[Bo]:":%S",[Na]:".%L",[`${lr}-${Pr}`]:"%Y-%m ",[`${lr}-${Pr}-${_i}`]:"%Y-%m-%d ",[`${ao}-${so}`]:"%H:%M"};function gee(e,t){const n=Ne({},vSe,t),r=EF(e),i=r.length;let o="",a=0,s,l;for(a=0;a<i;)for(s=r.length;s>a;--s)if(l=r.slice(a,s).join("-"),n[l]!=null){o+=n[l],a=s;break}return o.trim()}const Mf=new Date;function _F(e){return Mf.setFullYear(e),Mf.setMonth(0),Mf.setDate(1),Mf.setHours(0,0,0,0),Mf}function mee(e){return vee(new Date(e))}function yee(e){return aN(new Date(e))}function vee(e){return Rl.count(_F(e.getFullYear())-1,e)}function aN(e){return bm.count(_F(e.getFullYear())-1,e)}function sN(e){return _F(e).getDay()}function bSe(e,t,n,r,i,o,a){if(0<=e&&e<100){const s=new Date(-1,t,n,r,i,o,a);return s.setFullYear(e),s}return new Date(e,t,n,r,i,o,a)}function bee(e){return wee(new Date(e))}function xee(e){return lN(new Date(e))}function wee(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return mc.count(t-1,e)}function lN(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return xm.count(t-1,e)}function uN(e){return Mf.setTime(Date.UTC(e,0,1)),Mf.getUTCDay()}function xSe(e,t,n,r,i,o,a){if(0<=e&&e<100){const s=new Date(Date.UTC(-1,t,n,r,i,o,a));return s.setUTCFullYear(n.y),s}return new Date(Date.UTC(e,t,n,r,i,o,a))}function See(e,t,n,r,i){const o=t||1,a=Ve(e),s=(y,v,b)=>(b=b||y,wSe(n[b],r[b],y===a&&o,v)),l=new Date,u=Ma(e),c=u[lr]?s(lr):Dr(2012),f=u[Pr]?s(Pr):u[Ei]?s(Ei):Bu,d=u[Pn]&&u[$r]?s($r,1,Pn+$r):u[Pn]?s(Pn,1):u[$r]?s($r,1):u[_i]?s(_i,1):u[Fs]?s(Fs,1):hm,h=u[ao]?s(ao):Bu,p=u[so]?s(so):Bu,g=u[Bo]?s(Bo):Bu,m=u[Na]?s(Na):Bu;return function(y){l.setTime(+y);const v=c(l);return i(v,f(l),d(l,v),h(l),p(l),g(l),m(l))}}function wSe(e,t,n,r){const i=n<=1?e:r?(o,a)=>r+n*Math.floor((e(o,a)-r)/n):(o,a)=>n*Math.floor(e(o,a)/n);return t?(o,a)=>t(i(o,a),a):i}function ng(e,t,n){return t+e*7-(n+6)%7}const SSe={[lr]:e=>e.getFullYear(),[Ei]:e=>Math.floor(e.getMonth()/3),[Pr]:e=>e.getMonth(),[_i]:e=>e.getDate(),[ao]:e=>e.getHours(),[so]:e=>e.getMinutes(),[Bo]:e=>e.getSeconds(),[Na]:e=>e.getMilliseconds(),[Fs]:e=>vee(e),[Pn]:e=>aN(e),[Pn+$r]:(e,t)=>ng(aN(e),e.getDay(),sN(t)),[$r]:(e,t)=>ng(1,e.getDay(),sN(t))},ESe={[Ei]:e=>3*e,[Pn]:(e,t)=>ng(e,0,sN(t))};function Eee(e,t){return See(e,t||1,SSe,ESe,bSe)}const _Se={[lr]:e=>e.getUTCFullYear(),[Ei]:e=>Math.floor(e.getUTCMonth()/3),[Pr]:e=>e.getUTCMonth(),[_i]:e=>e.getUTCDate(),[ao]:e=>e.getUTCHours(),[so]:e=>e.getUTCMinutes(),[Bo]:e=>e.getUTCSeconds(),[Na]:e=>e.getUTCMilliseconds(),[Fs]:e=>wee(e),[Pn]:e=>lN(e),[$r]:(e,t)=>ng(1,e.getUTCDay(),uN(t)),[Pn+$r]:(e,t)=>ng(lN(e),e.getUTCDay(),uN(t))},ASe={[Ei]:e=>3*e,[Pn]:(e,t)=>ng(e,0,uN(t))};function _ee(e,t){return See(e,t||1,_Se,ASe,xSe)}const $Se={[lr]:Ds,[Ei]:Ev.every(3),[Pr]:Ev,[Pn]:bm,[_i]:Rl,[$r]:Rl,[Fs]:Rl,[ao]:gA,[so]:hA,[Bo]:Cl,[Na]:Zp},OSe={[lr]:Is,[Ei]:_v.every(3),[Pr]:_v,[Pn]:xm,[_i]:mc,[$r]:mc,[Fs]:mc,[ao]:mA,[so]:pA,[Bo]:Cl,[Na]:Zp};function wm(e){return $Se[e]}function Sm(e){return OSe[e]}function Aee(e,t,n){return e?e.offset(t,n):void 0}function $ee(e,t,n){return Aee(wm(e),t,n)}function Oee(e,t,n){return Aee(Sm(e),t,n)}function Cee(e,t,n,r){return e?e.range(t,n,r):void 0}function kee(e,t,n,r){return Cee(wm(e),t,n,r)}function Pee(e,t,n,r){return Cee(Sm(e),t,n,r)}const Ky=1e3,Yy=Ky*60,Qy=Yy*60,yA=Qy*24,CSe=yA*7,i9=yA*30,cN=yA*365,Tee=[lr,Pr,_i,ao,so,Bo,Na],Jy=Tee.slice(0,-1),Zy=Jy.slice(0,-1),e0=Zy.slice(0,-1),kSe=e0.slice(0,-1),PSe=[lr,Pn],o9=[lr,Pr],Mee=[lr],hy=[[Jy,1,Ky],[Jy,5,5*Ky],[Jy,15,15*Ky],[Jy,30,30*Ky],[Zy,1,Yy],[Zy,5,5*Yy],[Zy,15,15*Yy],[Zy,30,30*Yy],[e0,1,Qy],[e0,3,3*Qy],[e0,6,6*Qy],[e0,12,12*Qy],[kSe,1,yA],[PSe,1,CSe],[o9,1,i9],[o9,3,3*i9],[Mee,1,cN]];function Nee(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(J1(t))/n;let i=vm(s=>s[2]).right(hy,r),o,a;return i===hy.length?(o=Mee,a=Oc(t[0]/cN,t[1]/cN,n)):i?(i=hy[r/hy[i-1][2]<hy[i][2]/r?i-1:i],o=i[0],a=i[1]):(o=Tee,a=Math.max(Oc(t[0],t[1],n),1)),{units:o,step:a}}function Ik(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function py(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Ree(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=gy(i),c=my(i),f=gy(o),d=my(o),h=gy(a),p=my(a),g=gy(s),m=my(s),y=gy(l),v=my(l),b={a:I,A:N,b:F,B:L,c:null,d:f9,e:f9,f:ZSe,g:uEe,G:fEe,H:YSe,I:QSe,j:JSe,L:Dee,m:eEe,M:tEe,p:z,q:B,Q:p9,s:g9,S:nEe,u:rEe,U:iEe,V:oEe,w:aEe,W:sEe,x:null,X:null,y:lEe,Y:cEe,Z:dEe,"%":h9},x={a:V,A:ce,b:fe,B:Ee,c:null,d:d9,e:d9,f:mEe,g:$Ee,G:CEe,H:hEe,I:pEe,j:gEe,L:Fee,m:yEe,M:vEe,p:Xe,q:Mt,Q:p9,s:g9,S:bEe,u:xEe,U:wEe,V:SEe,w:EEe,W:_Ee,x:null,X:null,y:AEe,Y:OEe,Z:kEe,"%":h9},w={a:_,A:O,b:P,B:R,c:k,d:u9,e:u9,f:GSe,g:l9,G:s9,H:c9,I:c9,j:USe,L:HSe,m:BSe,M:WSe,p:$,q:zSe,Q:XSe,s:KSe,S:qSe,u:DSe,U:ISe,V:FSe,w:RSe,W:jSe,x:C,X:M,y:l9,Y:s9,Z:LSe,"%":VSe};b.x=E(n,b),b.X=E(r,b),b.c=E(t,b),x.x=E(n,x),x.X=E(r,x),x.c=E(t,x);function E(ae,ve){return function($e){var Q=[],Je=-1,De=0,ct=ae.length,Ze,En,Ni;for($e instanceof Date||($e=new Date(+$e));++Je<ct;)ae.charCodeAt(Je)===37&&(Q.push(ae.slice(De,Je)),(En=a9[Ze=ae.charAt(++Je)])!=null?Ze=ae.charAt(++Je):En=Ze==="e"?" ":"0",(Ni=ve[Ze])&&(Ze=Ni($e,En)),Q.push(Ze),De=Je+1);return Q.push(ae.slice(De,Je)),Q.join("")}}function S(ae,ve){return function($e){var Q=py(1900,void 0,1),Je=A(Q,ae,$e+="",0),De,ct;if(Je!=$e.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ve&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(De=Fk(py(Q.y,0,1)),ct=De.getUTCDay(),De=ct>4||ct===0?mE.ceil(De):mE(De),De=mc.offset(De,(Q.V-1)*7),Q.y=De.getUTCFullYear(),Q.m=De.getUTCMonth(),Q.d=De.getUTCDate()+(Q.w+6)%7):(De=Ik(py(Q.y,0,1)),ct=De.getDay(),De=ct>4||ct===0?gE.ceil(De):gE(De),De=Rl.offset(De,(Q.V-1)*7),Q.y=De.getFullYear(),Q.m=De.getMonth(),Q.d=De.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),ct="Z"in Q?Fk(py(Q.y,0,1)).getUTCDay():Ik(py(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(ct+5)%7:Q.w+Q.U*7-(ct+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Fk(Q)):Ik(Q)}}function A(ae,ve,$e,Q){for(var Je=0,De=ve.length,ct=$e.length,Ze,En;Je<De;){if(Q>=ct)return-1;if(Ze=ve.charCodeAt(Je++),Ze===37){if(Ze=ve.charAt(Je++),En=w[Ze in a9?ve.charAt(Je++):Ze],!En||(Q=En(ae,$e,Q))<0)return-1}else if(Ze!=$e.charCodeAt(Q++))return-1}return Q}function $(ae,ve,$e){var Q=u.exec(ve.slice($e));return Q?(ae.p=c.get(Q[0].toLowerCase()),$e+Q[0].length):-1}function _(ae,ve,$e){var Q=h.exec(ve.slice($e));return Q?(ae.w=p.get(Q[0].toLowerCase()),$e+Q[0].length):-1}function O(ae,ve,$e){var Q=f.exec(ve.slice($e));return Q?(ae.w=d.get(Q[0].toLowerCase()),$e+Q[0].length):-1}function P(ae,ve,$e){var Q=y.exec(ve.slice($e));return Q?(ae.m=v.get(Q[0].toLowerCase()),$e+Q[0].length):-1}function R(ae,ve,$e){var Q=g.exec(ve.slice($e));return Q?(ae.m=m.get(Q[0].toLowerCase()),$e+Q[0].length):-1}function k(ae,ve,$e){return A(ae,t,ve,$e)}function C(ae,ve,$e){return A(ae,n,ve,$e)}function M(ae,ve,$e){return A(ae,r,ve,$e)}function I(ae){return a[ae.getDay()]}function N(ae){return o[ae.getDay()]}function F(ae){return l[ae.getMonth()]}function L(ae){return s[ae.getMonth()]}function z(ae){return i[+(ae.getHours()>=12)]}function B(ae){return 1+~~(ae.getMonth()/3)}function V(ae){return a[ae.getUTCDay()]}function ce(ae){return o[ae.getUTCDay()]}function fe(ae){return l[ae.getUTCMonth()]}function Ee(ae){return s[ae.getUTCMonth()]}function Xe(ae){return i[+(ae.getUTCHours()>=12)]}function Mt(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ve=E(ae+="",b);return ve.toString=function(){return ae},ve},parse:function(ae){var ve=S(ae+="",!1);return ve.toString=function(){return ae},ve},utcFormat:function(ae){var ve=E(ae+="",x);return ve.toString=function(){return ae},ve},utcParse:function(ae){var ve=S(ae+="",!0);return ve.toString=function(){return ae},ve}}}var a9={"-":"",_:" ",0:"0"},Vn=/^\s*\d+/,TSe=/^%/,MSe=/[\\^$*+?|[\]().{}]/g;function nt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function NSe(e){return e.replace(MSe,"\\$&")}function gy(e){return new RegExp("^(?:"+e.map(NSe).join("|")+")","i")}function my(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function RSe(e,t,n){var r=Vn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function DSe(e,t,n){var r=Vn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ISe(e,t,n){var r=Vn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function FSe(e,t,n){var r=Vn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function jSe(e,t,n){var r=Vn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function s9(e,t,n){var r=Vn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function l9(e,t,n){var r=Vn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function LSe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function zSe(e,t,n){var r=Vn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function BSe(e,t,n){var r=Vn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function u9(e,t,n){var r=Vn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function USe(e,t,n){var r=Vn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function c9(e,t,n){var r=Vn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function WSe(e,t,n){var r=Vn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function qSe(e,t,n){var r=Vn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function HSe(e,t,n){var r=Vn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function GSe(e,t,n){var r=Vn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function VSe(e,t,n){var r=TSe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function XSe(e,t,n){var r=Vn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function KSe(e,t,n){var r=Vn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function f9(e,t){return nt(e.getDate(),t,2)}function YSe(e,t){return nt(e.getHours(),t,2)}function QSe(e,t){return nt(e.getHours()%12||12,t,2)}function JSe(e,t){return nt(1+Rl.count(Ds(e),e),t,3)}function Dee(e,t){return nt(e.getMilliseconds(),t,3)}function ZSe(e,t){return Dee(e,t)+"000"}function eEe(e,t){return nt(e.getMonth()+1,t,2)}function tEe(e,t){return nt(e.getMinutes(),t,2)}function nEe(e,t){return nt(e.getSeconds(),t,2)}function rEe(e){var t=e.getDay();return t===0?7:t}function iEe(e,t){return nt(bm.count(Ds(e)-1,e),t,2)}function Iee(e){var t=e.getDay();return t>=4||t===0?eg(e):eg.ceil(e)}function oEe(e,t){return e=Iee(e),nt(eg.count(Ds(e),e)+(Ds(e).getDay()===4),t,2)}function aEe(e){return e.getDay()}function sEe(e,t){return nt(gE.count(Ds(e)-1,e),t,2)}function lEe(e,t){return nt(e.getFullYear()%100,t,2)}function uEe(e,t){return e=Iee(e),nt(e.getFullYear()%100,t,2)}function cEe(e,t){return nt(e.getFullYear()%1e4,t,4)}function fEe(e,t){var n=e.getDay();return e=n>=4||n===0?eg(e):eg.ceil(e),nt(e.getFullYear()%1e4,t,4)}function dEe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nt(t/60|0,"0",2)+nt(t%60,"0",2)}function d9(e,t){return nt(e.getUTCDate(),t,2)}function hEe(e,t){return nt(e.getUTCHours(),t,2)}function pEe(e,t){return nt(e.getUTCHours()%12||12,t,2)}function gEe(e,t){return nt(1+mc.count(Is(e),e),t,3)}function Fee(e,t){return nt(e.getUTCMilliseconds(),t,3)}function mEe(e,t){return Fee(e,t)+"000"}function yEe(e,t){return nt(e.getUTCMonth()+1,t,2)}function vEe(e,t){return nt(e.getUTCMinutes(),t,2)}function bEe(e,t){return nt(e.getUTCSeconds(),t,2)}function xEe(e){var t=e.getUTCDay();return t===0?7:t}function wEe(e,t){return nt(xm.count(Is(e)-1,e),t,2)}function jee(e){var t=e.getUTCDay();return t>=4||t===0?tg(e):tg.ceil(e)}function SEe(e,t){return e=jee(e),nt(tg.count(Is(e),e)+(Is(e).getUTCDay()===4),t,2)}function EEe(e){return e.getUTCDay()}function _Ee(e,t){return nt(mE.count(Is(e)-1,e),t,2)}function AEe(e,t){return nt(e.getUTCFullYear()%100,t,2)}function $Ee(e,t){return e=jee(e),nt(e.getUTCFullYear()%100,t,2)}function OEe(e,t){return nt(e.getUTCFullYear()%1e4,t,4)}function CEe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?tg(e):tg.ceil(e),nt(e.getUTCFullYear()%1e4,t,4)}function kEe(){return"+0000"}function h9(){return"%"}function p9(e){return+e}function g9(e){return Math.floor(+e/1e3)}var gh,AF,Lee,$F,zee;PEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PEe(e){return gh=Ree(e),AF=gh.format,Lee=gh.parse,$F=gh.utcFormat,zee=gh.utcParse,gh}function t0(e){const t={};return n=>t[n]||(t[n]=e(n))}function TEe(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=MEe(r,i);const a=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+a}}function MEe(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function Bee(e){const t=t0(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=yd(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return TEe(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,a){a=yd(a??",f");const s=Oc(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let u;if(a.precision==null)switch(a.type){case"s":return isNaN(u=fee(s,l))||(a.precision=u),n(a,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=dee(s,l))||(a.precision=u-(a.type==="e"));break}case"f":case"%":{isNaN(u=cee(s))||(a.precision=u-(a.type==="%")*2);break}}return t(a)}}}let fN;Uee();function Uee(){return fN=Bee({format:dA,formatPrefix:xF})}function Wee(e){return Bee(uee(e))}function yE(e){return arguments.length?fN=Wee(e):fN}function m9(e,t,n){n=n||{},le(n)||G(`Invalid time multi-format specifier: ${n}`);const r=t(Bo),i=t(so),o=t(ao),a=t(_i),s=t(Pn),l=t(Pr),u=t(Ei),c=t(lr),f=e(n[Na]||".%L"),d=e(n[Bo]||":%S"),h=e(n[so]||"%I:%M"),p=e(n[ao]||"%I %p"),g=e(n[_i]||n[$r]||"%a %d"),m=e(n[Pn]||"%b %d"),y=e(n[Pr]||"%B"),v=e(n[Ei]||"%B"),b=e(n[lr]||"%Y");return x=>(r(x)<x?f:i(x)<x?d:o(x)<x?h:a(x)<x?p:l(x)<x?s(x)<x?g:m:c(x)<x?u(x)<x?y:v:b)(x)}function qee(e){const t=t0(e.format),n=t0(e.utcFormat);return{timeFormat:r=>se(r)?t(r):m9(t,wm,r),utcFormat:r=>se(r)?n(r):m9(n,Sm,r),timeParse:t0(e.parse),utcParse:t0(e.utcParse)}}let dN;Hee();function Hee(){return dN=qee({format:AF,parse:Lee,utcFormat:$F,utcParse:zee})}function Gee(e){return qee(Ree(e))}function Av(e){return arguments.length?dN=Gee(e):dN}const hN=(e,t)=>Ne({},e,t);function Vee(e,t){const n=e?Wee(e):yE(),r=t?Gee(t):Av();return hN(n,r)}function OF(e,t){const n=arguments.length;return n&&n!==2&&G("defaultLocale expects either zero or two arguments."),n?hN(yE(e),Av(t)):hN(yE(),Av())}function NEe(){return Uee(),Hee(),OF()}const REe=/^(data:|([A-Za-z]+:)?\/\/)/,DEe=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,IEe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,y9="file://";function FEe(e,t){return n=>({options:n||{},sanitize:LEe,load:jEe,fileAccess:!1,file:zEe(),http:UEe(e)})}async function jEe(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function LEe(e,t){t=Ne({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,a;const s=DEe.test(e.replace(IEe,""));(e==null||typeof e!="string"||!s)&&G("Sanitize failure, invalid URI: "+re(e));const l=REe.test(e);return(a=t.baseURL)&&!l&&(!e.startsWith("/")&&!a.endsWith("/")&&(e="/"+e),e=a+e),o=(i=e.startsWith(y9))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(y9.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function zEe(e){return BEe}async function BEe(){G("No file system access.")}function UEe(e){return e?async function(t,n){const r=Ne({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?Re(o[i])?o[i]():o.text():G(o.status+""+o.statusText)}:WEe}async function WEe(){G("No HTTP fetch method available.")}const qEe=e=>e!=null&&e===e,HEe=e=>e==="true"||e==="false"||e===!0||e===!1,GEe=e=>!Number.isNaN(Date.parse(e)),Xee=e=>!Number.isNaN(+e)&&!(e instanceof Date),VEe=e=>Xee(e)&&Number.isInteger(+e),pN={boolean:mF,integer:Or,number:Or,date:yF,string:vF,unknown:Rr},zx=[HEe,VEe,Xee,GEe],XEe=["boolean","integer","number","date"];function Kee(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=zx.length,i=zx.map((o,a)=>a+1);for(let o=0,a=0,s,l;o<n;++o)for(l=t?e[o][t]:e[o],s=0;s<r;++s)if(i[s]&&qEe(l)&&!zx[s](l)&&(i[s]=0,++a,a===zx.length))return"string";return XEe[i.reduce((o,a)=>o===0?a:o,0)-1]}function Yee(e,t){return t.reduce((n,r)=>(n[r]=Kee(e,r),n),{})}function v9(e){const t=function(n,r){const i={delimiter:e};return CF(n,r?Ne(r,i):i)};return t.responseType="text",t}function CF(e,t){return t.header&&(e=t.header.map(re).join(t.delimiter)+`
`+e),Cwe(t.delimiter).parse(e+"")}CF.responseType="text";function KEe(e){return typeof Buffer=="function"&&Re(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function kF(e,t){const n=t&&t.property?Lo(t.property):Rr;return le(e)&&!KEe(e)?YEe(n(e),t):n(JSON.parse(e))}kF.responseType="json";function YEe(e,t){return!X(e)&&WZ(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const QEe={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function Qee(e,t){let n,r,i,o;return e=kF(e,t),t&&t.feature?(n=Mwe,i=t.feature):t&&t.mesh?(n=Rwe,i=t.mesh,o=QEe[t.filter]):G("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):G("Invalid TopoJSON object: "+i),r&&r.features||[r]}Qee.responseType="json";const Zw={dsv:CF,csv:v9(","),tsv:v9("	"),json:kF,topojson:Qee};function PF(e,t){return arguments.length>1?(Zw[e]=t,this):de(Zw,e)?Zw[e]:null}function Jee(e){const t=PF(e);return t&&t.responseType||"text"}function Zee(e,t,n,r){t=t||{};const i=PF(t.type||"json");return i||G("Unknown data format type: "+t.type),e=i(e,t),t.parse&&JEe(e,t.parse,n,r),de(e,"columns")&&delete e.columns,e}function JEe(e,t,n,r){if(!e.length)return;const i=Av();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),a,s,l,u,c,f;t==="auto"&&(t=Yee(e,o)),o=Object.keys(t);const d=o.map(h=>{const p=t[h];let g,m;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),m=g[1],(m[0]==="'"&&m[m.length-1]==="'"||m[0]==='"'&&m[m.length-1]==='"')&&(m=m.slice(1,-1)),(g[0]==="utc"?r:n)(m);if(!pN[p])throw Error("Illegal format pattern: "+h+":"+p);return pN[p]});for(l=0,c=e.length,f=o.length;l<c;++l)for(a=e[l],u=0;u<f;++u)s=o[u],a[s]=d[u](a[s])}const vA=FEe(typeof fetch<"u"&&fetch);function bA(e){const t=e||Rr,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const a=n.indexOf(i);a>=0&&n.splice(a,1)}return n},n}async function eS(e,t){try{await t(e)}catch(n){e.error(n)}}const ete=Symbol("vega_id");let ZEe=1;function xA(e){return!!(e&&xe(e))}function xe(e){return e[ete]}function tte(e,t){return e[ete]=t,e}function st(e){const t=e===Object(e)?e:{data:e};return xe(t)?t:tte(t,ZEe++)}function TF(e){return wA(e,st({}))}function wA(e,t){for(const n in e)t[n]=e[n];return t}function nte(e,t){return tte(t,xe(e))}function Kd(e,t){return e?t?(n,r)=>e(n,r)||xe(t(n))-xe(t(r)):(n,r)=>e(n,r)||xe(n)-xe(r):null}function rte(e){return e&&e.constructor===Yd}function Yd(){const e=[],t=[],n=[],r=[],i=[];let o=null,a=!1;return{constructor:Yd,insert(s){const l=ue(s),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(s){const l=Re(s)?r:t,u=ue(s),c=u.length;for(let f=0;f<c;++f)l.push(u[f]);return this},modify(s,l,u){const c={field:l,value:Dr(u)};return Re(s)?(c.filter=s,i.push(c)):(c.tuple=s,n.push(c)),this},encode(s,l){return Re(s)?i.push({filter:s,field:l}):n.push({tuple:s,field:l}),this},clean(s){return o=s,this},reflow(){return a=!0,this},pulse(s,l){const u={},c={};let f,d,h,p,g,m;for(f=0,d=l.length;f<d;++f)u[xe(l[f])]=1;for(f=0,d=t.length;f<d;++f)g=t[f],u[xe(g)]=-1;for(f=0,d=r.length;f<d;++f)p=r[f],l.forEach(v=>{p(v)&&(u[xe(v)]=-1)});for(f=0,d=e.length;f<d;++f)g=e[f],m=xe(g),u[m]?u[m]=1:s.add.push(st(e[f]));for(f=0,d=l.length;f<d;++f)g=l[f],u[xe(g)]<0&&s.rem.push(g);function y(v,b,x){x?v[b]=x(v):s.encode=b,a||(c[xe(v)]=v)}for(f=0,d=n.length;f<d;++f)h=n[f],g=h.tuple,p=h.field,m=u[xe(g)],m>0&&(y(g,p,h.value),s.modifies(p));for(f=0,d=i.length;f<d;++f)h=i[f],p=h.filter,l.forEach(v=>{p(v)&&u[xe(v)]>0&&y(v,h.field,h.value)}),s.modifies(h.field);if(a)s.mod=t.length||r.length?l.filter(v=>u[xe(v)]>0):l.slice();else for(m in c)s.mod.push(c[m]);return(o||o==null&&(t.length||r.length))&&s.clean(!0),s}}}const tS="_:mod:_";function SA(){Object.defineProperty(this,tS,{writable:!0,value:{}})}SA.prototype={set(e,t,n,r){const i=this,o=i[e],a=i[tS];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,a[t+":"+e]=-1,a[e]=-1):(o!==n||r)&&(i[e]=n,a[e]=X(n)?1+n.length:-1),i},modified(e,t){const n=this[tS];if(arguments.length){if(X(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[tS]={},this}};let e2e=0;const t2e="pulse",n2e=new SA,r2e=1,i2e=2;function Et(e,t,n,r){this.id=++e2e,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function b9(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Et.prototype={targets(){return this._targets||(this._targets=bA(Q1))},set(e){return this.value!==e?(this.value=e,1):0},skip:b9(r2e),modified:b9(i2e),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new SA,i=this._argops=this._argops||[],o=[];let a,s,l,u;const c=(f,d,h)=>{h instanceof Et?(h!==this&&(t&&h.targets().add(this),o.push(h)),i.push({op:h,name:f,index:d})):r.set(f,d,h)};for(a in e)if(s=e[a],a===t2e)ue(s).forEach(f=>{f instanceof Et?f!==this&&(f.targets().add(this),o.push(f)):G("Pulse parameters must be operator instances.")}),this.source=s;else if(X(s))for(r.set(a,-1,Array(l=s.length)),u=0;u<l;++u)c(a,u,s[u]);else c(a,-1,s);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||n2e,n=this._argops;let r,i,o,a;if(n){const s=n.length;for(i=0;i<s;++i)r=n[i],o=r.op,a=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,a);if(n.initonly){for(i=0;i<s;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function o2e(e,t,n,r){let i=1,o;return e instanceof Et?o=e:e&&e.prototype instanceof Et?o=new e:Re(e)?o=new Et(null,e):(i=0,o=new Et(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function a2e(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let s2e=0;function EA(e,t,n){this.id=++s2e,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function ku(e,t,n){return new EA(e,t,n)}EA.prototype={_filter:zo,_apply:Rr,targets(){return this._targets||(this._targets=bA(Q1))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=ku(e);return this.targets().add(t),t},apply(e){const t=ku(null,e);return this.targets().add(t),t},merge(){const e=ku();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=ku();return this.targets().add(ku(null,null,hF(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(ku(null,null,()=>n=!0)),t.targets().add(ku(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=zo,this._targets=null}};function l2e(e,t,n,r){const i=this,o=ku(n,r),a=function(u){u.dataflow=i;try{o.receive(u)}catch(c){i.error(c)}finally{i.run()}};let s;typeof e=="string"&&typeof document<"u"?s=document.querySelectorAll(e):s=ue(e);const l=s.length;for(let u=0;u<l;++u)s[u].addEventListener(t,a);return o}function u2e(e,t){const n=this.locale();return Zee(e,t,n.timeParse,n.utcParse)}function c2e(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function f2e(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:Jee(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function d2e(e,t,n){const r=this,i=r._pending||h2e(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(zo).insert(o.data||[])),i.done(),o}function h2e(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const p2e={skip:!0};function g2e(e,t,n,r,i){return(e instanceof Et?y2e:m2e)(this,e,t,n,r,i),this}function m2e(e,t,n,r,i,o){const a=Ne({},o,p2e);let s,l;Re(n)||(n=Dr(n)),r===void 0?s=u=>e.touch(n(u)):Re(r)?(l=new Et(null,r,i,!1),s=u=>{l.evaluate(u);const c=n(u),f=l.value;rte(f)?e.pulse(c,f,o):e.update(c,f,a)}):s=u=>e.update(n(u),r,a),t.apply(s)}function y2e(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const a=o||{},s=new Et(null,v2e(n,r),i,!1);s.modified(a.force),s.rank=t.rank,t.targets().add(s),n&&(s.skip(!0),s.value=n.value,s.targets().add(n),e.connect(n,[s]))}}function v2e(e,t){return t=Re(t)?t:Dr(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function b2e(e){e.rank=++this._rank}function x2e(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&G("Cycle detected in dataflow graph.")}const vE={},os=1,Ru=2,gl=4,w2e=os|Ru,x9=os|gl,mh=os|Ru|gl,w9=8,yy=16,S9=32,E9=64;function yc(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function jk(e,t){const n=[];return Nu(e,t,r=>n.push(r)),n}function _9(e,t){const n={};return e.visit(t,r=>{n[xe(r)]=1}),r=>n[xe(r)]?null:r}function Bx(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}yc.prototype={StopPropagation:vE,ADD:os,REM:Ru,MOD:gl,ADD_REM:w2e,ADD_MOD:x9,ALL:mh,REFLOW:w9,SOURCE:yy,NO_SOURCE:S9,NO_FIELDS:E9,fork(e){return new yc(this.dataflow).init(this,e)},clone(){const e=this.fork(mh);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(mh|yy)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new yc(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&E9)&&(n.fields=e.fields),t&os?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&Ru?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&gl?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&S9?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||mh;return t&os&&this.add.length||t&Ru&&this.rem.length||t&gl&&this.mod.length},reflow(e){if(e)return this.fork(mh).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(gl,_9(this,os))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return X(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?X(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&os&&(n.addF=Bx(n.addF,t)),e&Ru&&(n.remF=Bx(n.remF,t)),e&gl&&(n.modF=Bx(n.modF,t)),e&yy&&(n.srcF=Bx(n.srcF,t)),n},materialize(e){e=e||mh;const t=this;return e&os&&t.addF&&(t.add=jk(t.add,t.addF),t.addF=null),e&Ru&&t.remF&&(t.rem=jk(t.rem,t.remF),t.remF=null),e&gl&&t.modF&&(t.mod=jk(t.mod,t.modF),t.modF=null),e&yy&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&yy)return Nu(n.source,n.srcF,r),n;e&os&&Nu(n.add,n.addF,r),e&Ru&&Nu(n.rem,n.remF,r),e&gl&&Nu(n.mod,n.modF,r);const i=n.source;if(e&w9&&i){const o=n.add.length+n.mod.length;o===i.length||(o?Nu(i,_9(n,x9),r):Nu(i,n.srcF,r))}return n}};function MF(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const a of n)if(a.stamp===t){if(a.fields){const s=i.fields||(i.fields={});for(const l in a.fields)s[l]=1}a.changed(i.ADD)&&(o|=i.ADD),a.changed(i.REM)&&(o|=i.REM),a.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}ie(MF,yc,{fork(e){const t=new yc(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?X(e)?e.some(r=>n[r]):n[e]:0},filter(){G("MultiPulse does not support filtering.")},materialize(){G("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function S2e(e,t,n){const r=this,i=[];if(r._pulse)return ite(r);if(r._pending&&await r._pending,t&&await eS(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new yc(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=bA(Q1);let a=0,s,l,u;try{for(;r._heap.size()>0;){if(s=r._heap.pop(),s.rank!==s.qrank){r._enqueue(s,!0);continue}l=s.run(r._getPulse(s,e)),l.then?l=await l:l.async&&(i.push(l.async),l=vE),l!==vE&&s._targets&&s._targets.forEach(c=>r._enqueue(c)),++a}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${a} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await eS(r,c[f].callback)}return n&&await eS(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function E2e(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function _2e(e,t,n){return this._pulse?ite(this):(this.evaluate(e,t,n),this)}function A2e(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function ite(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function $2e(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function O2e(e,t){const n=e.source,r=this._clock;return n&&X(n)?new MF(this,r,n.map(i=>i.pulse),t):this._input[e.id]||C2e(this._pulse,n&&n.pulse)}function C2e(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==vE&&(e.source=t.source),e)}const NF={skip:!1,force:!1};function k2e(e,t){const n=t||NF;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function P2e(e,t,n){const r=n||NF;return(e.set(t)||r.force)&&this.touch(e,r),this}function T2e(e,t,n){this.touch(e,n||NF);const r=new yc(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function M2e(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),ote(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,N2e(t,0,e)):r=n,r}}}function ote(e,t,n,r){let i,o;const a=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(a,i)<0){e[n]=i,n=o;continue}break}return e[n]=a}function N2e(e,t,n){const r=t,i=e.length,o=e[t];let a=(t<<1)+1,s;for(;a<i;)s=a+1,s<i&&n(e[a],e[s])>=0&&(a=s),e[t]=e[a],t=a,a=(t<<1)+1;return e[t]=o,ote(e,r,t,n)}function yp(){this.logger(lF()),this.logLevel(aF),this._clock=0,this._rank=0,this._locale=OF();try{this._loader=vA()}catch{}this._touched=bA(Q1),this._input={},this._pulse=null,this._heap=M2e((e,t)=>e.qrank-t.qrank),this._postrun=[]}function vy(e){return function(){return this._log[e].apply(this,arguments)}}yp.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:vy("error"),warn:vy("warn"),info:vy("info"),debug:vy("debug"),logLevel:vy("level"),cleanThreshold:1e4,add:o2e,connect:a2e,rank:b2e,rerank:x2e,pulse:T2e,touch:k2e,update:P2e,changeset:Yd,ingest:c2e,parse:u2e,preload:d2e,request:f2e,events:l2e,on:g2e,evaluate:S2e,run:_2e,runAsync:E2e,runAfter:A2e,_enqueue:$2e,_getPulse:O2e};function U(e,t){Et.call(this,e,null,t)}ie(U,Et,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const rg={};function ate(e){const t=ste(e);return t&&t.Definition||null}function ste(e){return e=e&&e.toLowerCase(),de(rg,e)?rg[e]:null}function*lte(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function RF(e,t,n){const r=Float64Array.from(lte(e,n));return r.sort(Es),t.map(i=>iee(r,i))}function DF(e,t){return RF(e,[.25,.5,.75],t)}function IF(e,t){const n=e.length,r=Uwe(e,t),i=DF(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function ute(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],a=e.extent[1],s,l,u,c,f,d;const h=e.span||a-o||Math.abs(o)||1;if(e.step)s=e.step;else if(e.steps){for(c=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<c;++f);s=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,s=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/s)>t;)s*=n;for(f=0,d=i.length;f<d;++f)c=s/i[f],c>=u&&h/c<=t&&(s=c)}c=Math.log(s);const p=c>=0?0:~~(-c/r)+1,g=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/s+g)*s,o=o<c?c-s:c,a=Math.ceil(a/s)*s),{start:o,stop:a===o?o+s:a,step:s}}var Uo=Math.random;function R2e(e){Uo=e}function cte(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(lte(e,r)),o=i.length,a=t;let s,l,u,c;for(u=0,c=Array(a);u<a;++u){for(s=0,l=0;l<o;++l)s+=i[~~(Uo()*o)];c[u]=s/o}return c.sort(Es),[hE(c,n/2),hE(c,1-n/2)]}function fte(e,t,n,r){r=r||(d=>d);const i=e.length,o=new Float64Array(i);let a=0,s=1,l=r(e[0]),u=l,c=l+t,f;for(;s<i;++s){if(f=r(e[s]),f>=c){for(u=(l+u)/2;a<s;++a)o[a]=u;c=f+t,l=f}u=f}for(u=(l+u)/2;a<s;++a)o[a]=u;return n?D2e(o,t+t/4):o}function D2e(e,t){const n=e.length;let r=0,i=1,o,a;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(a=i+(r+o-i-i>>1);a<i;)e[a++]=e[i];for(;a>i;)e[a--]=e[r]}r=i,i=o}return e}function I2e(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function F2e(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(a){return arguments.length?(n=a||0,i=r-n,o):n},max(a){return arguments.length?(r=a||0,i=r-n,o):r},sample(){return n+Math.floor(i*Uo())},pdf(a){return a===Math.floor(a)&&a>=n&&a<r?1/i:0},cdf(a){const s=Math.floor(a);return s<n?0:s>=r?1:(s-n+1)/i},icdf(a){return a>=0&&a<=1?n-1+Math.floor(a*i):NaN}};return o.min(e).max(t)}const dte=Math.sqrt(2*Math.PI),j2e=Math.SQRT2;let by=NaN;function _A(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(by===by)n=by,by=NaN;else{do n=Uo()*2-1,r=Uo()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,by=r*o}return e+n*t}function FF(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*dte)}function AA(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const a=Math.exp(-i*i/2);let s;i<7.07106781186547?(s=.0352624965998911*i+.700383064443688,s=s*i+6.37396220353165,s=s*i+33.912866078383,s=s*i+112.079291497871,s=s*i+221.213596169931,s=s*i+220.206867912376,o=a*s,s=.0883883476483184*i+1.75566716318264,s=s*i+16.064177579207,s=s*i+86.7807322029461,s=s*i+296.564248779674,s=s*i+637.333633378831,s=s*i+793.826512519948,s=s*i+440.413735824752,o=o/s):(s=i+.65,s=i+4/s,s=i+3/s,s=i+2/s,s=i+1/s,o=a/s/2.506628274631)}return r>0?1-o:o}function $A(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*j2e*L2e(2*e-1)}function L2e(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function jF(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>_A(n,r),pdf:o=>FF(o,n,r),cdf:o=>AA(o,n,r),icdf:o=>$A(o,n,r)};return i.mean(e).stdev(t)}function LF(e,t){const n=jF();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=IF(e)),i):t},sample(){return e[~~(Uo()*r)]+t*n.sample()},pdf(o){let a=0,s=0;for(;s<r;++s)a+=n.pdf((o-e[s])/t);return a/t/r},cdf(o){let a=0,s=0;for(;s<r;++s)a+=n.cdf((o-e[s])/t);return a/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function zF(e,t){return e=e||0,t=t??1,Math.exp(e+_A()*t)}function BF(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*dte*e)}function UF(e,t,n){return AA(Math.log(e),t,n)}function WF(e,t,n){return Math.exp($A(e,t,n))}function hte(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>zF(n,r),pdf:o=>BF(o,n,r),cdf:o=>UF(o,n,r),icdf:o=>WF(o,n,r)};return i.mean(e).stdev(t)}function pte(e,t){let n=0,r;function i(a){const s=[];let l=0,u;for(u=0;u<n;++u)l+=s[u]=a[u]==null?1:+a[u];for(u=0;u<n;++u)s[u]/=l;return s}const o={weights(a){return arguments.length?(r=i(t=a||[]),o):t},distributions(a){return arguments.length?(a?(n=a.length,e=a):(n=0,e=[]),o.weights(t)):e},sample(){const a=Uo();let s=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(a<l){s=e[u];break}return s.sample()},pdf(a){let s=0,l=0;for(;l<n;++l)s+=r[l]*e[l].pdf(a);return s},cdf(a){let s=0,l=0;for(;l<n;++l)s+=r[l]*e[l].cdf(a);return s},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function qF(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*Uo()}function HF(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function GF(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function VF(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function gte(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>qF(n,r),pdf:o=>HF(o,n,r),cdf:o=>GF(o,n,r),icdf:o=>VF(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function XF(e,t,n){let r=0,i=0;for(const o of e){const a=n(o);t(o)==null||a==null||isNaN(a)||(r+=(a-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function Z1(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function OA(e,t,n,r){e=e.filter(h=>{let p=t(h),g=n(h);return p!=null&&(p=+p)>=p&&g!=null&&(g=+g)>=g}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,o=new Float64Array(i),a=new Float64Array(i);let s=0,l=0,u=0,c,f,d;for(d of e)o[s]=c=+t(d),a[s]=f=+n(d),++s,l+=(c-l)/s,u+=(f-u)/s;for(s=0;s<i;++s)o[s]-=l,a[s]-=u;return[o,a,l,u]}function eb(e,t,n,r){let i=-1,o,a;for(const s of e)o=t(s),a=n(s),o!=null&&(o=+o)>=o&&a!=null&&(a=+a)>=a&&r(o,a,++i)}function Em(e,t,n,r,i){let o=0,a=0;return eb(e,t,n,(s,l)=>{const u=l-i(s),c=l-r;o+=u*u,a+=c*c}),1-o/a}function KF(e,t,n){let r=0,i=0,o=0,a=0,s=0;eb(e,t,n,(c,f)=>{++s,r+=(c-r)/s,i+=(f-i)/s,o+=(c*f-o)/s,a+=(c*c-a)/s});const l=Z1(r,i,o,a),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:Em(e,t,n,i,u)}}function mte(e,t,n){let r=0,i=0,o=0,a=0,s=0;eb(e,t,n,(c,f)=>{++s,c=Math.log(c),r+=(c-r)/s,i+=(f-i)/s,o+=(c*f-o)/s,a+=(c*c-a)/s});const l=Z1(r,i,o,a),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:Em(e,t,n,i,u)}}function yte(e,t,n){const[r,i,o,a]=OA(e,t,n);let s=0,l=0,u=0,c=0,f=0,d,h,p;eb(e,t,n,(v,b)=>{d=r[f++],h=Math.log(b),p=d*b,s+=(b*h-s)/f,l+=(p-l)/f,u+=(p*h-u)/f,c+=(d*p-c)/f});const[g,m]=Z1(l/a,s/a,u/a,c/a),y=v=>Math.exp(g+m*(v-o));return{coef:[Math.exp(g-m*o),m],predict:y,rSquared:Em(e,t,n,a,y)}}function vte(e,t,n){let r=0,i=0,o=0,a=0,s=0,l=0;eb(e,t,n,(f,d)=>{const h=Math.log(f),p=Math.log(d);++l,r+=(h-r)/l,i+=(p-i)/l,o+=(h*p-o)/l,a+=(h*h-a)/l,s+=(d-s)/l});const u=Z1(r,i,o,a),c=f=>u[0]*Math.pow(f,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:Em(e,t,n,s,c)}}function YF(e,t,n){const[r,i,o,a]=OA(e,t,n),s=r.length;let l=0,u=0,c=0,f=0,d=0,h,p,g,m;for(h=0;h<s;)p=r[h],g=i[h++],m=p*p,l+=(m-l)/h,u+=(m*p-u)/h,c+=(m*m-c)/h,f+=(p*g-f)/h,d+=(m*g-d)/h;const y=c-l*l,v=l*y-u*u,b=(d*l-f*u)/v,x=(f*y-d*u)/v,w=-b*l,E=S=>(S=S-o,b*S*S+x*S+w+a);return{coef:[w-x*o+b*o*o+a,x-2*b*o,b],predict:E,rSquared:Em(e,t,n,a,E)}}function bte(e,t,n,r){if(r===0)return XF(e,t,n);if(r===1)return KF(e,t,n);if(r===2)return YF(e,t,n);const[i,o,a,s]=OA(e,t,n),l=i.length,u=[],c=[],f=r+1;let d,h,p,g,m;for(d=0;d<f;++d){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d)*o[p];for(u.push(g),m=new Float64Array(f),h=0;h<f;++h){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d+h);m[h]=g}c.push(m)}c.push(u);const y=B2e(c),v=b=>{b-=a;let x=s+y[0]+y[1]*b+y[2]*b*b;for(d=3;d<f;++d)x+=y[d]*Math.pow(b,d);return x};return{coef:z2e(f,y,-a,s),predict:v,rSquared:Em(e,t,n,s,v)}}function z2e(e,t,n,r){const i=Array(e);let o,a,s,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(s=t[o],l=1,i[o]+=s,a=1;a<=o;++a)l*=(o+1-a)/a,i[o-a]+=s*Math.pow(n,a)*l;return i[0]+=r,i}function B2e(e){const t=e.length-1,n=[];let r,i,o,a,s;for(r=0;r<t;++r){for(a=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][a])&&(a=i);for(o=r;o<t+1;++o)s=e[o][r],e[o][r]=e[o][a],e[o][a]=s;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(s=0,o=i+1;o<t;++o)s+=e[o][i]*n[o];n[i]=(e[t][i]-s)/e[i][i]}return n}const A9=2,$9=1e-12;function xte(e,t,n,r){const[i,o,a,s]=OA(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),f=new Float64Array(l),d=new Float64Array(l).fill(1);for(let h=-1;++h<=A9;){const p=[0,u-1];for(let m=0;m<l;++m){const y=i[m],v=p[0],b=p[1],x=y-i[v]>i[b]-y?v:b;let w=0,E=0,S=0,A=0,$=0;const _=1/Math.abs(i[x]-y||1);for(let R=v;R<=b;++R){const k=i[R],C=o[R],M=U2e(Math.abs(y-k)*_)*d[R],I=k*M;w+=M,E+=I,S+=C*M,A+=C*I,$+=k*I}const[O,P]=Z1(E/w,S/w,A/w,$/w);c[m]=O+P*y,f[m]=Math.abs(o[m]-c[m]),W2e(i,m+1,p)}if(h===A9)break;const g=oee(f);if(Math.abs(g)<$9)break;for(let m=0,y,v;m<l;++m)y=f[m]/(6*g),d[m]=y>=1?$9:(v=1-y*y)*v}return q2e(i,c,a,s)}function U2e(e){return(e=1-e*e*e)*e*e}function W2e(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function q2e(e,t,n,r){const i=e.length,o=[];let a=0,s=0,l=[],u;for(;a<i;++a)u=e[a]+n,l[0]===u?l[1]+=(t[a]-l[1])/++s:(s=0,l[1]+=r,l=[u,t[a]],o.push(l));return l[1]+=r,o}const H2e=.5*Math.PI/180;function CA(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=g=>[g,e(g)],o=t[0],a=t[1],s=a-o,l=s/r,u=[i(o)],c=[];if(n===r){for(let g=1;g<r;++g)u.push(i(o+g/n*s));return u.push(i(a)),u}else{c.push(i(a));for(let g=n;--g>0;)c.push(i(o+g/n*s))}let f=u[0],d=c[c.length-1];const h=1/s,p=G2e(f[1],c);for(;d;){const g=i((f[0]+d[0])/2);g[0]-f[0]>=l&&V2e(f,g,d,h,p)>H2e?c.push(g):(f=d,u.push(d),c.pop()),d=c[c.length-1]}return u}function G2e(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const a=t[o][1];a<n&&(n=a),a>r&&(r=a)}return 1/(r-n)}function V2e(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),a=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-a)}function X2e(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function gN(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:X2e(e)}function wte(e,t,n){return n||e+(t?"_"+t:"")}const Lk=()=>{},K2e={init:Lk,add:Lk,rem:Lk,idx:0},$v={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},tb=Object.keys($v).filter(e=>e!=="__count__");function Y2e(e,t){return(n,r)=>Ne({name:e,aggregate_param:r,out:n||e},K2e,t)}[...tb,"__count__"].forEach(e=>{$v[e]=Y2e(e,$v[e])});function Ste(e,t,n){return $v[e](n,t)}function Ete(e,t){return e.idx-t.idx}function Q2e(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=$v[i]())})};return e.forEach(n),Object.values(t).sort(Ete)}function J2e(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function Z2e(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function e_e(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function t_e(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function _te(e,t){const n=t||Rr,r=Q2e(e),i=e.slice().sort(Ete);function o(a){this._ops=r,this._out=i,this.cell=a,this.init()}return o.prototype.init=J2e,o.prototype.add=Z2e,o.prototype.rem=e_e,o.prototype.set=t_e,o.prototype.get=n,o.fields=e.map(a=>a.out),o}function QF(e){this._key=e?Lo(e):xe,this.reset()}const dr=QF.prototype;dr.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};dr.add=function(e){this._add.push(e)};dr.rem=function(e){this._rem.push(e)};dr.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),a={};let s,l,u;for(s=0;s<i;++s)a[n(t[s])]=1;for(s=0,l=0;s<r;++s)a[n(u=e[s])]?a[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o};dr.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",de(n,o)||(n[o]=1,++i);return i};dr.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=BZ(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};dr.argmin=function(e){return this.extent(e)[0]||{}};dr.argmax=function(e){return this.extent(e)[1]||{}};dr.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};dr.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};dr.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=DF(this.values(),e),this._get=e),this._q};dr.q1=function(e){return this.quartile(e)[0]};dr.q2=function(e){return this.quartile(e)[1]};dr.q3=function(e){return this.quartile(e)[2]};dr.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=cte(this.values(),1e3,.05,e),this._get=e),this._ci};dr.ci0=function(e){return this.ci(e)[0]};dr.ci1=function(e){return this.ci(e)[1]};function Cc(e){U.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Cc.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:tb},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};ie(Cc,U,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(s){let l,u,c,f;for(l in s)for(c=s[l].tuple,u=0;u<i;++u)r[u][f=c[n[u]]]=f}o(e._prev),o(t);function a(s,l,u){const c=n[u],f=r[u++];for(const d in f){const h=s?s+"|"+d:d;l[c]=f[d],u<i?a(h,l,u):t[h]||e.cell(h,l)}}a("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const b=ue(kr(v)),x=b.length;let w=0,E;for(;w<x;++w)r[E=b[w]]||(r[E]=1,t.push(E))}this._dims=ue(e.groupby),this._dnames=this._dims.map(v=>{const b=un(v);return i(v),n.push(b),b}),this.cellkey=e.key?e.key:gN(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],a=e.ops||["count"],s=e.aggregate_params||[null],l=e.as||[],u=o.length,c={};let f,d,h,p,g,m,y;for(u!==a.length&&G("Unmatched number of fields and aggregate ops."),y=0;y<u;++y){if(f=o[y],d=a[y],h=s[y]||null,f==null&&d!=="count"&&G("Null aggregate field specified."),g=un(f),m=wte(d,g,l[y]),n.push(m),d==="count"){this._counts.push(m);continue}p=c[g],p||(i(f),p=c[g]=[],p.field=f,this._measures.push(p)),d!=="count"&&(this._countOnly=!1),p.push(Ste(d,h,m))}return this._measures=this._measures.map(v=>_te(v,v.field)),Object.create(null)},cellkey:gN(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new QF),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let a=0;a<i;++a)o[n[a]]=r[a](e);return t?nte(t.tuple,o):st(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,a=e.rem,s=e.mod;let l,u,c,f;if(r)for(u in r)l=r[u],(!i||l.num)&&a.push(l.tuple);for(c=0,f=this._alen;c<f;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)l=n[c],(l.num===0&&i?a:s).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const n_e=1e-14;function JF(e){U.call(this,null,e)}JF.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};ie(JF,U,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,a=e.as||["bin0","bin1"],s=a[0],l=a[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(kr(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const f=r(c);c[s]=f,c[l]=f==null?null:i+o*(1+(f-i)/o)}:c=>c[s]=r(c)),t.modifies(n?a:s)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=ute(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,a,s;(a=e.anchor)!=null&&(s=a-(i+r*Math.floor((a-i)/r)),i+=s,o+=s);const l=function(u){let c=Or(t(u));return c==null?null:c<i?-1/0:c>o?1/0:(c=Math.max(i,Math.min(c,o-r)),i+r*Math.floor(n_e+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=Ti(l,kr(t),e.name||"bin_"+un(t))}});function Ate(e,t,n){const r=e;let i=t||[],o=n||[],a={},s=0;return{add:l=>o.push(l),remove:l=>a[r(l)]=++s,size:()=>i.length,data:(l,u)=>(s&&(i=i.filter(c=>!a[r(c)]),a={},s=0),u&&l&&i.sort(l),o.length&&(i=l?GZ(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function ZF(e){U.call(this,[],e)}ZF.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};ie(ZF,U,{transform(e,t){const n=t.fork(t.ALL),r=Ate(xe,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(Kd(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function $te(e){Et.call(this,null,r_e,e)}ie($te,Et);function r_e(e){return this.value&&!e.modified()?this.value:dF(e.fields,e.orders)}function e5(e){U.call(this,null,e)}e5.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function i_e(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}ie(e5,U,{transform(e,t){const n=f=>d=>{for(var h=i_e(s(d),e.case,o)||[],p,g=0,m=h.length;g<m;++g)a.test(p=h[g])||f(p)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,a=this._stop,s=e.field,l=e.as||["text","count"],u=n(f=>i[f]=1+(i[f]||0)),c=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],a=e.fork(e.NO_SOURCE|e.NO_FIELDS);let s,l,u;for(s in n)l=r[s],u=n[s]||0,!l&&u?(r[s]=l=st({}),l[i]=s,l[o]=u,a.add.push(l)):u===0?(l&&a.rem.push(l),n[s]=null,r[s]=null):l[o]!==u&&(l[o]=u,a.mod.push(l));return a.modifies(t)}});function t5(e){U.call(this,null,e)}t5.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};ie(t5,U,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],a=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let s=this.value;return a?(s&&(n.rem=s),s=t.materialize(t.SOURCE).source,n.add=this.value=o_e(s,i,o,e.filter||zo)):n.mod=s,n.source=this.value,n.modifies(r)}});function o_e(e,t,n,r){for(var i=[],o={},a=e.length,s=0,l,u;s<a;++s)for(o[t]=u=e[s],l=0;l<a;++l)o[n]=e[l],r(o)&&(i.push(st(o)),o={},o[t]=u);return i}const O9={kde:LF,mixture:pte,normal:jF,lognormal:hte,uniform:gte},a_e="distributions",C9="function",s_e="field";function Ote(e,t){const n=e[C9];de(O9,n)||G("Unknown distribution function: "+n);const r=O9[n]();for(const i in e)i===s_e?r.data((e.from||t()).map(e[i])):i===a_e?r[i](e[i].map(o=>Ote(o,t))):typeof r[i]===C9&&r[i](e[i]);return r}function n5(e){U.call(this,null,e)}const Cte=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],l_e={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Cte},{name:"weights",type:"number",array:!0}]};n5.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Cte.concat(l_e)},{name:"as",type:"string",array:!0,default:["value","density"]}]};ie(n5,U,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=Ote(e.distribution,u_e(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let a=e.method||"pdf";a!=="pdf"&&a!=="cdf"&&G("Invalid density method: "+a),!e.extent&&!r.data&&G("Missing density extent parameter."),a=r[a];const s=e.as||["value","density"],l=e.extent||Rs(r.data()),u=CA(a,l,i,o).map(c=>{const f={};return f[s[0]]=c[0],f[s[1]]=c[1],st(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function u_e(e){return()=>e.materialize(e.SOURCE).source}function kte(e,t){return e?e.map((n,r)=>t[r]||un(n)):null}function r5(e,t,n){const r=[],i=f=>f(l);let o,a,s,l,u,c;if(t==null)r.push(e.map(n));else for(o={},a=0,s=e.length;a<s;++a)l=e[a],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const Pte="bin";function i5(e){U.call(this,null,e)}i5.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:Pte}]};const c_e=(e,t)=>J1(Rs(e,t))/30;ie(i5,U,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=r5(t.source,e.groupby,Rr),i=e.smooth||!1,o=e.field,a=e.step||c_e(n,o),s=Kd((p,g)=>o(p)-o(g)),l=e.as||Pte,u=r.length;let c=1/0,f=-1/0,d=0,h;for(;d<u;++d){const p=r[d].sort(s);h=-1;for(const g of fte(p,a,i,o))g<c&&(c=g),g>f&&(f=g),p[++h][l]=g}return this.value={start:c,stop:f,step:a},t.reflow(!0).modifies(l)}});function Tte(e){Et.call(this,null,f_e,e),this.modified(!0)}ie(Tte,Et);function f_e(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Ti(n=>t(n,e),kr(t),un(t))}function o5(e){U.call(this,[void 0,void 0],e)}o5.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};ie(o5,U,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],a=n[1];if((i||o==null)&&(o=1/0,a=-1/0),t.visit(i?t.SOURCE:t.ADD,s=>{const l=Or(r(s));l!=null&&(l<o&&(o=l),l>a&&(a=l))}),!Number.isFinite(o)||!Number.isFinite(a)){let s=un(r);s&&(s=` for field "${s}"`),t.dataflow.warn(`Infinite extent${s}: [${o}, ${a}]`),o=a=void 0}this.value=[o,a]}});function a5(e,t){Et.call(this,e),this.parent=t,this.count=0}ie(a5,Et,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function kA(e){U.call(this,{},e),this._keys=ym();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}ie(kA,U,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=de(i,e)&&i[e],a,s;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(s=r||(s=this._group[e])&&s.tuple,a=n.dataflow,o=new a5(n.fork(n.NO_SOURCE),this),a.add(o).connect(t(a,e,s)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,a=e.modified("key"),s=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=xe(l),c=o.get(u);c!==void 0&&(o.delete(u),s(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);o.set(xe(l),u),s(u).add(l)}),a||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=xe(l),c=o.get(u),f=r(l);c===f?s(f).mod(l):(o.set(u,f),s(c).rem(l),s(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{s(o.get(xe(l))).mod(l)}),a&&t.visit(t.REFLOW,l=>{const u=xe(l),c=o.get(u),f=r(l);c!==f&&(o.set(u,f),s(c).rem(l),s(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function Mte(e){Et.call(this,null,d_e,e)}ie(Mte,Et);function d_e(e){return this.value&&!e.modified()?this.value:X(e.name)?ue(e.name).map(t=>Lo(t)):Lo(e.name,e.as)}function s5(e){U.call(this,ym(),e)}s5.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};ie(s5,U,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,a=i.rem,s=i.mod,l=e.expr;let u=!0;t.visit(t.REM,f=>{const d=xe(f);r.has(d)?r.delete(d):a.push(f)}),t.visit(t.ADD,f=>{l(f,e)?o.push(f):r.set(xe(f),1)});function c(f){const d=xe(f),h=l(f,e),p=r.get(d);h&&p?(r.delete(d),o.push(f)):!h&&!p?(r.set(d,1),a.push(f)):u&&h&&!p&&s.push(f)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function l5(e){U.call(this,[],e)}l5.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};ie(l5,U,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=kte(r,e.as||[]),o=e.index||null,a=i.length;return n.rem=this.value,t.visit(t.SOURCE,s=>{const l=r.map(p=>p(s)),u=l.reduce((p,g)=>Math.max(p,g.length),0);let c=0,f,d,h;for(;c<u;++c){for(d=TF(s),f=0;f<a;++f)d[i[f]]=(h=l[f][c])==null?null:h;o&&(d[o]=c),n.add.push(d)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function u5(e){U.call(this,[],e)}u5.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};ie(u5,U,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(un),o=e.as||["key","value"],a=o[0],s=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,f;c<l;++c)f=TF(u),f[a]=i[c],f[s]=r[c](u),n.add.push(f)}),this.value=n.source=n.add,n.modifies(o)}});function c5(e){U.call(this,null,e)}c5.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};ie(c5,U,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,a=>a[r]=n(a,e))}});function Nte(e){U.call(this,[],e)}ie(Nte,U,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,a,s,l;if(o>0){for(a=[];--o>=0;)a.push(l=st(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(a):a}else s=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(s):s,i=i.slice(-o);return n.source=this.value=i,n}});const Ux={value:"value",median:oee,mean:Xwe,min:oN,max:Jf},h_e=[];function f5(e){U.call(this,[],e)}f5.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function p_e(e){var t=e.method||Ux.value,n;if(Ux[t]==null)G("Unrecognized imputation method: "+t);else return t===Ux.value?(n=e.value!==void 0?e.value:0,()=>n):Ux[t]}function g_e(e){const t=e.field;return n=>n?t(n):NaN}ie(f5,U,{transform(e,t){var n=t.fork(t.ALL),r=p_e(e),i=g_e(e),o=un(e.field),a=un(e.key),s=(e.groupby||[]).map(un),l=m_e(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,f=l.domain.length,d,h,p,g,m,y,v,b,x,w;for(m=0,b=l.length;m<b;++m)for(d=l[m],p=d.values,h=NaN,v=0;v<f;++v)if(d[v]==null){for(g=l.domain[v],w={_impute:!0},y=0,x=p.length;y<x;++y)w[s[y]]=p[y];w[a]=g,w[o]=Number.isNaN(h)?h=r(d,i):h,u.push(st(w))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function m_e(e,t,n,r){var i=y=>y(m),o=[],a=r?r.slice():[],s={},l={},u,c,f,d,h,p,g,m;for(a.forEach((y,v)=>s[y]=v+1),d=0,g=e.length;d<g;++d)m=e[d],p=n(m),h=s[p]||(s[p]=a.push(p)),c=(u=t?t.map(i):h_e)+"",(f=l[c])||(f=l[c]=[],o.push(f),f.values=u),f[h-1]=m;return o.domain=a,o}function d5(e){Cc.call(this,e)}d5.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:tb},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};ie(d5,Cc,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{Ne(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function h5(e){U.call(this,null,e)}h5.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};ie(h5,U,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=r5(r,e.groupby,e.field),o=(e.groupby||[]).map(un),a=e.bandwidth,s=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;s!=="pdf"&&s!=="cdf"&&G("Invalid density method: "+s),e.resolve==="shared"&&(c||(c=Rs(r,e.field)),f=d=e.steps||d),i.forEach(h=>{const p=LF(h,a)[s],g=e.counts?h.length:1,m=c||Rs(h);CA(p,m,f,d).forEach(y=>{const v={};for(let b=0;b<o.length;++b)v[o[b]]=h.dims[b];v[l[0]]=y[0],v[l[1]]=y[1]*g,u.push(st(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function Rte(e){Et.call(this,null,y_e,e)}ie(Rte,Et);function y_e(e){return this.value&&!e.modified()?this.value:gF(e.fields,e.flat)}function Dte(e){U.call(this,[],e),this._pending=null}ie(Dte,U,{transform(e,t){const n=t.dataflow;return this._pending?zk(this,t,this._pending):v_e(e)?t.StopPropagation:e.values?zk(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=ue(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>zk(this,t,ue(r.data)))}});function v_e(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function zk(e,t,n){n.forEach(st);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function p5(e){U.call(this,{},e)}p5.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};ie(p5,U,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,a=e.modified(),s=n.length;let l=a?t.SOURCE:t.ADD,u=t,c=e.as,f,d,h;return i?(d=i.length,s>1&&!c&&G('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==s*d&&G('The "as" parameter has too few output field names.'),c=c||i.map(un),f=function(p){for(var g=0,m=0,y,v;g<s;++g)if(v=r.get(n[g](p)),v==null)for(y=0;y<d;++y,++m)p[c[m]]=o;else for(y=0;y<d;++y,++m)p[c[m]]=i[y](v)}):(c||G("Missing output field names."),f=function(p){for(var g=0,m;g<s;++g)m=r.get(n[g](p)),p[c[g]]=m??o}),a?u=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,f),u.modifies(c)}});function Ite(e){Et.call(this,null,b_e,e)}ie(Ite,Et);function b_e(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,a;for(o=0;o<n;++o)a=t[o],a[0]<r&&(r=a[0]),a[1]>i&&(i=a[1]);return[r,i]}function Fte(e){Et.call(this,null,x_e,e)}ie(Fte,Et);function x_e(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function jte(e){U.call(this,null,e)}ie(jte,U,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function g5(e){Cc.call(this,e)}g5.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:tb,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};ie(g5,Cc,{_transform:Cc.prototype.transform,transform(e,t){return this._transform(w_e(e,t),t)}});function w_e(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=kr(n).concat(kr(r)),a=E_e(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:a.map(()=>i),fields:a.map(s=>S_e(s,n,r,o)),as:a.map(s=>s+""),modified:e.modified.bind(e)}}function S_e(e,t,n,r){return Ti(i=>t(i)===e?n(i):NaN,r,e+"")}function E_e(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const a=e(o);r[a]||(r[a]=1,i.push(a))}),i.sort(mm),t?i.slice(0,t):i}function Lte(e){kA.call(this,e)}ie(Lte,kA,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(xe(o),n,t,o);return(e.modified("field")||r&&t.modified(kr(r)))&&G("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const a=i(o);r(o).forEach(s=>a.mod(s))}),t.visit(t.ADD,o=>{const a=i(o);r(o).forEach(s=>a.add(st(s)))}),t.visit(t.REM,o=>{const a=i(o);r(o).forEach(s=>a.rem(s))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function m5(e){U.call(this,null,e)}m5.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};ie(m5,U,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=kte(e.fields,e.as||[]),o=r?(s,l)=>__e(s,l,r,i):wA;let a;return this.value?a=this.value:(t=t.addAll(),a=this.value={}),t.visit(t.REM,s=>{const l=xe(s);n.rem.push(a[l]),a[l]=null}),t.visit(t.ADD,s=>{const l=o(s,st({}));a[xe(s)]=l,n.add.push(l)}),t.visit(t.MOD,s=>{n.mod.push(o(s,a[xe(s)]))}),n}});function __e(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function zte(e){U.call(this,null,e)}ie(zte,U,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function y5(e){U.call(this,null,e)}y5.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const A_e=1e-14;ie(y5,U,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=r5(i,e.groupby,e.field),a=(e.groupby||[]).map(un),s=[],l=e.step||.01,u=e.probs||vi(l/2,1-A_e,l),c=u.length;return o.forEach(f=>{const d=RF(f,u);for(let h=0;h<c;++h){const p={};for(let g=0;g<a.length;++g)p[a[g]]=f.dims[g];p[r[0]]=u[h],p[r[1]]=d[h],s.push(st(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=s,n}});function Bte(e){U.call(this,null,e)}ie(Bte,U,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=xe(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=TF(i);r[xe(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[xe(i)];for(const a in i)o[a]=i[a],n.modifies(a);n.mod.push(o)})),n}});function v5(e){U.call(this,[],e),this.count=0}v5.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};ie(v5,U,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((c,f)=>(c[xe(f)]=1,c),{});let a=this.value,s=this.count,l=0;function u(c){let f,d;a.length<i?a.push(c):(d=~~((s+1)*Uo()),d<a.length&&d>=l&&(f=a[d],o[xe(f)]&&n.rem.push(f),a[d]=c)),++s}if(t.rem.length&&(t.visit(t.REM,c=>{const f=xe(c);o[f]&&(o[f]=-1,n.rem.push(c)),--s}),a=a.filter(c=>o[xe(c)]!==-1)),(t.rem.length||r)&&a.length<i&&t.source&&(l=s=a.length,t.visit(t.SOURCE,c=>{o[xe(c)]||u(c)}),l=-1),r&&a.length>i){const c=a.length-i;for(let f=0;f<c;++f)o[xe(a[f])]=-1,n.rem.push(a[f]);a=a.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[xe(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=a.filter(c=>!o[xe(c)])),this.count=s,this.value=n.source=a,n}});function b5(e){U.call(this,null,e)}b5.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};ie(b5,U,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=vi(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,st(o)}),n.add=t.add.concat(this.value),n}});function Ute(e){U.call(this,null,e),this.modified(!0)}ie(Ute,U,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function x5(e){U.call(this,null,e)}const Wte=["unit0","unit1"];x5.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:SF,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Wte}]};ie(x5,U,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),a=(i?Sm:wm)(o.unit).offset,s=e.as||Wte,l=s[0],u=s[1],c=o.step;let f=o.start||1/0,d=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(kr(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,p=>{const g=n(p);let m,y;g==null?(p[l]=null,r&&(p[u]=null)):(p[l]=m=y=o(g),r&&(p[u]=y=a(m,c)),m<f&&(f=m),y>d&&(d=y))}),o.start=f,o.stop=d,t.modifies(r?s:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:Nee({extent:e.extent||Rs(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=EF(r),a=this.value||{},s=(n?_ee:Eee)(o,i);return s.unit=Ve(o),s.units=o,s.step=i,s.start=a.start,s.stop=a.stop,this.value=s}});function qte(e){U.call(this,ym(),e)}ie(qte,U,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=s=>i.set(r(s),s);let a=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,s=>i.delete(r(s))),t.visit(t.ADD,o)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function Hte(e){U.call(this,null,e)}ie(Hte,U,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Kd(e.sort)):t.source).map(e.field))}});function $_e(e,t,n,r){const i=Ov[e](t,n);return{init:i.init||Bu,update:function(o,a){a[r]=i.next(o)}}}const Ov={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=Ov.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||G("ntile num must be greater than zero.");const n=Ov.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||G("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=O_e(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function O_e(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const C_e=Object.keys(Ov);function Gte(e){const t=ue(e.ops),n=ue(e.fields),r=ue(e.params),i=ue(e.aggregate_params),o=ue(e.as),a=this.outputs=[],s=this.windows=[],l={},u={},c=[],f=[];let d=!0;function h(p){ue(kr(p)).forEach(g=>l[g]=1)}h(e.sort),t.forEach((p,g)=>{const m=n[g],y=r[g],v=i[g]||null,b=un(m),x=wte(p,b,o[g]);if(h(m),a.push(x),de(Ov,p))s.push($_e(p,m,y,x));else{if(m==null&&p!=="count"&&G("Null aggregate field specified."),p==="count"){c.push(x);return}d=!1;let w=u[b];w||(w=u[b]=[],w.field=m,f.push(w)),w.push(Ste(p,v,x))}}),(c.length||f.length)&&(this.cell=k_e(f,c,d)),this.inputs=Object.keys(l)}const Vte=Gte.prototype;Vte.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};Vte.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let a;if(n){for(a=e.p0;a<e.i0;++a)n.rem(i[a]);for(a=e.p1;a<e.i1;++a)n.add(i[a]);n.set(t)}for(a=0;a<o;++a)r[a].update(e,t)};function k_e(e,t,n){e=e.map(l=>_te(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new e[a](r);if(r.store)var s=r.data=new QF;return r.add=function(l){if(r.num+=1,!n){s&&s.add(l);for(let u=0;u<i;++u)o[u].add(o[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){s&&s.rem(l);for(let u=0;u<i;++u)o[u].rem(o[u].get(l),l)}},r.set=function(l){let u,c;for(s&&s.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},r.init=function(){r.num=0,s&&s.reset();for(let l=0;l<i;++l)o[l].init()},r}function w5(e){U.call(this,{},e),this._mlen=0,this._mods=[]}w5.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:C_e.concat(tb)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};ie(w5,U,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Kd(e.sort),i=gN(e.groupby),o=s=>this.group(i(s));let a=this.state;(!a||n)&&(a=this.state=new Gte(e)),n||t.modified(a.inputs)?(this.value={},t.visit(t.SOURCE,s=>o(s).add(s))):(t.visit(t.REM,s=>o(s).remove(s)),t.visit(t.ADD,s=>o(s).add(s)));for(let s=0,l=this._mlen;s<l;++s)P_e(this._mods[s],a,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(a.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=Ate(xe),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function P_e(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,a=r.frame||[null,0],s=e.data(n),l=s.length,u=o?vm(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:i||Dr(-1)};t.init();for(let f=0;f<l;++f)T_e(c,a,f,l),o&&M_e(c,u),t.update(c,s[f])}function T_e(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function M_e(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<a&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const N_e=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Cc,bin:JF,collect:ZF,compare:$te,countpattern:e5,cross:t5,density:n5,dotbin:i5,expression:Tte,extent:o5,facet:kA,field:Mte,filter:s5,flatten:l5,fold:u5,formula:c5,generate:Nte,impute:f5,joinaggregate:d5,kde:h5,key:Rte,load:Dte,lookup:p5,multiextent:Ite,multivalues:Fte,params:jte,pivot:g5,prefacet:Lte,project:m5,proxy:zte,quantile:y5,relay:Bte,sample:v5,sequence:b5,sieve:Ute,subflow:a5,timeunit:x5,tupleindex:qte,values:Hte,window:w5},Symbol.toStringTag,{value:"Module"}));function qe(e){return function(){return e}}const k9=Math.abs,mr=Math.atan2,ml=Math.cos,R_e=Math.max,Bk=Math.min,di=Math.sin,ir=Math.sqrt,br=1e-12,kc=Math.PI,bE=kc/2,nb=2*kc;function D_e(e){return e>1?0:e<-1?kc:Math.acos(e)}function P9(e){return e>=1?bE:e<=-1?-bE:Math.asin(e)}const mN=Math.PI,yN=2*mN,Of=1e-6,I_e=yN-Of;function Xte(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function F_e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Xte;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let S5=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Xte:F_e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-n,c=a-t,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Of)if(!(Math.abs(f*l-u*c)>Of)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,p=i-s,g=l*l+u*u,m=h*h+p*p,y=Math.sqrt(g),v=Math.sqrt(d),b=o*Math.tan((mN-Math.acos((g+d-m)/(2*y*v)))/2),x=b/v,w=b/y;Math.abs(x-1)>Of&&this._append`L${t+x*c},${n+x*f}`,this._append`A${o},${o},0,0,${+(f*h>c*p)},${this._x1=t+w*l},${this._y1=n+w*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Of||Math.abs(this._y1-c)>Of)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%yN+yN),d>I_e?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>Of&&this._append`A${r},${r},0,${+(d>=mN)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function PA(){return new S5}PA.prototype=S5.prototype;function rb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new S5(t)}function j_e(e){return e.innerRadius}function L_e(e){return e.outerRadius}function z_e(e){return e.startAngle}function B_e(e){return e.endAngle}function U_e(e){return e&&e.padAngle}function W_e(e,t,n,r,i,o,a,s){var l=n-e,u=r-t,c=a-i,f=s-o,d=f*l-c*u;if(!(d*d<br))return d=(c*(t-o)-f*(e-i))/d,[e+d*l,t+d*u]}function Wx(e,t,n,r,i,o,a){var s=e-n,l=t-r,u=(a?o:-o)/ir(s*s+l*l),c=u*l,f=-u*s,d=e+c,h=t+f,p=n+c,g=r+f,m=(d+p)/2,y=(h+g)/2,v=p-d,b=g-h,x=v*v+b*b,w=i-o,E=d*g-p*h,S=(b<0?-1:1)*ir(R_e(0,w*w*x-E*E)),A=(E*b-v*S)/x,$=(-E*v-b*S)/x,_=(E*b+v*S)/x,O=(-E*v+b*S)/x,P=A-m,R=$-y,k=_-m,C=O-y;return P*P+R*R>k*k+C*C&&(A=_,$=O),{cx:A,cy:$,x01:-c,y01:-f,x11:A*(i/w-1),y11:$*(i/w-1)}}function q_e(){var e=j_e,t=L_e,n=qe(0),r=null,i=z_e,o=B_e,a=U_e,s=null,l=rb(u);function u(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-bE,g=o.apply(this,arguments)-bE,m=k9(g-p),y=g>p;if(s||(s=c=l()),h<d&&(f=h,h=d,d=f),!(h>br))s.moveTo(0,0);else if(m>nb-br)s.moveTo(h*ml(p),h*di(p)),s.arc(0,0,h,p,g,!y),d>br&&(s.moveTo(d*ml(g),d*di(g)),s.arc(0,0,d,g,p,y));else{var v=p,b=g,x=p,w=g,E=m,S=m,A=a.apply(this,arguments)/2,$=A>br&&(r?+r.apply(this,arguments):ir(d*d+h*h)),_=Bk(k9(h-d)/2,+n.apply(this,arguments)),O=_,P=_,R,k;if($>br){var C=P9($/d*di(A)),M=P9($/h*di(A));(E-=C*2)>br?(C*=y?1:-1,x+=C,w-=C):(E=0,x=w=(p+g)/2),(S-=M*2)>br?(M*=y?1:-1,v+=M,b-=M):(S=0,v=b=(p+g)/2)}var I=h*ml(v),N=h*di(v),F=d*ml(w),L=d*di(w);if(_>br){var z=h*ml(b),B=h*di(b),V=d*ml(x),ce=d*di(x),fe;if(m<kc)if(fe=W_e(I,N,V,ce,z,B,F,L)){var Ee=I-fe[0],Xe=N-fe[1],Mt=z-fe[0],ae=B-fe[1],ve=1/di(D_e((Ee*Mt+Xe*ae)/(ir(Ee*Ee+Xe*Xe)*ir(Mt*Mt+ae*ae)))/2),$e=ir(fe[0]*fe[0]+fe[1]*fe[1]);O=Bk(_,(d-$e)/(ve-1)),P=Bk(_,(h-$e)/(ve+1))}else O=P=0}S>br?P>br?(R=Wx(V,ce,I,N,h,P,y),k=Wx(z,B,F,L,h,P,y),s.moveTo(R.cx+R.x01,R.cy+R.y01),P<_?s.arc(R.cx,R.cy,P,mr(R.y01,R.x01),mr(k.y01,k.x01),!y):(s.arc(R.cx,R.cy,P,mr(R.y01,R.x01),mr(R.y11,R.x11),!y),s.arc(0,0,h,mr(R.cy+R.y11,R.cx+R.x11),mr(k.cy+k.y11,k.cx+k.x11),!y),s.arc(k.cx,k.cy,P,mr(k.y11,k.x11),mr(k.y01,k.x01),!y))):(s.moveTo(I,N),s.arc(0,0,h,v,b,!y)):s.moveTo(I,N),!(d>br)||!(E>br)?s.lineTo(F,L):O>br?(R=Wx(F,L,z,B,d,-O,y),k=Wx(I,N,V,ce,d,-O,y),s.lineTo(R.cx+R.x01,R.cy+R.y01),O<_?s.arc(R.cx,R.cy,O,mr(R.y01,R.x01),mr(k.y01,k.x01),!y):(s.arc(R.cx,R.cy,O,mr(R.y01,R.x01),mr(R.y11,R.x11),!y),s.arc(0,0,d,mr(R.cy+R.y11,R.cx+R.x11),mr(k.cy+k.y11,k.cx+k.x11),y),s.arc(k.cx,k.cy,O,mr(k.y11,k.x11),mr(k.y01,k.x01),!y))):s.arc(0,0,d,w,x,y)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-kc/2;return[ml(f)*c,di(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:qe(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:qe(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:qe(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:qe(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:qe(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:qe(+c),u):o},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:qe(+c),u):a},u.context=function(c){return arguments.length?(s=c??null,u):s},u}var H_e=Array.prototype.slice;function E5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Kte(e){this._context=e}Kte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ib(e){return new Kte(e)}function _5(e){return e[0]}function A5(e){return e[1]}function $5(e,t){var n=qe(!0),r=null,i=ib,o=null,a=rb(s);e=typeof e=="function"?e:e===void 0?_5:qe(e),t=typeof t=="function"?t:t===void 0?A5:qe(t);function s(l){var u,c=(l=E5(l)).length,f,d=!1,h;for(r==null&&(o=i(h=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,l),+t(f,u,l));if(h)return o=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:qe(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:qe(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:qe(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Zh(e,t,n){var r=null,i=qe(!0),o=null,a=ib,s=null,l=rb(u);e=typeof e=="function"?e:e===void 0?_5:qe(+e),t=typeof t=="function"?t:qe(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?A5:qe(+n);function u(f){var d,h,p,g=(f=E5(f)).length,m,y=!1,v,b=new Array(g),x=new Array(g);for(o==null&&(s=a(v=l())),d=0;d<=g;++d){if(!(d<g&&i(m=f[d],d,f))===y)if(y=!y)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=d-1;p>=h;--p)s.point(b[p],x[p]);s.lineEnd(),s.areaEnd()}y&&(b[d]=+e(m,d,f),x[d]=+t(m,d,f),s.point(r?+r(m,d,f):b[d],n?+n(m,d,f):x[d]))}if(v)return s=null,v+""||null}function c(){return $5().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qe(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qe(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:qe(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class Yte{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Qte(e){return new Yte(e,!0)}function G_e(e){return new Yte(e,!1)}function V_e(e){return e.source}function X_e(e){return e.target}function K_e(e){let t=V_e,n=X_e,r=_5,i=A5,o=null,a=null,s=rb(l);function l(){let u;const c=H_e.call(arguments),f=t.apply(this,c),d=n.apply(this,c);if(o==null&&(a=e(u=s())),a.lineStart(),c[0]=f,a.point(+r.apply(this,c),+i.apply(this,c)),c[0]=d,a.point(+r.apply(this,c),+i.apply(this,c)),a.lineEnd(),u)return a=null,u+""||null}return l.source=function(u){return arguments.length?(t=u,l):t},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:qe(+u),l):r},l.y=function(u){return arguments.length?(i=typeof u=="function"?u:qe(+u),l):i},l.context=function(u){return arguments.length?(u==null?o=a=null:a=e(o=u),l):o},l}function Y_e(){return K_e(Qte)}const O5={draw(e,t){const n=ir(t/kc);e.moveTo(n,0),e.arc(0,0,n,0,nb)}},Q_e={draw(e,t){const n=ir(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Jte=ir(1/3),J_e=Jte*2,Z_e={draw(e,t){const n=ir(t/J_e),r=n*Jte;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},eAe={draw(e,t){const n=ir(t),r=-n/2;e.rect(r,r,n,n)}},tAe=.8908130915292852,Zte=di(kc/10)/di(7*kc/10),nAe=di(nb/10)*Zte,rAe=-ml(nb/10)*Zte,iAe={draw(e,t){const n=ir(t*tAe),r=nAe*n,i=rAe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=nb*o/5,s=ml(a),l=di(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Uk=ir(3),oAe={draw(e,t){const n=-ir(t/(Uk*3));e.moveTo(0,n*2),e.lineTo(-Uk*n,-n),e.lineTo(Uk*n,-n),e.closePath()}},go=-.5,mo=ir(3)/2,vN=1/ir(12),aAe=(vN/2+1)*3,sAe={draw(e,t){const n=ir(t/aAe),r=n/2,i=n*vN,o=r,a=n*vN+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(go*r-mo*i,mo*r+go*i),e.lineTo(go*o-mo*a,mo*o+go*a),e.lineTo(go*s-mo*l,mo*s+go*l),e.lineTo(go*r+mo*i,go*i-mo*r),e.lineTo(go*o+mo*a,go*a-mo*o),e.lineTo(go*s+mo*l,go*l-mo*s),e.closePath()}};function ene(e,t){let n=null,r=rb(i);e=typeof e=="function"?e:qe(e||O5),t=typeof t=="function"?t:qe(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:qe(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:qe(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Pc(){}function xE(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function TA(e){this._context=e}TA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xE(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tne(e){return new TA(e)}function nne(e){this._context=e}nne.prototype={areaStart:Pc,areaEnd:Pc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xE(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rne(e){return new nne(e)}function ine(e){this._context=e}ine.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xE(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function one(e){return new ine(e)}function ane(e,t){this._basis=new TA(e),this._beta=t}ane.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+l*o),this._beta*t[s]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const lAe=function e(t){function n(r){return t===1?new TA(r):new ane(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function wE(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function C5(e,t){this._context=e,this._k=(1-t)/6}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:wE(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:wE(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const uAe=function e(t){function n(r){return new C5(r,t)}return n.tension=function(r){return e(+r)},n}(0);function k5(e,t){this._context=e,this._k=(1-t)/6}k5.prototype={areaStart:Pc,areaEnd:Pc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:wE(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const cAe=function e(t){function n(r){return new k5(r,t)}return n.tension=function(r){return e(+r)},n}(0);function P5(e,t){this._context=e,this._k=(1-t)/6}P5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wE(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const fAe=function e(t){function n(r){return new P5(r,t)}return n.tension=function(r){return e(+r)},n}(0);function T5(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>br){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>br){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function sne(e,t){this._context=e,this._alpha=t}sne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:T5(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const dAe=function e(t){function n(r){return t?new sne(r,t):new C5(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function lne(e,t){this._context=e,this._alpha=t}lne.prototype={areaStart:Pc,areaEnd:Pc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:T5(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const hAe=function e(t){function n(r){return t?new lne(r,t):new k5(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function une(e,t){this._context=e,this._alpha=t}une.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:T5(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const pAe=function e(t){function n(r){return t?new une(r,t):new P5(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function cne(e){this._context=e}cne.prototype={areaStart:Pc,areaEnd:Pc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fne(e){return new cne(e)}function T9(e){return e<0?-1:1}function M9(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(T9(o)+T9(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function N9(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Wk(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function SE(e){this._context=e}SE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wk(this,this._t0,N9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wk(this,N9(this,n=M9(this,e,t)),n);break;default:Wk(this,this._t0,n=M9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function dne(e){this._context=new hne(e)}(dne.prototype=Object.create(SE.prototype)).point=function(e,t){SE.prototype.point.call(this,t,e)};function hne(e){this._context=e}hne.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function pne(e){return new SE(e)}function gne(e){return new dne(e)}function mne(e){this._context=e}mne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=R9(e),i=R9(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function R9(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function yne(e){return new mne(e)}function MA(e,t){this._context=e,this._t=t}MA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function vne(e){return new MA(e,.5)}function bne(e){return new MA(e,0)}function xne(e){return new MA(e,1)}function ig(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function bN(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function gAe(e,t){return e[t]}function mAe(e){const t=[];return t.key=e,t}function yAe(){var e=qe([]),t=bN,n=ig,r=gAe;function i(o){var a=Array.from(e.apply(this,arguments),mAe),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=E5(t(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:qe(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:qe(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?bN:typeof o=="function"?o:qe(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??ig,i):n},i}function vAe(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}ig(e,t)}}function bAe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}ig(e,t)}}function xAe(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],f=c[r][1]||0,d=c[r-1][1]||0,h=(f-d)/2,p=0;p<s;++p){var g=e[t[p]],m=g[r][1]||0,y=g[r-1][1]||0;h+=m-y}l+=f,u+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ig(e,t)}}function vc(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const wAe=()=>typeof Image<"u"?Image:null;function Xo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function cu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const EE=Symbol("implicit");function ob(){var e=new QB,t=[],n=[],r=EE;function i(o){let a=e.get(o);if(a===void 0){if(r!==EE)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new QB;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ob(t,n).unknown(r)},Xo.apply(i,arguments),i}function Cv(){var e=ob().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,g=h?r:i;o=(g-p)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),p+=(g-p-o*(d-l))*c,a=o*(1-l),s&&(p=Math.round(p),a=Math.round(a));var m=vi(d).map(function(y){return p+o*y});return n(h?m.reverse():m)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return Cv(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Xo.apply(f(),arguments)}function wne(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wne(t())},e}function T0(){return wne(Cv.apply(null,arguments).paddingInner(1))}function _m(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ab(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Vc(){}var vd=.7,og=1/vd,vp="\\s*([+-]?\\d+)\\s*",kv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SAe=/^#([0-9a-f]{3,8})$/,EAe=new RegExp(`^rgb\\(${vp},${vp},${vp}\\)$`),_Ae=new RegExp(`^rgb\\(${_s},${_s},${_s}\\)$`),AAe=new RegExp(`^rgba\\(${vp},${vp},${vp},${kv}\\)$`),$Ae=new RegExp(`^rgba\\(${_s},${_s},${_s},${kv}\\)$`),OAe=new RegExp(`^hsl\\(${kv},${_s},${_s}\\)$`),CAe=new RegExp(`^hsla\\(${kv},${_s},${_s},${kv}\\)$`),D9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_m(Vc,bd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:I9,formatHex:I9,formatHex8:kAe,formatHsl:PAe,formatRgb:F9,toString:F9});function I9(){return this.rgb().formatHex()}function kAe(){return this.rgb().formatHex8()}function PAe(){return Sne(this).formatHsl()}function F9(){return this.rgb().formatRgb()}function bd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=SAe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?j9(t):n===3?new Ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?qx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?qx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=EAe.exec(e))?new Ln(t[1],t[2],t[3],1):(t=_Ae.exec(e))?new Ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AAe.exec(e))?qx(t[1],t[2],t[3],t[4]):(t=$Ae.exec(e))?qx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OAe.exec(e))?B9(t[1],t[2]/100,t[3]/100,1):(t=CAe.exec(e))?B9(t[1],t[2]/100,t[3]/100,t[4]):D9.hasOwnProperty(e)?j9(D9[e]):e==="transparent"?new Ln(NaN,NaN,NaN,0):null}function j9(e){return new Ln(e>>16&255,e>>8&255,e&255,1)}function qx(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ln(e,t,n,r)}function M5(e){return e instanceof Vc||(e=bd(e)),e?(e=e.rgb(),new Ln(e.r,e.g,e.b,e.opacity)):new Ln}function Tc(e,t,n,r){return arguments.length===1?M5(e):new Ln(e,t,n,r??1)}function Ln(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}_m(Ln,Tc,ab(Vc,{brighter(e){return e=e==null?og:Math.pow(og,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vd:Math.pow(vd,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ln(Zf(this.r),Zf(this.g),Zf(this.b),_E(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L9,formatHex:L9,formatHex8:TAe,formatRgb:z9,toString:z9}));function L9(){return`#${Bf(this.r)}${Bf(this.g)}${Bf(this.b)}`}function TAe(){return`#${Bf(this.r)}${Bf(this.g)}${Bf(this.b)}${Bf((isNaN(this.opacity)?1:this.opacity)*255)}`}function z9(){const e=_E(this.opacity);return`${e===1?"rgb(":"rgba("}${Zf(this.r)}, ${Zf(this.g)}, ${Zf(this.b)}${e===1?")":`, ${e})`}`}function _E(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bf(e){return e=Zf(e),(e<16?"0":"")+e.toString(16)}function B9(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ma(e,t,n,r)}function Sne(e){if(e instanceof ma)return new ma(e.h,e.s,e.l,e.opacity);if(e instanceof Vc||(e=bd(e)),!e)return new ma;if(e instanceof ma)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new ma(a,s,l,e.opacity)}function AE(e,t,n,r){return arguments.length===1?Sne(e):new ma(e,t,n,r??1)}function ma(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_m(ma,AE,ab(Vc,{brighter(e){return e=e==null?og:Math.pow(og,e),new ma(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vd:Math.pow(vd,e),new ma(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ln(qk(e>=240?e-240:e+120,i,r),qk(e,i,r),qk(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ma(U9(this.h),Hx(this.s),Hx(this.l),_E(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_E(this.opacity);return`${e===1?"hsl(":"hsla("}${U9(this.h)}, ${Hx(this.s)*100}%, ${Hx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function U9(e){return e=(e||0)%360,e<0?e+360:e}function Hx(e){return Math.max(0,Math.min(1,e||0))}function qk(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ene=Math.PI/180,_ne=180/Math.PI,$E=18,Ane=.96422,$ne=1,One=.82521,Cne=4/29,bp=6/29,kne=3*bp*bp,MAe=bp*bp*bp;function Pne(e){if(e instanceof As)return new As(e.l,e.a,e.b,e.opacity);if(e instanceof kl)return Tne(e);e instanceof Ln||(e=M5(e));var t=Xk(e.r),n=Xk(e.g),r=Xk(e.b),i=Hk((.2225045*t+.7168786*n+.0606169*r)/$ne),o,a;return t===n&&n===r?o=a=i:(o=Hk((.4360747*t+.3850649*n+.1430804*r)/Ane),a=Hk((.0139322*t+.0971045*n+.7141733*r)/One)),new As(116*i-16,500*(o-i),200*(i-a),e.opacity)}function OE(e,t,n,r){return arguments.length===1?Pne(e):new As(e,t,n,r??1)}function As(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}_m(As,OE,ab(Vc,{brighter(e){return new As(this.l+$E*(e??1),this.a,this.b,this.opacity)},darker(e){return new As(this.l-$E*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Ane*Gk(t),e=$ne*Gk(e),n=One*Gk(n),new Ln(Vk(3.1338561*t-1.6168667*e-.4906146*n),Vk(-.9787684*t+1.9161415*e+.033454*n),Vk(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Hk(e){return e>MAe?Math.pow(e,1/3):e/kne+Cne}function Gk(e){return e>bp?e*e*e:kne*(e-Cne)}function Vk(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Xk(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function NAe(e){if(e instanceof kl)return new kl(e.h,e.c,e.l,e.opacity);if(e instanceof As||(e=Pne(e)),e.a===0&&e.b===0)return new kl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*_ne;return new kl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function CE(e,t,n,r){return arguments.length===1?NAe(e):new kl(e,t,n,r??1)}function kl(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Tne(e){if(isNaN(e.h))return new As(e.l,0,0,e.opacity);var t=e.h*Ene;return new As(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}_m(kl,CE,ab(Vc,{brighter(e){return new kl(this.h,this.c,this.l+$E*(e??1),this.opacity)},darker(e){return new kl(this.h,this.c,this.l-$E*(e??1),this.opacity)},rgb(){return Tne(this).rgb()}}));var Mne=-.14861,N5=1.78277,R5=-.29227,NA=-.90649,Pv=1.97294,W9=Pv*NA,q9=Pv*N5,H9=N5*R5-NA*Mne;function RAe(e){if(e instanceof ed)return new ed(e.h,e.s,e.l,e.opacity);e instanceof Ln||(e=M5(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(H9*r+W9*t-q9*n)/(H9+W9-q9),o=r-i,a=(Pv*(n-i)-R5*o)/NA,s=Math.sqrt(a*a+o*o)/(Pv*i*(1-i)),l=s?Math.atan2(a,o)*_ne-120:NaN;return new ed(l<0?l+360:l,s,i,e.opacity)}function xN(e,t,n,r){return arguments.length===1?RAe(e):new ed(e,t,n,r??1)}function ed(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_m(ed,xN,ab(Vc,{brighter(e){return e=e==null?og:Math.pow(og,e),new ed(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vd:Math.pow(vd,e),new ed(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Ene,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ln(255*(t+n*(Mne*r+N5*i)),255*(t+n*(R5*r+NA*i)),255*(t+n*(Pv*r)),this.opacity)}}));function Nne(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function Rne(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Nne((n-r/t)*t,a,i,o,s)}}function Dne(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Nne((n-r/t)*t,i,o,a,s)}}const RA=e=>()=>e;function Ine(e,t){return function(n){return e+n*t}}function DAe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function DA(e,t){var n=t-e;return n?Ine(e,n>180||n<-180?n-360*Math.round(n/360):n):RA(isNaN(e)?t:e)}function IAe(e){return(e=+e)==1?zn:function(t,n){return n-t?DAe(t,n,e):RA(isNaN(t)?n:t)}}function zn(e,t){var n=t-e;return n?Ine(e,n):RA(isNaN(e)?t:e)}const Tv=function e(t){var n=IAe(t);function r(i,o){var a=n((i=Tc(i)).r,(o=Tc(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=zn(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function Fne(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=Tc(t[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=e(r),i=e(i),o=e(o),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=o(l),s+""}}}var FAe=Fne(Rne),jAe=Fne(Dne);function D5(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function jne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LAe(e,t){return(jne(t)?D5:Lne)(e,t)}function Lne(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Xc(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function zne(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Eo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Bne(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Xc(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var wN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kk=new RegExp(wN.source,"g");function zAe(e){return function(){return e}}function BAe(e){return function(t){return e(t)+""}}function I5(e,t){var n=wN.lastIndex=Kk.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=wN.exec(e))&&(i=Kk.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Eo(r,i)})),n=Kk.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?BAe(l[0].x):zAe(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Xc(e,t){var n=typeof t,r;return t==null||n==="boolean"?RA(t):(n==="number"?Eo:n==="string"?(r=bd(t))?(t=r,Tv):I5:t instanceof bd?Tv:t instanceof Date?zne:jne(t)?D5:Array.isArray(t)?Lne:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Bne:Eo)(e,t)}function UAe(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function WAe(e,t){var n=DA(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function sb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var G9=180/Math.PI,SN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Une(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*G9,skewX:Math.atan(l)*G9,scaleX:a,scaleY:s}}var Gx;function qAe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?SN:Une(t.a,t.b,t.c,t.d,t.e,t.f)}function HAe(e){return e==null||(Gx||(Gx=document.createElementNS("http://www.w3.org/2000/svg","g")),Gx.setAttribute("transform",e),!(e=Gx.transform.baseVal.consolidate()))?SN:(e=e.matrix,Une(e.a,e.b,e.c,e.d,e.e,e.f))}function Wne(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:Eo(u,f)},{i:g-2,x:Eo(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Eo(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Eo(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Eo(u,f)},{i:g-2,x:Eo(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),a(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var qne=Wne(qAe,"px, ","px)","deg)"),Hne=Wne(HAe,", ",")",")"),GAe=1e-12;function V9(e){return((e=Math.exp(e))+1/e)/2}function VAe(e){return((e=Math.exp(e))-1/e)/2}function XAe(e){return((e=Math.exp(2*e))-1)/(e+1)}const KAe=function e(t,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],f=a[1],d=a[2],h=c-s,p=f-l,g=h*h+p*p,m,y;if(g<GAe)y=Math.log(d/u)/t,m=function(S){return[s+S*h,l+S*p,u*Math.exp(t*S*y)]};else{var v=Math.sqrt(g),b=(d*d-u*u+r*g)/(2*u*n*v),x=(d*d-u*u-r*g)/(2*d*n*v),w=Math.log(Math.sqrt(b*b+1)-b),E=Math.log(Math.sqrt(x*x+1)-x);y=(E-w)/t,m=function(S){var A=S*y,$=V9(w),_=u/(n*v)*($*XAe(t*A+w)-VAe(w));return[s+_*h,l+_*p,u*$/V9(t*A+w)]}}return m.duration=y*1e3*t/Math.SQRT2,m}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return e(a,s,l)},i}(Math.SQRT2,2,4);function Gne(e){return function(t,n){var r=e((t=AE(t)).h,(n=AE(n)).h),i=zn(t.s,n.s),o=zn(t.l,n.l),a=zn(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const YAe=Gne(DA);var QAe=Gne(zn);function JAe(e,t){var n=zn((e=OE(e)).l,(t=OE(t)).l),r=zn(e.a,t.a),i=zn(e.b,t.b),o=zn(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function Vne(e){return function(t,n){var r=e((t=CE(t)).h,(n=CE(n)).h),i=zn(t.c,n.c),o=zn(t.l,n.l),a=zn(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const ZAe=Vne(DA);var e$e=Vne(zn);function Xne(e){return function t(n){n=+n;function r(i,o){var a=e((i=xN(i)).h,(o=xN(o)).h),s=zn(i.s,o.s),l=zn(i.l,o.l),u=zn(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=s(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const t$e=Xne(DA);var n$e=Xne(zn);function F5(e,t){t===void 0&&(t=e,e=Xc);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function r$e(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const i$e=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Xc,interpolateArray:LAe,interpolateBasis:Rne,interpolateBasisClosed:Dne,interpolateCubehelix:t$e,interpolateCubehelixLong:n$e,interpolateDate:zne,interpolateDiscrete:UAe,interpolateHcl:ZAe,interpolateHclLong:e$e,interpolateHsl:YAe,interpolateHslLong:QAe,interpolateHue:WAe,interpolateLab:JAe,interpolateNumber:Eo,interpolateNumberArray:D5,interpolateObject:Bne,interpolateRgb:Tv,interpolateRgbBasis:FAe,interpolateRgbBasisClosed:jAe,interpolateRound:sb,interpolateString:I5,interpolateTransformCss:qne,interpolateTransformSvg:Hne,interpolateZoom:KAe,piecewise:F5,quantize:r$e},Symbol.toStringTag,{value:"Module"}));function o$e(e){return function(){return e}}function kE(e){return+e}var X9=[0,1];function Yr(e){return e}function EN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:o$e(isNaN(t)?NaN:.5)}function a$e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function s$e(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=EN(i,r),o=n(a,o)):(r=EN(r,i),o=n(o,a)),function(s){return o(r(s))}}function l$e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=EN(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=Ql(e,s,1,r)-1;return o[l](i[l](s))}}function lb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function IA(){var e=X9,t=X9,n=Xc,r,i,o,a=Yr,s,l,u;function c(){var d=Math.min(e.length,t.length);return a!==Yr&&(a=a$e(e[0],e[d-1])),s=d>2?l$e:s$e,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(e.map(r),t,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(t,e.map(r),Eo)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,kE),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=sb,c()},f.clamp=function(d){return arguments.length?(a=d?!0:Yr,c()):a!==Yr},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}function j5(){return IA()(Yr,Yr)}function L5(e,t,n,r){var i=Oc(e,t,n),o;switch(r=yd(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=fee(i,a))&&(r.precision=o),xF(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=dee(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=cee(i))&&(r.precision=o-(r.type==="%")*2);break}}return dA(r)}function Kc(e){var t=e.domain;return e.ticks=function(n){var r=t();return rN(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return L5(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=iN(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function Mv(){var e=j5();return e.copy=function(){return lb(e,Mv())},Xo.apply(e,arguments),Kc(e)}function z5(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,kE),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return z5(e).unknown(t)},e=arguments.length?Array.from(e,kE):[0,1],Kc(n)}function Kne(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function K9(e){return Math.log(e)}function Y9(e){return Math.exp(e)}function u$e(e){return-Math.log(-e)}function c$e(e){return-Math.exp(-e)}function f$e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function d$e(e){return e===10?f$e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function h$e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Q9(e){return(t,n)=>-e(-t,n)}function B5(e){const t=e(K9,Y9),n=t.domain;let r=10,i,o;function a(){return i=h$e(r),o=d$e(r),n()[0]<0?(i=Q9(i),o=Q9(o),e(u$e,c$e)):e(K9,Y9),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),h=i(c),p,g;const m=s==null?10:+s;let y=[];if(!(r%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;y.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;y.push(g)}y.length*2<m&&(y=rN(u,c,m))}else y=rN(d,h,Math.min(h-d,m)).map(o);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=yd(l)).precision==null&&(l.trim=!0),l=dA(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(Kne(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function U5(){const e=B5(IA()).domain([1,10]);return e.copy=()=>lb(e,U5()).base(e.base()),Xo.apply(e,arguments),e}function J9(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Z9(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function W5(e){var t=1,n=e(J9(t),Z9(t));return n.constant=function(r){return arguments.length?e(J9(t=+r),Z9(t)):t},Kc(n)}function q5(){var e=W5(IA());return e.copy=function(){return lb(e,q5()).constant(e.constant())},Xo.apply(e,arguments)}function e7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function p$e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function g$e(e){return e<0?-e*e:e*e}function H5(e){var t=e(Yr,Yr),n=1;function r(){return n===1?e(Yr,Yr):n===.5?e(p$e,g$e):e(e7(n),e7(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Kc(t)}function FA(){var e=H5(IA());return e.copy=function(){return lb(e,FA()).exponent(e.exponent())},Xo.apply(e,arguments),e}function Yne(){return FA.apply(null,arguments).exponent(.5)}function t7(e){return Math.sign(e)*e*e}function m$e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Qne(){var e=j5(),t=[0,1],n=!1,r;function i(o){var a=m$e(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(t7(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,kE)).map(t7)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Qne(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Xo.apply(i,arguments),Kc(i)}function G5(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=iee(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[Ql(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Es),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return G5().domain(e).range(t).unknown(r)},Xo.apply(o,arguments)}function V5(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Ql(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return V5().domain([e,t]).range(i).unknown(o)},Xo.apply(Kc(a),arguments)}function X5(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Ql(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return X5().domain(e).range(t).unknown(n)},Xo.apply(i,arguments)}function y$e(e){return new Date(e)}function v$e(e){return e instanceof Date?+e:+new Date(+e)}function K5(e,t,n,r,i,o,a,s,l,u){var c=j5(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),x=u("%Y");function w(E){return(l(E)<E?h:s(E)<E?p:a(E)<E?g:o(E)<E?m:r(E)<E?i(E)<E?y:v:n(E)<E?b:x)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?d(Array.from(E,v$e)):d().map(y$e)},c.ticks=function(E){var S=d();return e(S[0],S[S.length-1],E??10)},c.tickFormat=function(E,S){return S==null?w:u(S)},c.nice=function(E){var S=d();return(!E||typeof E.range!="function")&&(E=t(S[0],S[S.length-1],E??10)),E?d(Kne(S,E)):c},c.copy=function(){return lb(c,K5(e,t,n,r,i,o,a,s,l,u))},c}function Jne(){return Xo.apply(K5(mSe,ySe,Ds,Ev,bm,Rl,gA,hA,Cl,AF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zne(){return Xo.apply(K5(pSe,gSe,Is,_v,xm,mc,mA,pA,Cl,$F).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jA(){var e=0,t=1,n,r,i,o,a=Yr,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,a=f(h,p),u):[a(0),a(1)]}}return u.range=c(Xc),u.rangeRound=c(sb),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Yc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function LA(){var e=Kc(jA()(Yr));return e.copy=function(){return Yc(e,LA())},cu.apply(e,arguments)}function Y5(){var e=B5(jA()).domain([1,10]);return e.copy=function(){return Yc(e,Y5()).base(e.base())},cu.apply(e,arguments)}function Q5(){var e=W5(jA());return e.copy=function(){return Yc(e,Q5()).constant(e.constant())},cu.apply(e,arguments)}function zA(){var e=H5(jA());return e.copy=function(){return Yc(e,zA()).exponent(e.exponent())},cu.apply(e,arguments)}function ere(){return zA.apply(null,arguments).exponent(.5)}function tre(){var e=[],t=Yr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ql(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Es),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>hE(e,o/r))},n.copy=function(){return tre(t).domain(e)},cu.apply(n,arguments)}function BA(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,u=Yr,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(m){var y,v,b;return arguments.length?([y,v,b]=m,u=F5(g,[y,v,b]),h):[u(0),u(.5),u(1)]}}return h.range=p(Xc),h.rangeRound=p(sb),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,i=g(e),o=g(t),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function J5(){var e=Kc(BA()(Yr));return e.copy=function(){return Yc(e,J5())},cu.apply(e,arguments)}function Z5(){var e=B5(BA()).domain([.1,1,10]);return e.copy=function(){return Yc(e,Z5()).base(e.base())},cu.apply(e,arguments)}function ej(){var e=W5(BA());return e.copy=function(){return Yc(e,ej()).constant(e.constant())},cu.apply(e,arguments)}function UA(){var e=H5(BA());return e.copy=function(){return Yc(e,UA()).exponent(e.exponent())},cu.apply(e,arguments)}function nre(){return UA.apply(null,arguments).exponent(.5)}function Gs(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const b$e=Gs("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),x$e=Gs("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),w$e=Gs("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),S$e=Gs("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),E$e=Gs("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),_$e=Gs("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),A$e=Gs("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),$$e=Gs("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),O$e=Gs("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),C$e=Gs("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function tj(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const k$e="identity",ag="linear",Zl="log",ub="pow",cb="sqrt",WA="symlog",xd="time",wd="utc",$s="sequential",Am="diverging",sg="quantile",qA="quantize",HA="threshold",nj="ordinal",_N="point",rre="band",rj="bin-ordinal",Dn="continuous",fb="discrete",db="discretizing",Ko="interpolating",ij="temporal";function P$e(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function T$e(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,a,s,l,u;for(i<r&&(s=r,r=i,i=s),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),a=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[a]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function oj(){const e=ob().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,a=!1,s=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=tj(f,s,l);let g=r[d-0];i=(h-g)/(p||1),a&&(i=Math.floor(i)),g+=(h-g-i*(f-s))*u,o=i*(1-s),a&&(g=Math.round(g),o=Math.round(o));const m=vi(f).map(y=>g+i*y);return n(d?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],a=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(a=!!f,c()):a},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),s=l,c()):s},e.paddingInner=function(f){return arguments.length?(s=Math.max(0,Math.min(1,f)),c()):s},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let g=+f[0],m=+f[1],y,v,b;if(!(g!==g||m!==m)&&(m<g&&(b=g,g=m,m=b),!(m<h[0]||g>r[1-d])))return y=Math.max(0,Ql(h,g)-1),v=g===m?y:Ql(h,m)-1,g-h[y]>o+1e-10&&++y,d&&(b=y,y=p-v,v=p-b),y>v?void 0:t().slice(y,v+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return oj().domain(t()).range(r).round(a).paddingInner(s).paddingOuter(l).align(u)},c()}function ire(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return ire(t())},e}function M$e(){return ire(oj().paddingInner(1))}var N$e=Array.prototype.map;function R$e(e){return N$e.call(e,Or)}const D$e=Array.prototype.slice;function ore(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(Ql(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=R$e(r),n):e.slice()},n.range=function(r){return arguments.length?(t=D$e.call(r),n):t.slice()},n.tickFormat=function(r,i){return L5(e[0],Ve(e),r??10,i)},n.copy=function(){return ore().domain(n.domain()).range(n.range())},n}const PE=new Map,are=Symbol("vega_scale");function sre(e){return e[are]=!0,e}function n7(e){return e&&e[are]===!0}function I$e(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?P$e(o):o.invertExtent?T$e(o):void 0),o.type=e,sre(o)};return r.metadata=Ma(ue(n)),r}function rt(e,t,n){return arguments.length>1?(PE.set(e,I$e(e,t,n)),this):lre(e)?PE.get(e):void 0}rt(k$e,z5);rt(ag,Mv,Dn);rt(Zl,U5,[Dn,Zl]);rt(ub,FA,Dn);rt(cb,Yne,Dn);rt(WA,q5,Dn);rt(xd,Jne,[Dn,ij]);rt(wd,Zne,[Dn,ij]);rt($s,LA,[Dn,Ko]);rt(`${$s}-${ag}`,LA,[Dn,Ko]);rt(`${$s}-${Zl}`,Y5,[Dn,Ko,Zl]);rt(`${$s}-${ub}`,zA,[Dn,Ko]);rt(`${$s}-${cb}`,ere,[Dn,Ko]);rt(`${$s}-${WA}`,Q5,[Dn,Ko]);rt(`${Am}-${ag}`,J5,[Dn,Ko]);rt(`${Am}-${Zl}`,Z5,[Dn,Ko,Zl]);rt(`${Am}-${ub}`,UA,[Dn,Ko]);rt(`${Am}-${cb}`,nre,[Dn,Ko]);rt(`${Am}-${WA}`,ej,[Dn,Ko]);rt(sg,G5,[db,sg]);rt(qA,V5,db);rt(HA,X5,db);rt(rj,ore,[fb,db]);rt(nj,ob,fb);rt(rre,oj,fb);rt(_N,M$e,fb);function lre(e){return PE.has(e)}function Qd(e,t){const n=PE.get(e);return n&&n.metadata[t]}function aj(e){return Qd(e,Dn)}function lg(e){return Qd(e,fb)}function AN(e){return Qd(e,db)}function ure(e){return Qd(e,Zl)}function F$e(e){return Qd(e,ij)}function cre(e){return Qd(e,Ko)}function fre(e){return Qd(e,sg)}const j$e=["clamp","base","constant","exponent"];function dre(e,t){const n=t[0],r=Ve(t)-n;return function(i){return e(n+i*r)}}function GA(e,t,n){return F5(sj(t||"rgb",n),e)}function hre(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function pre(e,t,n){const r=n-t;let i,o,a;return!r||!Number.isFinite(r)?Dr(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),a=rt(o)().domain([t,n]).range([0,1]),j$e.forEach(s=>e[s]?a[s](e[s]()):0),a)}function sj(e,t){const n=i$e[L$e(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function L$e(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const z$e={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},B$e={accent:x$e,category10:b$e,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:w$e,observable10:S$e,paired:E$e,pastel1:_$e,pastel2:A$e,set1:$$e,set2:O$e,set3:C$e,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function gre(e){if(X(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function mre(e,t){for(const n in e)lj(n,t(e[n]))}const r7={};mre(B$e,gre);mre(z$e,e=>GA(gre(e)));function lj(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(r7[e]=t,this):r7[e]}const nS="symbol",U$e="discrete",W$e="gradient",q$e=e=>X(e)?e.map(t=>String(t)):String(e),H$e=(e,t)=>e[1]-t[1],G$e=(e,t)=>t[1]-e[1];function uj(e,t,n){let r;return tt(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(J1(e.domain())/n||1)+1))),le(t)&&(r=t.step,t=t.interval),se(t)&&(t=e.type===xd?wm(t):e.type==wd?Sm(t):G("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function yre(e,t,n){let r=e.range(),i=r[0],o=Ve(r),a=H$e;if(i>o&&(r=o,o=i,i=r,a=G$e),i=Math.floor(i),o=Math.ceil(o),t=t.map(s=>[s,e(s)]).filter(s=>i<=s[1]&&s[1]<=o).sort(a).map(s=>s[0]),n>0&&t.length>1){const s=[t[0],Ve(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=s)}return t}function cj(e,t){return e.bins?yre(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function vre(e,t,n,r,i,o){const a=t.type;let s=q$e;if(a===xd||i===xd)s=e.timeFormat(r);else if(a===wd||i===wd)s=e.utcFormat(r);else if(ure(a)){const l=e.formatFloat(r);if(o||t.bins)s=l;else{const u=bre(t,n,!1);s=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();s=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(s=e.format(r));return s}function bre(e,t,n){const r=cj(e,t),i=e.base(),o=Math.log(i),a=Math.max(1,i*t/r.length),s=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/o));return u*i<i-.5&&(u*=i),u<=a};return n?r.filter(s):s}const $N={[sg]:"quantiles",[qA]:"thresholds",[HA]:"domain"},xre={[sg]:"quantiles",[qA]:"domain"};function wre(e,t){return e.bins?K$e(e.bins):e.type===Zl?bre(e,t,!0):$N[e.type]?X$e(e[$N[e.type]]()):cj(e,t)}function V$e(e,t,n){const r=t[xre[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],a;for(a=1;a<i;++a)o=Math.min(o,r[a]-r[a-1]);return e.formatSpan(0,o,3*10,n)}function X$e(e){const t=[-1/0].concat(e);return t.max=1/0,t}function K$e(e){const t=e.slice(0,-1);return t.max=Ve(e),t}const Y$e=e=>$N[e.type]||e.bins;function Sre(e,t,n,r,i,o,a){const s=xre[t.type]&&o!==xd&&o!==wd?V$e(e,t,i):vre(e,t,n,i,o,a);return r===nS&&Y$e(t)?Q$e(s):r===U$e?J$e(s):Z$e(s)}const Q$e=e=>(t,n,r)=>{const i=i7(r[n+1],i7(r.max,1/0)),o=o7(t,e),a=o7(i,e);return o&&a?o+"  "+a:a?"< "+a:" "+o},i7=(e,t)=>e??t,J$e=e=>(t,n)=>n?e(t):null,Z$e=e=>t=>e(t),o7=(e,t)=>Number.isFinite(e)?t(e):null;function eOe(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Ve(t),o=i-r;if(e.type===HA){const a=n?o/n:.1;r-=a,i+=a,o=i-r}return a=>(a-r)/o}function tOe(e,t,n,r){const i=r||t.type;return se(n)&&F$e(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===xd?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===wd?e.utcFormat("%A, %d %B %Y, %X UTC"):Sre(e,t,5,null,n,r,!0)}function Ere(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=tOe(e,t,n.format,n.formatType);if(AN(t.type)){const o=wre(t).slice(1).map(i),a=o.length;return`${a} boundar${a===1?"y":"ies"}: ${o.join(", ")}`}else if(lg(t.type)){const o=t.domain(),a=o.length,s=a>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${a} value${a===1?"":"s"}: ${s}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(Ve(o))}`}}let _re=0;function nOe(){_re=0}const TE="p_";function fj(e){return e&&e.gradient}function Are(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?TE:"";return i||(i=e.id="gradient_"+_re++,r==="radial"?(e.x1=es(e.x1,.5),e.y1=es(e.y1,.5),e.r1=es(e.r1,0),e.x2=es(e.x2,.5),e.y2=es(e.y2,.5),e.r2=es(e.r2,.5),o=TE):(e.x1=es(e.x1,0),e.y1=es(e.y1,0),e.x2=es(e.x2,1),e.y2=es(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function es(e,t){return e??t}function $re(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const a7={basis:{curve:tne},"basis-closed":{curve:rne},"basis-open":{curve:one},bundle:{curve:lAe,tension:"beta",value:.85},cardinal:{curve:uAe,tension:"tension",value:0},"cardinal-open":{curve:fAe,tension:"tension",value:0},"cardinal-closed":{curve:cAe,tension:"tension",value:0},"catmull-rom":{curve:dAe,tension:"alpha",value:.5},"catmull-rom-closed":{curve:hAe,tension:"alpha",value:.5},"catmull-rom-open":{curve:pAe,tension:"alpha",value:.5},linear:{curve:ib},"linear-closed":{curve:fne},monotone:{horizontal:gne,vertical:pne},natural:{curve:yne},step:{curve:vne},"step-after":{curve:xne},"step-before":{curve:bne}};function dj(e,t,n){var r=de(a7,e)&&a7[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const rOe={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},iOe=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,oOe=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,aOe=/^((\s+,?\s*)|(,\s*))/,sOe=/^[01]/;function ug(e){const t=[];return(e.match(iOe)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),a=rOe[o],s=lOe(o,a,r.slice(1).trim()),l=s.length;if(l<a||l&&l%a!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...s.slice(0,a)]),l!==a){o==="m"&&(i=i==="M"?"L":"l");for(let u=a;u<l;u+=a)t.push([i,...s.slice(u,u+a)])}}),t}function lOe(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const a=e==="a"&&(o===3||o===4)?sOe:oOe,s=n.slice(i).match(a);if(s===null)throw Error("Invalid SVG path, incorrect parameter type");i+=s[0].length,r.push(+s[0]);const l=n.slice(i).match(aOe);l!==null&&(i+=l[0].length)}return r}const Mc=Math.PI/180,uOe=1e-14,Nf=Math.PI/2,ps=Math.PI*2,yh=Math.sqrt(3)/2;var Yk={},Qk={},Ore=[].join;function cOe(e,t,n,r,i,o,a,s,l){const u=Ore.call(arguments);if(Yk[u])return Yk[u];const c=a*Mc,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=d*(s-e)*.5+f*(l-t)*.5,p=d*(l-t)*.5-f*(s-e)*.5;let g=h*h/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=d/n,y=f/n,v=-f/r,b=d/r,x=m*s+y*l,w=v*s+b*l,E=m*e+y*t,S=v*e+b*t;let $=1/((E-x)*(E-x)+(S-w)*(S-w))-.25;$<0&&($=0);let _=Math.sqrt($);o==i&&(_=-_);const O=.5*(x+E)-_*(S-w),P=.5*(w+S)+_*(E-x),R=Math.atan2(w-P,x-O);let C=Math.atan2(S-P,E-O)-R;C<0&&o===1?C+=ps:C>0&&o===0&&(C-=ps);const M=Math.ceil(Math.abs(C/(Nf+.001))),I=[];for(let N=0;N<M;++N){const F=R+N*C/M,L=R+(N+1)*C/M;I[N]=[O,P,F,L,n,r,f,d]}return Yk[u]=I}function fOe(e){const t=Ore.call(e);if(Qk[t])return Qk[t];var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7];const c=u*a,f=-l*s,d=l*a,h=u*s,p=Math.cos(i),g=Math.sin(i),m=Math.cos(o),y=Math.sin(o),v=.5*(o-i),b=Math.sin(v*.5),x=8/3*b*b/Math.sin(v),w=n+p-x*g,E=r+g+x*p,S=n+m,A=r+y,$=S+x*y,_=A-x*m;return Qk[t]=[c*w+f*E,d*w+h*E,c*$+f*_,d*$+h*_,c*S+f*A,d*S+h*A]}const yo=["l",0,0,0,0,0,0,0];function dOe(e,t,n){const r=yo[0]=e[0];if(r==="a"||r==="A")yo[1]=t*e[1],yo[2]=n*e[2],yo[3]=e[3],yo[4]=e[4],yo[5]=e[5],yo[6]=t*e[6],yo[7]=n*e[7];else if(r==="h"||r==="H")yo[1]=t*e[1];else if(r==="v"||r==="V")yo[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)yo[i]=(i%2==1?t:n)*e[i];return yo}function Nv(e,t,n,r,i,o){var a,s=null,l=0,u=0,c=0,f=0,d,h,p,g,m=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var v=0,b=t.length;v<b;++v){switch(a=t[v],(i!==1||o!==1)&&(a=dOe(a,i,o)),a[0]){case"l":l+=a[1],u+=a[2],e.lineTo(l+n,u+r);break;case"L":l=a[1],u=a[2],e.lineTo(l+n,u+r);break;case"h":l+=a[1],e.lineTo(l+n,u+r);break;case"H":l=a[1],e.lineTo(l+n,u+r);break;case"v":u+=a[1],e.lineTo(l+n,u+r);break;case"V":u=a[1],e.lineTo(l+n,u+r);break;case"m":l+=a[1],u+=a[2],m=l,y=u,e.moveTo(l+n,u+r);break;case"M":l=a[1],u=a[2],m=l,y=u,e.moveTo(l+n,u+r);break;case"c":d=l+a[5],h=u+a[6],c=l+a[3],f=u+a[4],e.bezierCurveTo(l+a[1]+n,u+a[2]+r,c+n,f+r,d+n,h+r),l=d,u=h;break;case"C":l=a[5],u=a[6],c=a[3],f=a[4],e.bezierCurveTo(a[1]+n,a[2]+r,c+n,f+r,l+n,u+r);break;case"s":d=l+a[3],h=u+a[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,l+a[1]+n,u+a[2]+r,d+n,h+r),c=l+a[1],f=u+a[2],l=d,u=h;break;case"S":d=a[3],h=a[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,a[1]+n,a[2]+r,d+n,h+r),l=d,u=h,c=a[1],f=a[2];break;case"q":d=l+a[3],h=u+a[4],c=l+a[1],f=u+a[2],e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"Q":d=a[3],h=a[4],e.quadraticCurveTo(a[1]+n,a[2]+r,d+n,h+r),l=d,u=h,c=a[1],f=a[2];break;case"t":d=l+a[1],h=u+a[2],s[0].match(/[QqTt]/)===null?(c=l,f=u):s[0]==="t"?(c=2*l-p,f=2*u-g):s[0]==="q"&&(c=2*l-c,f=2*u-f),p=c,g=f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h,c=l+a[1],f=u+a[2];break;case"T":d=a[1],h=a[2],c=2*l-c,f=2*u-f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"a":s7(e,l+n,u+r,[a[1],a[2],a[3],a[4],a[5],a[6]+l+n,a[7]+u+r]),l+=a[6],u+=a[7];break;case"A":s7(e,l+n,u+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),l=a[6],u=a[7];break;case"z":case"Z":l=m,u=y,e.closePath();break}s=a}}function s7(e,t,n,r){const i=cOe(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const a=fOe(i[o]);e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}const l7=.5773502691896257,u7={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,ps)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=yh*n,i=r-n*l7,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=yh*n,i=r-n*l7;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=yh*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=yh*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=yh*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=yh*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Cre(e){return de(u7,e)?u7[e]:hOe(e)}var Jk={};function hOe(e){if(!de(Jk,e)){const t=ug(e);Jk[e]={draw:function(n,r){Nv(n,t,0,0,Math.sqrt(r)/2)}}}return Jk[e]}const Au=.448084975506;function pOe(e){return e.x}function gOe(e){return e.y}function mOe(e){return e.width}function yOe(e){return e.height}function al(e){return typeof e=="function"?e:()=>+e}function Vx(e,t,n){return Math.max(t,Math.min(e,n))}function kre(){var e=pOe,t=gOe,n=mOe,r=yOe,i=al(0),o=i,a=i,s=i,l=null;function u(c,f,d){var h,p=f??+e.call(this,c),g=d??+t.call(this,c),m=+n.call(this,c),y=+r.call(this,c),v=Math.min(m,y)/2,b=Vx(+i.call(this,c),0,v),x=Vx(+o.call(this,c),0,v),w=Vx(+a.call(this,c),0,v),E=Vx(+s.call(this,c),0,v);if(l||(l=h=PA()),b<=0&&x<=0&&w<=0&&E<=0)l.rect(p,g,m,y);else{var S=p+m,A=g+y;l.moveTo(p+b,g),l.lineTo(S-x,g),l.bezierCurveTo(S-Au*x,g,S,g+Au*x,S,g+x),l.lineTo(S,A-E),l.bezierCurveTo(S,A-Au*E,S-Au*E,A,S-E,A),l.lineTo(p+w,A),l.bezierCurveTo(p+Au*w,A,p,A-Au*w,p,A-w),l.lineTo(p,g+b),l.bezierCurveTo(p,g+Au*b,p+Au*b,g,p+b,g),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=al(c),u):e},u.y=function(c){return arguments.length?(t=al(c),u):t},u.width=function(c){return arguments.length?(n=al(c),u):n},u.height=function(c){return arguments.length?(r=al(c),u):r},u.cornerRadius=function(c,f,d,h){return arguments.length?(i=al(c),o=f!=null?al(f):i,s=d!=null?al(d):i,a=h!=null?al(h):o,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function Pre(){var e,t,n,r,i=null,o,a,s,l;function u(f,d,h){const p=h/2;if(o){var g=s-d,m=f-a;if(g||m){var y=Math.hypot(g,m),v=(g/=y)*l,b=(m/=y)*l,x=Math.atan2(m,g);i.moveTo(a-v,s-b),i.lineTo(f-g*p,d-m*p),i.arc(f,d,p,x-Math.PI,x),i.lineTo(a+v,s+b),i.arc(a,s,l,x,x+Math.PI)}else i.arc(f,d,p,0,ps);i.closePath()}else o=1;a=f,s=d,l=p}function c(f){var d,h=f.length,p,g=!1,m;for(i==null&&(i=m=PA()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===g&&(g=!g)&&(o=0),g&&u(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(m)return i=null,m+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?i=null:i=f,c):i},c}function hb(e,t){return e??t}const pb=e=>e.x||0,gb=e=>e.y||0,vOe=e=>e.width||0,bOe=e=>e.height||0,xOe=e=>(e.x||0)+(e.width||0),wOe=e=>(e.y||0)+(e.height||0),SOe=e=>e.startAngle||0,EOe=e=>e.endAngle||0,_Oe=e=>e.padAngle||0,AOe=e=>e.innerRadius||0,$Oe=e=>e.outerRadius||0,OOe=e=>e.cornerRadius||0,COe=e=>hb(e.cornerRadiusTopLeft,e.cornerRadius)||0,kOe=e=>hb(e.cornerRadiusTopRight,e.cornerRadius)||0,POe=e=>hb(e.cornerRadiusBottomRight,e.cornerRadius)||0,TOe=e=>hb(e.cornerRadiusBottomLeft,e.cornerRadius)||0,MOe=e=>hb(e.size,64),NOe=e=>e.size||1,VA=e=>e.defined!==!1,ROe=e=>Cre(e.shape||"circle"),DOe=q_e().startAngle(SOe).endAngle(EOe).padAngle(_Oe).innerRadius(AOe).outerRadius($Oe).cornerRadius(OOe),IOe=Zh().x(pb).y1(gb).y0(wOe).defined(VA),FOe=Zh().y(gb).x1(pb).x0(xOe).defined(VA),jOe=$5().x(pb).y(gb).defined(VA),LOe=kre().x(pb).y(gb).width(vOe).height(bOe).cornerRadius(COe,kOe,POe,TOe),zOe=ene().type(ROe).size(MOe),BOe=Pre().x(pb).y(gb).defined(VA).size(NOe);function hj(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function UOe(e,t){return DOe.context(e)(t)}function WOe(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?FOe:IOe).curve(dj(r,n.orient,n.tension)).context(e)(t)}function qOe(e,t){const n=t[0],r=n.interpolate||"linear";return jOe.curve(dj(r,n.orient,n.tension)).context(e)(t)}function $m(e,t,n,r){return LOe.context(e)(t,n,r)}function HOe(e,t){return(t.mark.shape||t.shape).context(e)(t)}function GOe(e,t){return zOe.context(e)(t)}function VOe(e,t){return BOe.context(e)(t)}var Tre=1;function XOe(){Tre=1}function pj(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+Tre++),a=i.clipping[o]||(i.clipping[o]={id:o});return Re(r)?a.path=r(null):hj(n)?a.path=$m(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"}function Sn(e){this.clear(),e&&this.union(e)}Sn.prototype={clone(){return new Sn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:a}=this,s=Math.cos(e),l=Math.sin(e),u=t-t*s+n*l,c=n-t*l-n*s;return[s*r-l*i+u,l*r+s*i+c,s*r-l*a+u,l*r+s*a+c,s*o-l*i+u,l*o+s*i+c,s*o-l*a+u,l*o+s*a+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function XA(e){this.mark=e,this.bounds=this.bounds||new Sn}function KA(e){XA.call(this,e),this.items=this.items||[]}ie(KA,XA);class Mre{constructor(t){this._pending=0,this._loader=t||vA()}pending(){return this._pending}sanitizeURL(t){const n=this;return c7(n),n._loader.sanitize(t,{context:"href"}).then(r=>(xy(n),r)).catch(()=>(xy(n),null))}loadImage(t){const n=this,r=wAe();return c7(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const o=i.href;if(!o||!r)throw{url:o};const a=new r,s=de(i,"crossOrigin")?i.crossOrigin:"anonymous";return s!=null&&(a.crossOrigin=s),a.onload=()=>xy(n),a.onerror=()=>xy(n),a.src=o,a}).catch(i=>(xy(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function c7(e){e._pending+=1}function xy(e){e._pending-=1}function fu(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?KOe(t,r):0))}return e}function KOe(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const YOe=ps-1e-8;let YA,rS,iS,Uf,ON,oS,CN,kN;const Yu=(e,t)=>YA.add(e,t),aS=(e,t)=>Yu(rS=e,iS=t),f7=e=>Yu(e,YA.y1),d7=e=>Yu(YA.x1,e),Rf=(e,t)=>ON*e+CN*t,Df=(e,t)=>oS*e+kN*t,Zk=(e,t)=>Yu(Rf(e,t),Df(e,t)),eP=(e,t)=>aS(Rf(e,t),Df(e,t));function mb(e,t){return YA=e,t?(Uf=t*Mc,ON=kN=Math.cos(Uf),oS=Math.sin(Uf),CN=-oS):(ON=kN=1,Uf=oS=CN=0),QOe}const QOe={beginPath(){},closePath(){},moveTo:eP,lineTo:eP,rect(e,t,n,r){Uf?(Zk(e+n,t),Zk(e+n,t+r),Zk(e,t+r),eP(e,t)):(Yu(e+n,t+r),aS(e,t))},quadraticCurveTo(e,t,n,r){const i=Rf(e,t),o=Df(e,t),a=Rf(n,r),s=Df(n,r);h7(rS,i,a,f7),h7(iS,o,s,d7),aS(a,s)},bezierCurveTo(e,t,n,r,i,o){const a=Rf(e,t),s=Df(e,t),l=Rf(n,r),u=Df(n,r),c=Rf(i,o),f=Df(i,o);p7(rS,a,l,c,f7),p7(iS,s,u,f,d7),aS(c,f)},arc(e,t,n,r,i,o){if(r+=Uf,i+=Uf,rS=n*Math.cos(i)+e,iS=n*Math.sin(i)+t,Math.abs(i-r)>YOe)Yu(e-n,t-n),Yu(e+n,t+n);else{const a=u=>Yu(n*Math.cos(u)+e,n*Math.sin(u)+t);let s,l;if(a(r),a(i),i!==r)if(r=r%ps,r<0&&(r+=ps),i=i%ps,i<0&&(i+=ps),i<r&&(o=!o,s=r,r=i,i=s),o)for(i-=ps,s=r-r%Nf,l=0;l<4&&s>i;++l,s-=Nf)a(s);else for(s=r-r%Nf+Nf,l=0;l<4&&s<i;++l,s=s+Nf)a(s)}}};function h7(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function p7(e,t,n,r,i){const o=r-e+3*t-3*n,a=e+n-2*t,s=e-t;let l=0,u=0,c;Math.abs(o)>uOe?(c=a*a+s*o,c>=0&&(c=Math.sqrt(c),l=(-a+c)/o,u=(-a-c)/o)):l=.5*s/a,0<l&&l<1&&i(g7(l,e,t,n,r)),0<u&&u<1&&i(g7(u,e,t,n,r))}function g7(e,t,n,r,i){const o=1-e,a=o*o,s=e*e;return a*o*t+3*a*e*n+3*o*s*r+s*e*i}var bc=(bc=vc(1,1))?bc.getContext("2d"):null;const PN=new Sn;function gj(e){return function(t,n){if(!bc)return!0;e(bc,t),PN.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:a}=PN;for(let s=i;s<=a;++s)for(let l=r;l<=o;++l)if(bc.isPointInPath(l,s))return!0;return!1}}function mj(e,t){return t.contains(e.x||0,e.y||0)}function Nre(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(PN.set(n,r,n+i,r+o))}function Rre(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return ep(t,n,r,i,o)}function ep(e,t,n,r,i){const{x1:o,y1:a,x2:s,y2:l}=e,u=r-t,c=i-n;let f=0,d=1,h,p,g,m;for(m=0;m<4;++m){if(m===0&&(h=-u,p=-(o-t)),m===1&&(h=u,p=s-t),m===2&&(h=-c,p=-(a-n)),m===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(g=p/h,h<0){if(g>d)return!1;g>f&&(f=g)}else if(h>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function cg(e,t){e.globalCompositeOperation=t.blend||"source-over"}function ia(e,t){return e??t}function m7(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function JOe(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+ia(t.x1,.5)*r,n.y1+ia(t.y1,.5)*i,Math.max(r,i)*ia(t.r1,0),n.x1+ia(t.x2,.5)*r,n.y1+ia(t.y2,.5)*i,Math.max(r,i)*ia(t.r2,.5));else{const a=ia(t.x1,0),s=ia(t.y1,0),l=ia(t.x2,1),u=ia(t.y2,0);if(a===l||s===u||r===i)o=e.createLinearGradient(n.x1+a*r,n.y1+s*i,n.x1+l*r,n.y1+u*i);else{const c=vc(Math.ceil(r),Math.ceil(i)),f=c.getContext("2d");return f.scale(r,i),f.fillStyle=m7(f.createLinearGradient(a,s,l,u),t.stops),f.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return m7(o,t.stops)}function Dre(e,t,n){return fj(n)?JOe(e,n,t.bounds):n}function ME(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=Dre(e,t,t.fill),!0):!1}var ZOe=[];function fg(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=Dre(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||ZOe),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function eCe(e,t){return e.zindex-t.zindex||e.index-t.index}function yj(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(eCe)}function Ra(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=yj(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function NE(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=yj(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function vj(e){return function(t,n,r){Ra(n,i=>{(!r||r.intersects(i.bounds))&&Ire(e,t,i,i)})}}function tCe(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&Ire(e,t,n.items[0],n.items)}}function Ire(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(cg(t,n),n.fill&&ME(t,n,i)&&t.fill(),n.stroke&&fg(t,n,i)&&t.stroke()))}function QA(e){return e=e||zo,function(t,n,r,i,o,a){return r*=t.pixelRatio,i*=t.pixelRatio,NE(n,s=>{const l=s.bounds;if(!(l&&!l.contains(o,a)||!l)&&e(t,s,r,i,o,a))return s})}}function yb(e,t){return function(n,r,i,o){var a=Array.isArray(r)?r[0]:r,s=t??a.fill,l=a.stroke&&n.isPointInStroke,u,c;return l&&(u=a.strokeWidth,c=a.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:s&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function bj(e){return QA(yb(e))}function td(e,t){return"translate("+e+","+t+")"}function xj(e){return"rotate("+e+")"}function nCe(e,t){return"scale("+e+","+t+")"}function Fre(e){return td(e.x||0,e.y||0)}function rCe(e){return td(e.x||0,e.y||0)+(e.angle?" "+xj(e.angle):"")}function iCe(e){return td(e.x||0,e.y||0)+(e.angle?" "+xj(e.angle):"")+(e.scaleX||e.scaleY?" "+nCe(e.scaleX||1,e.scaleY||1):"")}function wj(e,t,n){function r(a,s){a("transform",rCe(s)),a("d",t(null,s))}function i(a,s){return t(mb(a,s.angle),s),fu(a,s).translate(s.x||0,s.y||0)}function o(a,s){var l=s.x||0,u=s.y||0,c=s.angle||0;a.translate(l,u),c&&a.rotate(c*=Mc),a.beginPath(),t(a,s),c&&a.rotate(-c),a.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:vj(o),pick:bj(o),isect:n||gj(o)}}var oCe=wj("arc",UOe);function aCe(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,a,s;--i>=0;)e[i].defined!==!1&&(s=Math.abs(e[i][r]-n),s<o&&(o=s,a=e[i]));return a}function sCe(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,a;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],a=i*i+o*o,a<n))return e[r];return null}function lCe(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function Sj(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(mb(l),c),fu(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const a=yb(o);function s(l,u,c,f,d,h){var p=u.items,g=u.bounds;return!p||!p.length||g&&!g.contains(d,h)?null:(c*=l.pixelRatio,f*=l.pixelRatio,a(l,p,c,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:tCe(o),pick:s,isect:mj,tip:n}}var uCe=Sj("area",WOe,aCe);function cCe(e,t){var n=t.clip;e.save(),Re(n)?(e.beginPath(),n(e),e.clip()):jre(e,t.group)}function jre(e,t){e.beginPath(),hj(t)?$m(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Lre(e){const t=ia(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function fCe(e,t){e("transform",Fre(t))}function zre(e,t){const n=Lre(t);e("d",$m(null,t,n,n))}function dCe(e,t){e("class","background"),e("aria-hidden",!0),zre(e,t)}function hCe(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?zre(e,t):e("d","")}function pCe(e,t,n){const r=t.clip?pj(n,t,t):null;e("clip-path",r)}function gCe(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),fu(e,t),e.translate(t.x||0,t.y||0)}function Rv(e,t,n,r){const i=Lre(t);e.beginPath(),$m(e,t,(n||0)+i,(r||0)+i)}const mCe=yb(Rv),yCe=yb(Rv,!1),vCe=yb(Rv,!0);function bCe(e,t,n,r){Ra(t,i=>{const o=i.x||0,a=i.y||0,s=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(Rv(e,i,o,a),cg(e,i),i.fill&&ME(e,i,l)&&e.fill(),i.stroke&&!s&&fg(e,i,l)&&e.stroke()),e.save(),e.translate(o,a),i.clip&&jre(e,i),n&&n.translate(-o,-a),Ra(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(o,a),e.restore(),s&&i.stroke&&l&&(Rv(e,i,o,a),cg(e,i),fg(e,i,l)&&e.stroke())})}function xCe(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const a=n*e.pixelRatio,s=r*e.pixelRatio;return NE(t,l=>{let u,c,f;const d=l.bounds;if(d&&!d.contains(i,o))return;c=l.x||0,f=l.y||0;const h=c+(l.width||0),p=f+(l.height||0),g=l.clip;if(g&&(i<c||i>h||o<f||o>p))return;if(e.save(),e.translate(c,f),c=i-c,f=o-f,g&&hj(l)&&!vCe(e,l,a,s))return e.restore(),null;const m=l.strokeForeground,y=t.interactive!==!1;return y&&m&&l.stroke&&yCe(e,l,a,s)?(e.restore(),l):(u=NE(l,v=>wCe(v,c,f)?this.pick(v,n,r,c,f):null),!u&&y&&(l.fill||!m&&l.stroke)&&mCe(e,l,a,s)&&(u=l),e.restore(),u||null)})}function wCe(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var SCe={type:"group",tag:"g",nested:!1,attr:fCe,bound:gCe,draw:bCe,pick:xCe,isect:Nre,content:pCe,background:dCe,foreground:hCe},Dv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Ej(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function _j(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function Aj(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function JA(e,t){return e==="center"?t/2:e==="right"?t:0}function ZA(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function ECe(e,t,n){const r=Ej(t,n),i=_j(t,r),o=Aj(t,r),a=(t.x||0)-JA(t.align,i),s=(t.y||0)-ZA(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,Dv["xmlns:xlink"],"xlink:href"),e("transform",td(a,s)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function _Ce(e,t){const n=t.image,r=_j(t,n),i=Aj(t,n),o=(t.x||0)-JA(t.align,r),a=(t.y||0)-ZA(t.baseline,i);return e.set(o,a,o+r,a+i)}function ACe(e,t,n){Ra(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=Ej(r,this);let o=_j(r,i),a=Aj(r,i);if(o===0||a===0)return;let s=(r.x||0)-JA(r.align,o),l=(r.y||0)-ZA(r.baseline,a),u,c,f,d;r.aspect!==!1&&(c=i.width/i.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=o/c,l+=(a-d)/2,a=d):(d=a*c,s+=(o-d)/2,o=d))),(i.complete||i.toDataURL)&&(cg(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,s,l,o,a))})}var $Ce={type:"image",tag:"image",nested:!1,attr:ECe,bound:_Ce,draw:ACe,pick:QA(),isect:zo,get:Ej,xOffset:JA,yOffset:ZA},OCe=Sj("line",qOe,sCe);function CCe(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",iCe(t)),e("d",t.path)}function sS(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,a=t.scaleY||1,s=(t.angle||0)*Mc,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=ug(n)).path=n),s&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(s),Nv(e,l,0,0,o,a),e.rotate(-s),e.translate(-r,-i)):Nv(e,l,r,i,o,a)}function kCe(e,t){return sS(mb(e,t.angle),t)?e.set(0,0,0,0):fu(e,t,!0)}var PCe={type:"path",tag:"path",nested:!1,attr:CCe,bound:kCe,draw:vj(sS),pick:bj(sS),isect:gj(sS)};function TCe(e,t){e("d",$m(null,t))}function MCe(e,t){var n,r;return fu(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function y7(e,t){e.beginPath(),$m(e,t)}var NCe={type:"rect",tag:"path",nested:!1,attr:TCe,bound:MCe,draw:vj(y7),pick:bj(y7),isect:Nre};function RCe(e,t){e("transform",Fre(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function DCe(e,t){var n,r;return fu(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function Bre(e,t,n){var r,i,o,a;return t.stroke&&fg(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,a=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,a),!0):!1}function ICe(e,t,n){Ra(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&Bre(e,r,i)&&(cg(e,r),e.stroke())}})}function FCe(e,t,n,r){return e.isPointInStroke?Bre(e,t,1)&&e.isPointInStroke(n,r):!1}var jCe={type:"rule",tag:"line",nested:!1,attr:RCe,bound:DCe,draw:ICe,pick:QA(FCe),isect:Rre},LCe=wj("shape",HOe),zCe=wj("symbol",GOe,mj);const v7=HZ();var Ji={height:Vs,measureWidth:$j,estimateWidth:RE,width:RE,canvas:Ure};Ure(!0);function Ure(e){Ji.width=e&&bc?$j:RE}function RE(e,t){return Wre(Rc(e,t),Vs(e))}function Wre(e,t){return~~(.8*e.length*t)}function $j(e,t){return Vs(e)<=0||!(t=Rc(e,t))?0:qre(t,e$(e))}function qre(e,t){const n=`(${t}) ${e}`;let r=v7.get(n);return r===void 0&&(bc.font=t,r=bc.measureText(e).width,v7.set(n,r)),r}function Vs(e){return e.fontSize!=null?+e.fontSize||0:11}function Nc(e){return e.lineHeight!=null?e.lineHeight:Vs(e)+2}function BCe(e){return X(e)?e.length>1?e:e[0]:e}function vb(e){return BCe(e.lineBreak&&e.text&&!X(e.text)?e.text.split(e.lineBreak):e.text)}function Oj(e){const t=vb(e);return(X(t)?t.length-1:0)*Nc(e)}function Rc(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?WCe(e,n):n}function UCe(e){if(Ji.width===$j){const t=e$(e);return n=>qre(n,t)}else if(Ji.width===RE){const t=Vs(e);return n=>Wre(n,t)}else return t=>Ji.width(e,t)}function WCe(e,t){var n=+e.limit,r=UCe(e);if(r(t)<n)return t;var i=e.ellipsis||"",o=e.dir==="rtl",a=0,s=t.length,l;if(n-=r(i),o){for(;a<s;)l=a+s>>>1,r(t.slice(l))>n?a=l+1:s=l;return i+t.slice(a)}else{for(;a<s;)l=1+(a+s>>>1),r(t.slice(0,l))<n?a=l:s=l-1;return t.slice(0,a)+i}}function bb(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function e$(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Vs(e)+"px "+bb(e,t)}function Cj(e){var t=e.baseline,n=Vs(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Nc(e):t==="line-bottom"?.29*n-.5*Nc(e):0)}const qCe={left:"start",center:"middle",right:"end"},M0=new Sn;function t$(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-Nf,t+=r*Math.cos(i),n+=r*Math.sin(i)),M0.x1=t,M0.y1=n,M0}function HCe(e,t){var n=t.dx||0,r=(t.dy||0)+Cj(t),i=t$(t),o=i.x1,a=i.y1,s=t.angle||0,l;e("text-anchor",qCe[t.align]||"start"),s?(l=td(o,a)+" "+xj(s),(n||r)&&(l+=" "+td(n,r))):l=td(o+n,a+r),e("transform",l)}function kj(e,t,n){var r=Ji.height(t),i=t.align,o=t$(t),a=o.x1,s=o.y1,l=t.dx||0,u=(t.dy||0)+Cj(t)-Math.round(.8*r),c=vb(t),f;if(X(c)?(r+=Nc(t)*(c.length-1),f=c.reduce((d,h)=>Math.max(d,Ji.width(t,h)),0)):f=Ji.width(t,c),i==="center"?l-=f/2:i==="right"&&(l-=f),e.set(l+=a,u+=s,l+f,u+r),t.angle&&!n)e.rotate(t.angle*Mc,a,s);else if(n===2)return e.rotatedPoints(t.angle*Mc,a,s);return e}function GCe(e,t,n){Ra(t,r=>{var i=r.opacity==null?1:r.opacity,o,a,s,l,u,c,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=e$(r),e.textAlign=r.align||"left",o=t$(r),a=o.x1,s=o.y1,r.angle&&(e.save(),e.translate(a,s),e.rotate(r.angle*Mc),a=s=0),a+=r.dx||0,s+=(r.dy||0)+Cj(r),c=vb(r),cg(e,r),X(c))for(u=Nc(r),l=0;l<c.length;++l)f=Rc(r,c[l]),r.fill&&ME(e,r,i)&&e.fillText(f,a,s),r.stroke&&fg(e,r,i)&&e.strokeText(f,a,s),s+=u;else f=Rc(r,c),r.fill&&ME(e,r,i)&&e.fillText(f,a,s),r.stroke&&fg(e,r,i)&&e.strokeText(f,a,s);r.angle&&e.restore()}})}function VCe(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=t$(t),s=a.x1,l=a.y1,u=kj(M0,t,1),c=-t.angle*Mc,f=Math.cos(c),d=Math.sin(c),h=f*i-d*o+(s-f*s+d*l),p=d*i+f*o+(l-d*s-f*l);return u.contains(h,p)}function XCe(e,t){const n=kj(M0,e,2);return ep(t,n[0],n[1],n[2],n[3])||ep(t,n[0],n[1],n[4],n[5])||ep(t,n[4],n[5],n[6],n[7])||ep(t,n[2],n[3],n[6],n[7])}var KCe={type:"text",tag:"text",nested:!1,attr:HCe,bound:kj,draw:GCe,pick:QA(VCe),isect:XCe},YCe=Sj("trail",VOe,lCe),lo={arc:oCe,area:uCe,group:SCe,image:$Ce,line:OCe,path:PCe,rect:NCe,rule:jCe,shape:LCe,symbol:zCe,text:KCe,trail:YCe};function TN(e,t,n){var r=lo[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Sn),e,n)}var b7={mark:null};function Hre(e,t,n){var r=lo[e.marktype],i=r.bound,o=e.items,a=o&&o.length,s,l,u,c;if(r.nested)return a?u=o[0]:(b7.mark=e,u=b7),c=TN(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new Sn,a)for(s=0,l=o.length;s<l;++s)t.union(TN(o[s],i,n));return e.bounds=t}const QCe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function Gre(e,t){return JSON.stringify(e,QCe,t)}function Vre(e){const t=typeof e=="string"?JSON.parse(e):e;return Xre(t)}function Xre(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&Xre(n[i]);return t&&Hre(e),e}class Kre{constructor(t){arguments.length?this.root=Vre(t):(this.root=x7({marktype:"group",name:"root",role:"frame"}),this.root.items=[new KA(this.root)])}toJSON(t){return Gre(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=x7(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function x7(e,t){const n={bounds:new Sn,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Qu(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Pj(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Cn(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=Qu(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function _o(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function Yre(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function n$(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function JCe(e,t,n,r){var i=e&&e.mark,o,a;if(i&&(o=lo[i.marktype]).tip){for(a=n$(t,n),a[0]-=r[0],a[1]-=r[1];e=e.mark.group;)a[0]-=e.x||0,a[1]-=e.y||0;e=o.tip(i.items,a)}return e}let Tj=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||vA(),this._tooltip=n||ZCe}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const o=new MouseEvent(t.type,t),a=Qu(null,"a");for(const s in i)a.setAttribute(s,i[s]);a.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=JCe(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,o=t.bounds,a=o.width(),s=o.height();let l=o.x1+i[0]+r.left,u=o.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:a,height:s,left:l,top:u,right:l+a,bottom:u+s}}};function ZCe(e,t,n,r){e.element().setAttribute("title",r||"")}class xb{constructor(t){this._el=null,this._bgcolor=null,this._loader=new Mre(t)}initialize(t,n,r,i,o){return this._el=t,this.resize(n,r,i,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(a=>{a&&o(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const eke="keydown",tke="keypress",nke="keyup",Qre="dragenter",lS="dragleave",Jre="dragover",MN="pointerdown",rke="pointerup",DE="pointermove",uS="pointerout",Zre="pointerover",NN="mousedown",ike="mouseup",eie="mousemove",IE="mouseout",tie="mouseover",FE="click",oke="dblclick",ake="wheel",nie="mousewheel",jE="touchstart",LE="touchmove",zE="touchend",ske=[eke,tke,nke,Qre,lS,Jre,MN,rke,DE,uS,Zre,NN,ike,eie,IE,tie,FE,oke,ake,nie,jE,LE,zE],RN=DE,N0=IE,DN=FE;class wb extends Tj{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=ske,this.pointermove=S7([DE,eie],[Zre,tie],[uS,IE]),this.dragover=S7([Jre],[Qre],[lS]),this.pointerout=E7([uS,IE]),this.dragleave=E7([lS])}initialize(t,n,r){return this._canvas=t&&Pj(t,"canvas"),[FE,NN,MN,DE,uS,lS].forEach(i=>w7(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(nie,t)}pointerdown(t){this._down=this._active,this.fire(MN,t)}mousedown(t){this._down=this._active,this.fire(NN,t)}click(t){this._down===this._active&&(this.fire(FE,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(jE,t,!0)}touchmove(t){this.fire(LE,t,!0)}touchend(t){this.fire(zE,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===DN&&i&&i.href?this.handleHref(n,i,i.href):(t===RN||t===N0)&&this.handleTooltip(n,i,t!==N0),o)for(let a=0,s=o.length;a<s;++a)o[a].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(w7(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&i.splice(o,1),this}pickEvent(t){const n=n$(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,o){const a=this.context();return lo[t.marktype].pick.call(this,a,t,n,r,i,o)}}const lke=e=>e===jE||e===LE||e===zE?[jE,LE,zE]:[e];function w7(e,t){lke(t).forEach(n=>uke(e,n))}function uke(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function n0(e,t,n){t.forEach(r=>e.fire(r,n))}function S7(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?n0(this,e,r):((!i||!i.exit)&&n0(this,n,r),this._active=o,n0(this,t,r),n0(this,e,r))}}function E7(e){return function(t){n0(this,e,t),this._active=null}}function cke(){return typeof window<"u"&&window.devicePixelRatio||1}function fke(e,t,n,r,i,o){const a=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,s=e.getContext("2d"),l=a?cke():i;e.width=t*l,e.height=n*l;for(const u in o)s[u]=o[u];return a&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=l,s.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class BE extends xb{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new Sn,this._tempb=new Sn}initialize(t,n,r,i,o,a){return this._options=a||{},this._canvas=this._options.externalContext?null:vc(1,1,this._options.type),t&&this._canvas&&(_o(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,o)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)fke(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||G("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,o=this._width,a=this._height,s=this._dirty,l=dke(i,o,a);r.save();const u=this._redraw||s.empty()?(this._redraw=!1,l.expand(1)):hke(r,l.intersect(s),i);return this.clear(-i[0],-i[1],o,a),this.draw(r,t,u,n),r.restore(),s.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const o=lo[n.marktype];n.clip&&cCe(t,n),o.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const o=this._options,a=this.context();o.type!=="pdf"&&!o.externalContext&&a.clearRect(t,n,r,i),this._bgcolor!=null&&(a.fillStyle=this._bgcolor,a.fillRect(t,n,r,i))}}const dke=(e,t,n)=>new Sn().set(0,0,t,n).translate(-e[0],-e[1]);function hke(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class rie extends Tj{constructor(t,n){super(t,n);const r=this;r._hrefHandler=tP(r,(i,o)=>{o&&o.href&&r.handleHref(i,o,o.href)}),r._tooltipHandler=tP(r,(i,o)=>{r.handleTooltip(i,o,i.type!==N0)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(DN,this._hrefHandler),i.removeEventListener(RN,this._tooltipHandler),i.removeEventListener(N0,this._tooltipHandler)),this._svg=i=t&&Pj(t,"svg"),i&&(i.addEventListener(DN,this._hrefHandler),i.addEventListener(RN,this._tooltipHandler),i.addEventListener(N0,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const a={type:t,handler:n,listener:tP(this,n)};(i[r]||(i[r]=[])).push(a),this._svg&&this._svg.addEventListener(r,a.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&(this._svg&&this._svg.removeEventListener(r,i[o].listener),i.splice(o,1)),this}}const tP=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},iie="aria-hidden",Mj="aria-label",Nj="role",Rj="aria-roledescription",oie="graphics-object",Dj="graphics-symbol",aie=(e,t,n)=>({[Nj]:e,[Rj]:t,[Mj]:n||void 0}),pke=Ma(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),_7={axis:{desc:"axis",caption:yke},legend:{desc:"legend",caption:vke},"title-text":{desc:"title",caption:e=>`Title text '${$7(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${$7(e)}'`}},A7={ariaRole:Nj,ariaRoleDescription:Rj,description:Mj};function sie(e,t){const n=t.aria===!1;if(e(iie,n||void 0),n||t.description==null)for(const r in A7)e(A7[r],void 0);else{const r=t.mark.marktype;e(Mj,t.description),e(Nj,t.ariaRole||(r==="group"?oie:Dj)),e(Rj,t.ariaRoleDescription||`${r} mark`)}}function lie(e){return e.aria===!1?{[iie]:!0}:pke[e.role]?null:_7[e.role]?mke(e,_7[e.role]):gke(e)}function gke(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return aie(n?oie:Dj,`${t} mark container`,e.description)}function mke(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return aie(t.role||Dj,t.desc,n.description||r(n))}catch{return null}}function $7(e){return ue(e.text).join(" ")}function yke(e){const t=e.datum,n=e.orient,r=t.title?uie(e):null,i=e.context,o=i.scales[t.scale].value,a=i.dataflow.locale(),s=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${lg(s)?"discrete":s} scale with ${Ere(a,o,e)}`}function vke(e){const t=e.datum,n=t.title?uie(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),a=e.context,s=a.scales[i[o[0]]].value,l=a.dataflow.locale();return xke(r)+(n?` titled '${n}'`:"")+` for ${bke(o)} with ${Ere(l,s,e)}`}function uie(e){try{return ue(Ve(e.items).items[0].text).join(" ")}catch{return null}}function bke(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Ve(e)}function xke(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const cie=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),wke=e=>cie(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function Ij(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},a=(l,u)=>(u!=null&&(t+=` ${l}="${wke(u)}"`),s),s={open(l){o(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];for(const d of c)for(const h in d)a(h,d[h]);return s},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),s},attr:a,text:l=>(n+=cie(l),s),toString:()=>e};return s}const fie=e=>die(Ij(),e)+"";function die(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):die(e,r)}return e.close()}const UE={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},WE={blend:"mix-blend-mode"},hie={fill:"none","stroke-miterlimit":10},wy=0,O7="http://www.w3.org/2000/xmlns/",On=Dv.xmlns;class Fj extends xb{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,o){return this._defs={},this._clearDefs(),t&&(this._svg=Cn(t,0,"svg",On),this._svg.setAttributeNS(O7,"xmlns",On),this._svg.setAttributeNS(O7,"xmlns:xlink",Dv["xmlns:xlink"]),this._svg.setAttribute("version",Dv.version),this._svg.setAttribute("class","marks"),_o(t,1),this._root=Cn(this._svg,wy,"g",On),Ju(this._root,hie),_o(this._svg,wy+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(Ju(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=Cn(t,wy,"rect",On),Ju(r,{width:this._width,height:this._height,fill:n}));const i=fie(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),_o(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,o,a,s,l,u;for(s=0,l=t.length;s<l;++s)if(r=t[s],i=r.mark,i.marktype!==o&&(o=i.marktype,a=lo[o]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,C7(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){a.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(a,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=a.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,C7(r,n)):this._update(a,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const o=this._svg,a=n.marktype,s=lo[a],l=n.interactive===!1?"none":null,u=s.tag==="g",c=k7(n,t,r,"g",o);if(a!=="group"&&i!=null&&!i.includes(a))return _o(c,0),n._svg;c.setAttribute("class",Yre(n));const f=lie(n);for(const g in f)Br(c,g,f[g]);u||Br(c,"pointer-events",l),Br(c,"clip-path",n.clip?pj(this,n,n.group):null);let d=null,h=0;const p=g=>{const m=this.isDirty(g),y=k7(g,c,d,s.tag,o);m&&(this._update(s,y,g),u&&_ke(this,y,g,i)),d=y,++h};return s.nested?n.items.length&&p(n.items[0]):Ra(n,p),_o(c,h),c}_update(t,n,r){Pl=n,Er=n.__values__,sie(R0,r),t.attr(R0,r,this);const i=$ke[t.type];i&&i.call(this,t,n,r),Pl&&this.style(Pl,r)}style(t,n){if(n!=null){for(const r in UE){let i=r==="font"?bb(n):n[r];if(i===Er[r])continue;const o=UE[r];i==null?t.removeAttribute(o):(fj(i)&&(i=Are(i,this._defs.gradient,pie())),t.setAttribute(o,i+"")),Er[r]=i}for(const r in WE)cS(t,WE[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const o in n.gradient)r||(n.el=r=Cn(t,wy+1,"defs",On)),i=Ske(r,n.gradient[o],i);for(const o in n.clipping)r||(n.el=r=Cn(t,wy+1,"defs",On)),i=Eke(r,n.clipping[o],i);r&&(i===0?(t.removeChild(r),n.el=null):_o(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function C7(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function Ske(e,t,n){let r,i,o;if(t.gradient==="radial"){let a=Cn(e,n++,"pattern",On);Ju(a,{id:TE+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a=Cn(a,0,"rect",On),Ju(a,{width:1,height:1,fill:`url(${pie()}#${t.id})`}),e=Cn(e,n++,"radialGradient",On),Ju(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=Cn(e,n++,"linearGradient",On),Ju(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=Cn(e,r,"stop",On),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return _o(e,r),n}function Eke(e,t,n){let r;return e=Cn(e,n,"clipPath",On),e.setAttribute("id",t.id),t.path?(r=Cn(e,0,"path",On),r.setAttribute("d",t.path)):(r=Cn(e,0,"rect",On),Ju(r,{x:0,y:0,width:t.width,height:t.height})),_o(e,1),n+1}function _ke(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;Ra(n,a=>{i=e.mark(t,a,i,r),++o}),_o(t,1+o)}function k7(e,t,n,r,i){let o=e._svg,a;if(!o&&(a=t.ownerDocument,o=Qu(a,r,On),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const s=Qu(a,"path",On);o.appendChild(s),s.__data__=e;const l=Qu(a,"g",On);o.appendChild(l),l.__data__=e;const u=Qu(a,"path",On);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==i||Ake(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function Ake(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Pl=null,Er=null;const $ke={group(e,t,n){const r=Pl=t.childNodes[2];Er=r.__values__,e.foreground(R0,n,this),Er=t.__values__,Pl=t.childNodes[1],e.content(R0,n,this);const i=Pl=t.childNodes[0];e.background(R0,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==Er.events&&(Br(r,"pointer-events",o),Br(i,"pointer-events",o),Er.events=o),n.strokeForeground&&n.stroke){const a=n.fill;Br(r,"display",null),this.style(i,n),Br(i,"stroke",null),a&&(n.fill=null),Er=r.__values__,this.style(r,n),a&&(n.fill=a),Pl=null}else Br(r,"display","none")},image(e,t,n){n.smooth===!1?(cS(t,"image-rendering","optimizeSpeed"),cS(t,"image-rendering","pixelated")):cS(t,"image-rendering",null)},text(e,t,n){const r=vb(n);let i,o,a,s;X(r)?(o=r.map(l=>Rc(n,l)),i=o.join(`
`),i!==Er.text&&(_o(t,0),a=t.ownerDocument,s=Nc(n),o.forEach((l,u)=>{const c=Qu(a,"tspan",On);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",s)),t.appendChild(c)}),Er.text=i)):(o=Rc(n,r),o!==Er.text&&(t.textContent=o,Er.text=o)),Br(t,"font-family",bb(n)),Br(t,"font-size",Vs(n)+"px"),Br(t,"font-style",n.fontStyle),Br(t,"font-variant",n.fontVariant),Br(t,"font-weight",n.fontWeight)}};function R0(e,t,n){t!==Er[e]&&(n?Oke(Pl,e,t,n):Br(Pl,e,t),Er[e]=t)}function cS(e,t,n){n!==Er[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Er[t]=n)}function Ju(e,t){for(const n in t)Br(e,n,t[n])}function Br(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function Oke(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function pie(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class gie extends xb{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=Ij();n.open("svg",Ne({},Dv,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",hie,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=lo[n.marktype],i=r.tag,o=[sie,r.attr];t.open("g",{class:Yre(n),"clip-path":n.clip?pj(this,n,n.group):null},lie(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const a=s=>{const l=this.href(s);if(l&&t.open("a",l),t.open(i,this.attr(n,s,o,i!=="g"?i:null)),i==="text"){const u=vb(s);if(X(u)){const c={x:0,dy:Nc(s)};for(let f=0;f<u.length;++f)t.open("tspan",f?c:null).text(Rc(s,u[f])).close()}else t.text(Rc(s,u))}else if(i==="g"){const u=s.strokeForeground,c=s.fill,f=s.stroke;u&&f&&(s.stroke=null),t.open("path",this.attr(n,s,r.background,"bgrect")).close(),t.open("g",this.attr(n,s,r.content)),Ra(s,d=>this.mark(t,d)),t.close(),u&&f?(c&&(s.fill=null),s.stroke=f,t.open("path",this.attr(n,s,r.foreground,"bgrect")).close(),c&&(s.fill=c)):t.open("path",this.attr(n,s,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&a(n.items[0]):Ra(n,a),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const o={},a=(s,l,u,c)=>{o[c||s]=l};return Array.isArray(r)?r.forEach(s=>s(a,n,this)):r(a,n,this),i&&Cke(o,n,t,i,this._defs),o}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const o in n){const a=n[o],s=a.stops;a.gradient==="radial"?(t.open("pattern",{id:TE+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:a.x1,fy:a.y1,fr:a.r1,cx:a.x2,cy:a.y2,r:a.r2})):t.open("linearGradient",{id:o,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2});for(let l=0;l<s.length;++l)t.open("stop",{offset:s[l].offset,"stop-color":s[l].color}).close();t.close()}for(const o in r){const a=r[o];t.open("clipPath",{id:o}),a.path?t.open("path",{d:a.path}).close():t.open("rect",{x:0,y:0,width:a.width,height:a.height}).close(),t.close()}t.close()}}}function Cke(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=bb(t),e["font-size"]=Vs(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const a in UE){let s=t[a];const l=UE[a];s==="transparent"&&(l==="fill"||l==="stroke")||s!=null&&(fj(s)&&(s=Are(s,i.gradient,"")),e[l]=s)}for(const a in WE){const s=t[a];s!=null&&(o=o||[],o.push(`${WE[a]}: ${s};`))}return o&&(e.style=o.join(" ")),e}const ca={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function kke(e){ca.svgMarkTypes=e.svgMarkTypes??["text"],ca.svgOnTop=e.svgOnTop??!0,ca.debug=e.debug??!1}class IN extends xb{constructor(t){super(t),this._svgRenderer=new Fj(t),this._canvasRenderer=new BE(t)}initialize(t,n,r,i,o){this._root_el=Cn(t,0,"div");const a=Cn(this._root_el,0,"div"),s=Cn(this._root_el,1,"div");return this._root_el.style.position="relative",ca.debug||(a.style.height="100%",s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.height="100%",s.style.width="100%"),this._svgEl=ca.svgOnTop?s:a,this._canvasEl=ca.svgOnTop?a:s,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,o),this._svgRenderer.initialize(this._svgEl,n,r,i,o),super.initialize(t,n,r,i,o)}dirty(t){return ca.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!ca.svgMarkTypes.includes(o));this._svgRenderer.render(t,ca.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return ca.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class mie extends wb{constructor(t,n){super(t,n)}initialize(t,n,r){const i=Cn(Cn(t,0,"div"),ca.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const yie="canvas",vie="hybrid",bie="png",xie="svg",wie="none",Zu={Canvas:yie,PNG:bie,SVG:xie,Hybrid:vie,None:wie},Sd={};Sd[yie]=Sd[bie]={renderer:BE,headless:BE,handler:wb};Sd[xie]={renderer:Fj,headless:gie,handler:rie};Sd[vie]={renderer:IN,headless:IN,handler:mie};Sd[wie]={};function r$(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Sd[e]=t,this):Sd[e]}function Sie(e,t,n){const r=[],i=new Sn().union(t),o=e.marktype;return o?Eie(e,i,n,r):o==="group"?_ie(e,i,n,r):G("Intersect scene must be mark node or group item.")}function Eie(e,t,n,r){if(Pke(e,t,n)){const i=e.items,o=e.marktype,a=i.length;let s=0;if(o==="group")for(;s<a;++s)_ie(i[s],t,n,r);else for(const l=lo[o].isect;s<a;++s){const u=i[s];Aie(u,t,l)&&r.push(u)}}return r}function Pke(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function _ie(e,t,n,r){n&&n(e.mark)&&Aie(e,t,lo.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const a=e.x||0,s=e.y||0;t.translate(-a,-s);for(let l=0;l<o;++l)Eie(i[l],t,n,r);t.translate(a,s)}return r}function Aie(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const nP=new Sn;function $ie(e){const t=e.clip;if(Re(t))t(mb(nP.clear()));else if(t)nP.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(nP)}const Tke=1e-9;function jj(e,t,n){return e===t?!0:n==="path"?Oie(e,t):e instanceof Date&&t instanceof Date?+e==+t:tt(e)&&tt(t)?Math.abs(e-t)<=Tke:!e||!t||!le(e)&&!le(t)?e==t:Mke(e,t)}function Oie(e,t){return jj(ug(e),ug(t))}function Mke(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!jj(e[i],t[i],i))return!1;return typeof e==typeof t}function Nke(){XOe(),nOe()}const dg="top",ya="left",va="right",Dc="bottom",Rke="top-left",Dke="top-right",Ike="bottom-left",Fke="bottom-right",Lj="start",FN="middle",Wr="end",jke="x",Lke="y",i$="group",zj="axis",Bj="title",zke="frame",Bke="scope",Uj="legend",Cie="row-header",kie="row-footer",Pie="row-title",Tie="column-header",Mie="column-footer",Nie="column-title",Uke="padding",Wke="symbol",Rie="fit",Die="fit-x",Iie="fit-y",qke="pad",Wj="none",Xx="all",jN="each",qj="flush",ec="column",tc="row";function Fie(e){U.call(this,null,e)}ie(Fie,U,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=lo[i],a=o.bound;let s=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),s=Kx(r,a),r.items.forEach(u=>{u.bounds.clear().union(s)});else if(i===i$||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),s.clear(),r.items.forEach(u=>s.union(Kx(u,a))),r.role){case zj:case Uj:case Bj:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{s.union(Kx(u,a))}),t.visit(t.MOD,u=>{l=l||s.alignsWith(u.bounds),n.dirty(u),s.union(Kx(u,a))}),l&&(s.clear(),r.items.forEach(u=>s.union(u.bounds)));return $ie(r),t.modifies("bounds")}});function Kx(e,t,n){return t(e.bounds.clear(),e,n)}const P7=":vega_identifier:";function Hj(e){U.call(this,0,e)}Hj.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};ie(Hj,U,{transform(e,t){const n=Hke(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function Hke(e){return e._signals[P7]||(e._signals[P7]=e.add(0))}function jie(e){U.call(this,null,e)}ie(jie,U,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,Gke(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===i$?KA:XA;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function Gke(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function Lie(e){U.call(this,null,e)}const T7={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!zie(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},zie=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),M7=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(zie(i,o=e[n].bounds,t))return!0},Vke=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},Xke=(e,t,n)=>{var r=e.range(),i=new Sn;return t===dg||t===Dc?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},N7=e=>(e.forEach(t=>t.opacity=1),e),R7=(e,t)=>e.reflow(t.modified()).modifies("opacity");ie(Lie,U,{transform(e,t){const n=T7[e.method]||T7.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,a;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(N7(i),t=R7(t,e)),t;if(i=i.filter(Vke),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=N7(i),t=R7(t,e),o.length>=3&&M7(o,r)){do o=n(o,r);while(o.length>=3&&M7(o,r));o.length<3&&!Ve(i).opacity&&(o.length>1&&(Ve(o).opacity=0),Ve(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(a=Xke(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{a(l)||(l.opacity=0)}));const s=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&s.union(l.bounds)}),t}});function Bie(e){U.call(this,null,e)}ie(Bie,U,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const xr=new Sn;function tp(e,t,n){return e[t]===n?0:(e[t]=n,1)}function Kke(e){var t=e.items[0].orient;return t===ya||t===va}function Yke(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function Qke(e,t,n,r){var i=t.items[0],o=i.datum,a=i.translate!=null?i.translate:.5,s=i.orient,l=Yke(o),u=i.range,c=i.offset,f=i.position,d=i.minExtent,h=i.maxExtent,p=o.title&&i.items[l[2]].items[0],g=i.titlePadding,m=i.bounds,y=p&&Oj(p),v=0,b=0,x,w;switch(xr.clear().union(m),m.clear(),(x=l[0])>-1&&m.union(i.items[x].bounds),(x=l[1])>-1&&m.union(i.items[x].bounds),s){case dg:v=f||0,b=-c,w=Math.max(d,Math.min(h,-m.y1)),m.add(0,-w).add(u,0),p&&Yx(e,p,w,g,y,0,-1,m);break;case ya:v=-c,b=f||0,w=Math.max(d,Math.min(h,-m.x1)),m.add(-w,0).add(0,u),p&&Yx(e,p,w,g,y,1,-1,m);break;case va:v=n+c,b=f||0,w=Math.max(d,Math.min(h,m.x2)),m.add(0,0).add(w,u),p&&Yx(e,p,w,g,y,1,1,m);break;case Dc:v=f||0,b=r+c,w=Math.max(d,Math.min(h,m.y2)),m.add(0,0).add(u,w),p&&Yx(e,p,w,g,0,0,1,m);break;default:v=i.x,b=i.y}return fu(m.translate(v,b),i),tp(i,"x",v+a)|tp(i,"y",b+a)&&(i.bounds=xr,e.dirty(i),i.bounds=m,e.dirty(i)),i.mark.bounds.clear().union(m)}function Yx(e,t,n,r,i,o,a,s){const l=t.bounds;if(t.auto){const u=a*(n+i+r);let c=0,f=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):f=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-f)),e.dirty(t)}s.union(l)}const D7=(e,t)=>Math.floor(Math.min(e,t)),I7=(e,t)=>Math.ceil(Math.max(e,t));function Jke(e){var t=e.items,n=t.length,r=0,i,o;const a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===i$)switch(i.role){case zj:case Uj:case Bj:break;case Cie:a.rowheaders.push(...o);break;case kie:a.rowfooters.push(...o);break;case Tie:a.colheaders.push(...o);break;case Mie:a.colfooters.push(...o);break;case Pie:a.rowtitle=o[0];break;case Nie:a.coltitle=o[0];break;default:a.marks.push(...o)}return a}function Zke(e){return new Sn().set(0,0,e.width||0,e.height||0)}function ePe(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Ut(e,t,n){const r=le(e)?e[t]:e;return r??(n!==void 0?n:0)}function F7(e){return e<0?Math.ceil(-e):0}function Uie(e,t,n){var r=!n.nodirty,i=n.bounds===qj?Zke:ePe,o=xr.set(0,0,0,0),a=Ut(n.align,ec),s=Ut(n.align,tc),l=Ut(n.padding,ec),u=Ut(n.padding,tc),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),d=t.length,h=Array(d),p=Array(c),g=0,m=Array(d),y=Array(f),v=0,b=Array(d),x=Array(d),w=Array(d),E,S,A,$,_,O,P,R,k,C,M;for(S=0;S<c;++S)p[S]=0;for(S=0;S<f;++S)y[S]=0;for(S=0;S<d;++S)O=t[S],_=w[S]=i(O),O.x=O.x||0,b[S]=0,O.y=O.y||0,x[S]=0,A=S%c,$=~~(S/c),g=Math.max(g,P=Math.ceil(_.x2)),v=Math.max(v,R=Math.ceil(_.y2)),p[A]=Math.max(p[A],P),y[$]=Math.max(y[$],R),h[S]=l+F7(_.x1),m[S]=u+F7(_.y1),r&&e.dirty(t[S]);for(S=0;S<d;++S)S%c===0&&(h[S]=0),S<c&&(m[S]=0);if(a===jN)for(A=1;A<c;++A){for(M=0,S=A;S<d;S+=c)M<h[S]&&(M=h[S]);for(S=A;S<d;S+=c)h[S]=M+p[A-1]}else if(a===Xx){for(M=0,S=0;S<d;++S)S%c&&M<h[S]&&(M=h[S]);for(S=0;S<d;++S)S%c&&(h[S]=M+g)}else for(a=!1,A=1;A<c;++A)for(S=A;S<d;S+=c)h[S]+=p[A-1];if(s===jN)for($=1;$<f;++$){for(M=0,S=$*c,E=S+c;S<E;++S)M<m[S]&&(M=m[S]);for(S=$*c;S<E;++S)m[S]=M+y[$-1]}else if(s===Xx){for(M=0,S=c;S<d;++S)M<m[S]&&(M=m[S]);for(S=c;S<d;++S)m[S]=M+v}else for(s=!1,$=1;$<f;++$)for(S=$*c,E=S+c;S<E;++S)m[S]+=y[$-1];for(k=0,S=0;S<d;++S)k=h[S]+(S%c?k:0),b[S]+=k-t[S].x;for(A=0;A<c;++A)for(C=0,S=A;S<d;S+=c)C+=m[S],x[S]+=C-t[S].y;if(a&&Ut(n.center,ec)&&f>1)for(S=0;S<d;++S)_=a===Xx?g:p[S%c],k=_-w[S].x2-t[S].x-b[S],k>0&&(b[S]+=k/2);if(s&&Ut(n.center,tc)&&c!==1)for(S=0;S<d;++S)_=s===Xx?v:y[~~(S/c)],C=_-w[S].y2-t[S].y-x[S],C>0&&(x[S]+=C/2);for(S=0;S<d;++S)o.union(w[S].translate(b[S],x[S]));switch(k=Ut(n.anchor,jke),C=Ut(n.anchor,Lke),Ut(n.anchor,ec)){case Wr:k-=o.width();break;case FN:k-=o.width()/2}switch(Ut(n.anchor,tc)){case Wr:C-=o.height();break;case FN:C-=o.height()/2}for(k=Math.round(k),C=Math.round(C),o.clear(),S=0;S<d;++S)t[S].mark.bounds.clear();for(S=0;S<d;++S)O=t[S],O.x+=b[S]+=k,O.y+=x[S]+=C,o.union(O.mark.bounds.union(O.bounds.translate(b[S],x[S]))),r&&e.dirty(O);return o}function tPe(e,t,n){var r=Jke(t),i=r.marks,o=n.bounds===qj?nPe:rPe,a=n.offset,s=n.columns||i.length,l=s<=0?1:Math.ceil(i.length/s),u=l*s,c,f,d,h,p,g,m;const y=Uie(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(g=Ut(n.headerBand,tc,null),c=Qx(e,r.rowheaders,i,s,l,-Ut(a,"rowHeader"),D7,0,o,"x1",0,s,1,g)),r.colheaders&&(g=Ut(n.headerBand,ec,null),f=Qx(e,r.colheaders,i,s,s,-Ut(a,"columnHeader"),D7,1,o,"y1",0,1,s,g)),r.rowfooters&&(g=Ut(n.footerBand,tc,null),d=Qx(e,r.rowfooters,i,s,l,Ut(a,"rowFooter"),I7,0,o,"x2",s-1,s,1,g)),r.colfooters&&(g=Ut(n.footerBand,ec,null),h=Qx(e,r.colfooters,i,s,s,Ut(a,"columnFooter"),I7,1,o,"y2",u-s,1,s,g)),r.rowtitle&&(p=Ut(n.titleAnchor,tc),m=Ut(a,"rowTitle"),m=p===Wr?d+m:c-m,g=Ut(n.titleBand,tc,.5),j7(e,r.rowtitle,m,0,y,g)),r.coltitle&&(p=Ut(n.titleAnchor,ec),m=Ut(a,"columnTitle"),m=p===Wr?h+m:f-m,g=Ut(n.titleBand,ec,.5),j7(e,r.coltitle,m,1,y,g))}function nPe(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function rPe(e,t){return e.bounds[t]}function Qx(e,t,n,r,i,o,a,s,l,u,c,f,d,h){var p=n.length,g=0,m=0,y,v,b,x,w,E,S,A,$;if(!p)return g;for(y=c;y<p;y+=f)n[y]&&(g=a(g,l(n[y],u)));if(!t.length)return g;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),g+=o,v=0,x=t.length;v<x;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,x=t.length;v<x;++v,y+=f){for(E=t[v],w=E.mark.bounds,b=y;b>=0&&(S=n[b])==null;b-=d);s?(A=h==null?S.x:Math.round(S.bounds.x1+h*S.bounds.width()),$=g):(A=g,$=h==null?S.y:Math.round(S.bounds.y1+h*S.bounds.height())),w.union(E.bounds.translate(A-(E.x||0),$-(E.y||0))),E.x=A,E.y=$,e.dirty(E),m=a(m,w[u])}return m}function j7(e,t,n,r,i,o){if(t){e.dirty(t);var a=n,s=n;r?a=Math.round(i.x1+o*i.width()):s=Math.round(i.y1+o*i.height()),t.bounds.translate(a-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=s,e.dirty(t)}}function iPe(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function oPe(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function aPe(e,t,n,r,i,o,a){const s=iPe(n,t),l=oPe(e,s("offset",0)),u=s("anchor",Lj),c=u===Wr?1:u===FN?.5:0,f={align:jN,bounds:s("bounds",qj),columns:s("direction")==="vertical"?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case ya:f.anchor={x:Math.floor(r.x1)-l,column:Wr,y:c*(a||r.height()+2*r.y1),row:u};break;case va:f.anchor={x:Math.ceil(r.x2)+l,y:c*(a||r.height()+2*r.y1),row:u};break;case dg:f.anchor={y:Math.floor(i.y1)-l,row:Wr,x:c*(o||i.width()+2*i.x1),column:u};break;case Dc:f.anchor={y:Math.ceil(i.y2)+l,x:c*(o||i.width()+2*i.x1),column:u};break;case Rke:f.anchor={x:l,y:l};break;case Dke:f.anchor={x:o-l,y:l,column:Wr};break;case Ike:f.anchor={x:l,y:a-l,row:Wr};break;case Fke:f.anchor={x:o-l,y:a-l,column:Wr,row:Wr};break}return f}function sPe(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,a=n.x,s=n.y,l,u;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),uPe(e,n,n.items[0].items[0]),o=lPe(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),r.type===Wke&&cPe(n.items[0].items[0].items[0].items),i!==Wj&&(n.x=a=0,n.y=s=0),n.width=l,n.height=u,fu(o.set(a,s,a+l,s+u),n),n.mark.bounds.clear().union(o),n}function lPe(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function uPe(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&Sy(e,n,i,o);else{var a=t.items[1].items[0],s=a.anchor,l=t.titlePadding||0,u=r-a.x,c=r-a.y;switch(a.orient){case ya:i+=Math.ceil(a.bounds.width())+l;break;case va:case Dc:break;default:o+=a.bounds.height()+l}switch((i||o)&&Sy(e,n,i,o),a.orient){case ya:c+=vh(t,n,a,s,1,1);break;case va:u+=vh(t,n,a,Wr,0,0)+l,c+=vh(t,n,a,s,1,1);break;case Dc:u+=vh(t,n,a,s,0,0),c+=vh(t,n,a,Wr,-1,0,1)+l;break;default:u+=vh(t,n,a,s,0,0)}(u||c)&&Sy(e,a,u,c),(u=Math.round(a.bounds.x1-r))<0&&(Sy(e,n,-u,0),Sy(e,a,-u,0))}}function vh(e,t,n,r,i,o,a){const s=e.datum.type!=="symbol",l=n.datum.vgrad,u=s&&(o||!l)&&!a?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,f=l&&o?c:0,d=l&&o?0:c,h=i<=0?0:Oj(n);return Math.round(r===Lj?f:r===Wr?d-h:.5*(c-h))}function Sy(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function cPe(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function fPe(e,t,n,r,i){var o=t.items[0],a=o.frame,s=o.orient,l=o.anchor,u=o.offset,c=o.padding,f=o.items[0].items[0],d=o.items[1]&&o.items[1].items[0],h=s===ya||s===va?r:n,p=0,g=0,m=0,y=0,v=0,b;if(a!==i$?s===ya?(p=i.y2,h=i.y1):s===va?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):s===ya&&(p=r,h=0),b=l===Lj?p:l===Wr?h:(p+h)/2,d&&d.text){switch(s){case dg:case Dc:v=f.bounds.height()+c;break;case ya:y=f.bounds.width()+c;break;case va:y=-f.bounds.width()-c;break}xr.clear().union(d.bounds),xr.translate(y-(d.x||0),v-(d.y||0)),tp(d,"x",y)|tp(d,"y",v)&&(e.dirty(d),d.bounds.clear().union(xr),d.mark.bounds.clear().union(xr),e.dirty(d)),xr.clear().union(d.bounds)}else xr.clear();switch(xr.union(f.bounds),s){case dg:g=b,m=i.y1-xr.height()-u;break;case ya:g=i.x1-xr.width()-u,m=b;break;case va:g=i.x2+xr.width()+u,m=b;break;case Dc:g=b,m=i.y2+u;break;default:g=o.x,m=o.y}return tp(o,"x",g)|tp(o,"y",m)&&(xr.translate(g,m),e.dirty(o),o.bounds.clear().union(xr),t.bounds.clear().union(xr),e.dirty(o)),o.bounds}function Wie(e){U.call(this,null,e)}ie(Wie,U,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&tPe(n,r,e.layout),hPe(n,r,e)}),dPe(e.mark.group)?t.reflow():t}});function dPe(e){return e&&e.mark.role!=="legend-entry"}function hPe(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),a=new Sn().set(0,0,i,o),s=a.clone(),l=a.clone(),u=[],c,f,d,h,p,g;for(p=0,g=r.length;p<g;++p)switch(f=r[p],f.role){case zj:h=Kke(f)?s:l,h.union(Qke(e,f,i,o));break;case Bj:c=f;break;case Uj:u.push(sPe(e,f));break;case zke:case Bke:case Cie:case kie:case Pie:case Tie:case Mie:case Nie:s.union(f.bounds),l.union(f.bounds);break;default:a.union(f.bounds)}if(u.length){const m={};u.forEach(y=>{d=y.orient||va,d!==Wj&&(m[d]||(m[d]=[])).push(y)});for(const y in m){const v=m[y];Uie(e,v,aPe(v,y,n.legends,s,l,i,o))}u.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===Rie||n.autosize.type===Die||n.autosize.type===Iie))switch(y.orient){case ya:case va:a.add(v.x1,0).add(v.x2,0);break;case dg:case Dc:a.add(0,v.y1).add(0,v.y2)}else a.union(v)})}a.union(s).union(l),c&&a.union(fPe(e,c,i,o,a)),t.clip&&a.set(0,0,t.width||0,t.height||0),pPe(e,t,a,n)}function pPe(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let a=e._width,s=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===Uke){const p=e.padding();a-=p.left+p.right,s-=p.top+p.bottom}o===Wj?(u=0,f=0,l=a,c=s):o===Rie?(l=Math.max(0,a-u-d),c=Math.max(0,s-f-h)):o===Die?(l=Math.max(0,a-u-d),s=c+f+h):o===Iie?(a=l+u+d,c=Math.max(0,s-f-h)):o===qke&&(a=l+u+d,s=c+f+h),e._resizeView(a,s,l,c,[u,f],i.resize)}const gPe=Object.freeze(Object.defineProperty({__proto__:null,bound:Fie,identifier:Hj,mark:jie,overlap:Lie,render:Bie,viewlayout:Wie},Symbol.toStringTag,{value:"Module"}));function qie(e){U.call(this,null,e)}ie(qie,U,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,a=e.count==null?e.values?e.values.length:10:e.count,s=uj(o,a,e.minstep),l=e.format||vre(n,o,s,e.formatSpecifier,e.formatType,!!e.values),u=e.values?yre(o,e.values,s):cj(o,s);return i&&(r.rem=i),i=u.map((c,f)=>st({index:f/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(st({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function Hie(e){U.call(this,null,e)}function mPe(){return st({})}function yPe(e){const t=ym().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}ie(Hie,U,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||mPe,o=e.key||xe,a=this.value;return X(r.encode)&&(r.encode=null),a&&(e.modified("key")||t.modified(o))&&G("DataJoin does not support modified key function or fields."),a||(t=t.addAll(),this.value=a=yPe(o)),t.visit(t.ADD,s=>{const l=o(s);let u=a.get(l);u?u.exit?(a.empty--,r.add.push(u)):r.mod.push(u):(u=i(s),a.set(l,u),r.add.push(u)),u.datum=s,u.exit=!1}),t.visit(t.MOD,s=>{const l=o(s),u=a.get(l);u&&(u.datum=s,r.mod.push(u))}),t.visit(t.REM,s=>{const l=o(s),u=a.get(l);s===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++a.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&a.empty>n.cleanThreshold)&&n.runAfter(a.clean),r}});function Gie(e){U.call(this,null,e)}ie(Gie,U,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(X(o))if(n.changed()||o.every(f=>i[f]))o=o[0],n.encode=null;else return t.StopPropagation;var a=o==="enter",s=i.update||Cu,l=i.enter||Cu,u=i.exit||Cu,c=(o&&!a?i[o]:s)||Cu;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),s(f,e)}),n.modifies(l.output),n.modifies(s.output),c!==Cu&&c!==s&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==Cu&&(t.visit(t.REM,f=>{u(f,e)}),n.modifies(u.output)),a||c!==Cu){const f=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(f,d=>{const h=l(d,e)||r;(c(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(f,d=>{(c(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function Vie(e){U.call(this,[],e)}ie(Vie,U,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||nS,a=e.scale,s=+e.limit,l=uj(a,e.count==null?5:e.count,e.minstep),u=!!e.values||o===nS,c=e.format||Sre(n,a,l,o,e.formatSpecifier,e.formatType,u),f=e.values||wre(a,l),d,h,p,g,m;return i&&(r.rem=i),o===nS?(s&&f.length>s?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,s-1),m=!0):i=f,Re(p=e.size)?(!e.values&&a(i[0])===0&&(i=i.slice(1)),g=i.reduce((y,v)=>Math.max(y,p(v,e)),0)):p=Dr(g=p||8),i=i.map((y,v)=>st({index:v,label:c(y,v,i),value:y,offset:g,size:p(y,e)})),m&&(m=f[i.length],i.push(st({index:i.length,label:`${f.length-i.length} entries`,value:m,offset:g,size:p(m,e)})))):o===W$e?(d=a.domain(),h=pre(a,d[0],Ve(d)),f.length<3&&!e.values&&d[0]!==Ve(d)&&(f=[d[0],Ve(d)]),i=f.map((y,v)=>st({index:v,label:c(y,v,f),value:y,perc:h(y)}))):(p=f.length-1,h=eOe(a),i=f.map((y,v)=>st({index:v,label:c(y,v,f),value:y,perc:v?h(y):0,perc2:v===p?1:h(f[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const vPe=e=>e.source.x,bPe=e=>e.source.y,xPe=e=>e.target.x,wPe=e=>e.target.y;function Gj(e){U.call(this,{},e)}Gj.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};ie(Gj,U,{transform(e,t){var n=e.sourceX||vPe,r=e.sourceY||bPe,i=e.targetX||xPe,o=e.targetY||wPe,a=e.as||"path",s=e.orient||"vertical",l=e.shape||"line",u=L7.get(l+"-"+s)||L7.get(l);return u||G("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[a]=u(n(c),r(c),i(c),o(c))}),t.reflow(e.modified()).modifies(a)}});const Xie=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,SPe=(e,t,n,r)=>Xie(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Kie=(e,t,n,r)=>{var i=n-e,o=r-t,a=Math.hypot(i,o)/2,s=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+a+","+a+" "+s+" 0 1 "+n+","+r},EPe=(e,t,n,r)=>Kie(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Yie=(e,t,n,r)=>{const i=n-e,o=r-t,a=.2*(i+o),s=.2*(o-i);return"M"+e+","+t+"C"+(e+a)+","+(t+s)+" "+(n+s)+","+(r-a)+" "+n+","+r},_Pe=(e,t,n,r)=>Yie(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),APe=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,$Pe=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,OPe=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*a+","+t*s+"L"+r*a+","+r*s},CPe=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},kPe=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},PPe=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*a+","+l*s+" "+r*a+","+r*s},L7=ym({line:Xie,"line-radial":SPe,arc:Kie,"arc-radial":EPe,curve:Yie,"curve-radial":_Pe,"orthogonal-horizontal":APe,"orthogonal-vertical":$Pe,"orthogonal-radial":OPe,"diagonal-horizontal":CPe,"diagonal-vertical":kPe,"diagonal-radial":PPe});function Vj(e){U.call(this,null,e)}Vj.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};ie(Vj,U,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||hm,a=e.startAngle||0,s=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(o),c=u.length,f=a,d=(s-a)/see(u),h=vi(c),p,g,m;for(e.sort&&h.sort((y,v)=>u[y]-u[v]),p=0;p<c;++p)m=u[h[p]],g=l[h[p]],g[r]=f,g[i]=f+=m*d;return this.value=u,t.reflow(e.modified()).modifies(n)}});const TPe=5;function MPe(e){const t=e.type;return!e.bins&&(t===ag||t===ub||t===cb)}function Qie(e){return aj(e)&&e!==$s}const NPe=Ma(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Jie(e){U.call(this,null,e),this.modified(!0)}ie(Jie,U,{transform(e,t){var n=t.dataflow,r=this.value,i=RPe(e);(!r||i!==r.type)&&(this.value=r=rt(i)());for(i in e)if(!NPe[i]){if(i==="padding"&&Qie(r.type))continue;Re(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return zPe(r,e,LPe(r,e,IPe(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function RPe(e){var t=e.type,n="",r;return t===$s?$s+"-"+ag:(DPe(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?$s+"-":r===3?Am+"-":""),(n+t||ag).toLowerCase())}function DPe(e){const t=e.type;return aj(t)&&t!==xd&&t!==wd&&(e.scheme||e.range&&e.range.length&&e.range.every(se))}function IPe(e,t,n){const r=FPe(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,a=t.zero||t.zero===void 0&&MPe(e),s,l;if(!i)return 0;if((a||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(s=(i=i.slice()).length-1||1,a&&(i[0]>0&&(i[0]=0),i[s]<0&&(i[s]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[s]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[s]?s+1:l<i[0]?0:s;u!==s&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return Qie(o)&&t.padding&&i[0]!==Ve(i)&&(i=jPe(o,i,t.range,t.padding,t.exponent,t.constant)),e.domain(Zie(o,i,n)),o===nj&&e.unknown(t.domainImplicit?EE:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&uj(e,t.nice)||null),i.length}function FPe(e,t,n){return t?(e.domain(Zie(e.type,t,n)),t.length):-1}function jPe(e,t,n,r,i,o){var a=Math.abs(Ve(n)-n[0]),s=a/(a-2*r),l=e===Zl?cF(t,null,s):e===cb?cE(t,null,s,.5):e===ub?cE(t,null,s,i||1):e===WA?fF(t,null,s,o||1):uF(t,null,s);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function Zie(e,t,n){if(ure(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+re(t))}return t}function LPe(e,t,n){let r=t.bins;if(r&&!X(r)){const i=e.domain(),o=i[0],a=Ve(i),s=r.step;let l=r.start==null?o:r.start,u=r.stop==null?a:r.stop;s||G("Scale bins parameter missing step property."),l<o&&(l=s*Math.ceil(o/s)),u>a&&(u=s*Math.floor(a/s)),r=vi(l,u+s/2,s)}return r?e.bins=r:e.bins&&delete e.bins,e.type===rj&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function zPe(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=BPe(r,t,n);else if(t.scheme&&(o=UPe(r,t,n),Re(o))){if(e.interpolator)return e.interpolator(o);G(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&cre(r))return e.interpolator(GA(LN(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(sj(t.interpolate,t.interpolateGamma)):Re(e.round)?e.round(i):Re(e.rangeRound)&&e.interpolate(i?sb:Xc),o&&e.range(LN(o,t.reverse))}function BPe(e,t,n){e!==rre&&e!==_N&&G("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===_N?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*tj(n,i,r)]}function UPe(e,t,n){var r=t.schemeExtent,i,o;return X(t.scheme)?o=GA(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=lj(i),o||G(`Unrecognized scheme name: ${t.scheme}`)),n=e===HA?n+1:e===rj?n-1:e===sg||e===qA?+t.schemeCount||TPe:n,cre(e)?z7(o,r,t.reverse):Re(o)?hre(z7(o,r),n):e===nj?o:o.slice(0,n)}function z7(e,t,n){return Re(e)&&(t||n)?dre(e,LN(t||[0,1],n)):e}function LN(e,t){return t?e.slice().reverse():e}function eoe(e){U.call(this,null,e)}ie(eoe,U,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Kd(e.sort)),this.modified(n),t}});const B7="zero",toe="center",noe="normalize",roe=["y0","y1"];function Xj(e){U.call(this,null,e)}Xj.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:B7,values:[B7,toe,noe]},{name:"as",type:"string",array:!0,length:2,default:roe}]};ie(Xj,U,{transform(e,t){var n=e.as||roe,r=n[0],i=n[1],o=Kd(e.sort),a=e.field||hm,s=e.offset===toe?WPe:e.offset===noe?qPe:HPe,l,u,c,f;for(l=GPe(t.source,e.groupby,o,a),u=0,c=l.length,f=l.max;u<c;++u)s(l[u],f,a,r,i);return t.reflow(e.modified()).modifies(n)}});function WPe(e,t,n,r,i){for(var o=(t-e.sum)/2,a=e.length,s=0,l;s<a;++s)l=e[s],l[r]=o,l[i]=o+=Math.abs(n(l))}function qPe(e,t,n,r,i){for(var o=1/e.sum,a=0,s=e.length,l=0,u=0,c;l<s;++l)c=e[l],c[r]=a,c[i]=a=o*(u+=Math.abs(n(c)))}function HPe(e,t,n,r,i){for(var o=0,a=0,s=e.length,l=0,u,c;l<s;++l)c=e[l],u=+n(c),u<0?(c[r]=a,c[i]=a+=u):(c[r]=o,c[i]=o+=u)}function GPe(e,t,n,r){var i=[],o=g=>g(c),a,s,l,u,c,f,d,h,p;if(t==null)i.push(e.slice());else for(a={},s=0,l=e.length;s<l;++s)c=e[s],f=t.map(o),d=a[f],d||(a[f]=d=[],i.push(d)),d.push(c);for(f=0,p=0,u=i.length;f<u;++f){for(d=i[f],s=0,h=0,l=d.length;s<l;++s)h+=Math.abs(r(d[s]));d.sum=h,h>p&&(p=h),n&&d.sort(n)}return i.max=p,i}const VPe=Object.freeze(Object.defineProperty({__proto__:null,axisticks:qie,datajoin:Hie,encode:Gie,legendentries:Vie,linkpath:Gj,pie:Vj,scale:Jie,sortitems:eoe,stack:Xj},Symbol.toStringTag,{value:"Module"}));var _e=1e-6,qE=1e-12,Be=Math.PI,ln=Be/2,HE=Be/4,ni=Be*2,cn=180/Be,Le=Be/180,Ge=Math.abs,Om=Math.atan,Wo=Math.atan2,Ae=Math.cos,Jx=Math.ceil,ioe=Math.exp,zN=Math.hypot,GE=Math.log,rP=Math.pow,we=Math.sin,ko=Math.sign||function(e){return e>0?1:e<0?-1:0},ri=Math.sqrt,Kj=Math.tan;function ooe(e){return e>1?0:e<-1?Be:Math.acos(e)}function Ai(e){return e>1?ln:e<-1?-ln:Math.asin(e)}function or(){}function VE(e,t){e&&W7.hasOwnProperty(e.type)&&W7[e.type](e,t)}var U7={Feature:function(e,t){VE(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)VE(n[r].geometry,t)}},W7={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){BN(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)BN(n[r],t,0)},Polygon:function(e,t){q7(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)q7(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)VE(n[r],t)}};function BN(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function q7(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)BN(e[n],t,1);t.polygonEnd()}function wl(e,t){e&&U7.hasOwnProperty(e.type)?U7[e.type](e,t):VE(e,t)}var XE=new ei,KE=new ei,aoe,soe,UN,WN,qN,js={point:or,lineStart:or,lineEnd:or,polygonStart:function(){XE=new ei,js.lineStart=XPe,js.lineEnd=KPe},polygonEnd:function(){var e=+XE;KE.add(e<0?ni+e:e),this.lineStart=this.lineEnd=this.point=or},sphere:function(){KE.add(ni)}};function XPe(){js.point=YPe}function KPe(){loe(aoe,soe)}function YPe(e,t){js.point=loe,aoe=e,soe=t,e*=Le,t*=Le,UN=e,WN=Ae(t=t/2+HE),qN=we(t)}function loe(e,t){e*=Le,t*=Le,t=t/2+HE;var n=e-UN,r=n>=0?1:-1,i=r*n,o=Ae(t),a=we(t),s=qN*a,l=WN*o+s*Ae(i),u=s*r*we(i);XE.add(Wo(u,l)),UN=e,WN=o,qN=a}function QPe(e){return KE=new ei,wl(e,js),KE*2}function YE(e){return[Wo(e[1],e[0]),Ai(e[2])]}function Ed(e){var t=e[0],n=e[1],r=Ae(n);return[r*Ae(t),r*we(t),we(n)]}function Zx(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function hg(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function iP(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ew(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function QE(e){var t=ri(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Vt,gi,rn,Wi,Cf,uoe,coe,xp,D0,Du,eu,bl={point:HN,lineStart:H7,lineEnd:G7,polygonStart:function(){bl.point=doe,bl.lineStart=JPe,bl.lineEnd=ZPe,D0=new ei,js.polygonStart()},polygonEnd:function(){js.polygonEnd(),bl.point=HN,bl.lineStart=H7,bl.lineEnd=G7,XE<0?(Vt=-(rn=180),gi=-(Wi=90)):D0>_e?Wi=90:D0<-_e&&(gi=-90),eu[0]=Vt,eu[1]=rn},sphere:function(){Vt=-(rn=180),gi=-(Wi=90)}};function HN(e,t){Du.push(eu=[Vt=e,rn=e]),t<gi&&(gi=t),t>Wi&&(Wi=t)}function foe(e,t){var n=Ed([e*Le,t*Le]);if(xp){var r=hg(xp,n),i=[r[1],-r[0],0],o=hg(i,r);QE(o),o=YE(o);var a=e-Cf,s=a>0?1:-1,l=o[0]*cn*s,u,c=Ge(a)>180;c^(s*Cf<l&&l<s*e)?(u=o[1]*cn,u>Wi&&(Wi=u)):(l=(l+360)%360-180,c^(s*Cf<l&&l<s*e)?(u=-o[1]*cn,u<gi&&(gi=u)):(t<gi&&(gi=t),t>Wi&&(Wi=t))),c?e<Cf?zi(Vt,e)>zi(Vt,rn)&&(rn=e):zi(e,rn)>zi(Vt,rn)&&(Vt=e):rn>=Vt?(e<Vt&&(Vt=e),e>rn&&(rn=e)):e>Cf?zi(Vt,e)>zi(Vt,rn)&&(rn=e):zi(e,rn)>zi(Vt,rn)&&(Vt=e)}else Du.push(eu=[Vt=e,rn=e]);t<gi&&(gi=t),t>Wi&&(Wi=t),xp=n,Cf=e}function H7(){bl.point=foe}function G7(){eu[0]=Vt,eu[1]=rn,bl.point=HN,xp=null}function doe(e,t){if(xp){var n=e-Cf;D0.add(Ge(n)>180?n+(n>0?360:-360):n)}else uoe=e,coe=t;js.point(e,t),foe(e,t)}function JPe(){js.lineStart()}function ZPe(){doe(uoe,coe),js.lineEnd(),Ge(D0)>_e&&(Vt=-(rn=180)),eu[0]=Vt,eu[1]=rn,xp=null}function zi(e,t){return(t-=e)<0?t+360:t}function eTe(e,t){return e[0]-t[0]}function V7(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function tTe(e){var t,n,r,i,o,a,s;if(Wi=rn=-(Vt=gi=1/0),Du=[],wl(e,bl),n=Du.length){for(Du.sort(eTe),t=1,r=Du[0],o=[r];t<n;++t)i=Du[t],V7(r,i[0])||V7(r,i[1])?(zi(r[0],i[1])>zi(r[0],r[1])&&(r[1]=i[1]),zi(i[0],r[1])>zi(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(s=zi(r[1],i[0]))>a&&(a=s,Vt=i[0],rn=r[1])}return Du=eu=null,Vt===1/0||gi===1/0?[[NaN,NaN],[NaN,NaN]]:[[Vt,gi],[rn,Wi]]}var r0,JE,ZE,e2,t2,n2,r2,i2,GN,VN,XN,hoe,poe,Hr,Gr,Vr,ba={sphere:or,point:Yj,lineStart:X7,lineEnd:K7,polygonStart:function(){ba.lineStart=iTe,ba.lineEnd=oTe},polygonEnd:function(){ba.lineStart=X7,ba.lineEnd=K7}};function Yj(e,t){e*=Le,t*=Le;var n=Ae(t);Sb(n*Ae(e),n*we(e),we(t))}function Sb(e,t,n){++r0,ZE+=(e-ZE)/r0,e2+=(t-e2)/r0,t2+=(n-t2)/r0}function X7(){ba.point=nTe}function nTe(e,t){e*=Le,t*=Le;var n=Ae(t);Hr=n*Ae(e),Gr=n*we(e),Vr=we(t),ba.point=rTe,Sb(Hr,Gr,Vr)}function rTe(e,t){e*=Le,t*=Le;var n=Ae(t),r=n*Ae(e),i=n*we(e),o=we(t),a=Wo(ri((a=Gr*o-Vr*i)*a+(a=Vr*r-Hr*o)*a+(a=Hr*i-Gr*r)*a),Hr*r+Gr*i+Vr*o);JE+=a,n2+=a*(Hr+(Hr=r)),r2+=a*(Gr+(Gr=i)),i2+=a*(Vr+(Vr=o)),Sb(Hr,Gr,Vr)}function K7(){ba.point=Yj}function iTe(){ba.point=aTe}function oTe(){goe(hoe,poe),ba.point=Yj}function aTe(e,t){hoe=e,poe=t,e*=Le,t*=Le,ba.point=goe;var n=Ae(t);Hr=n*Ae(e),Gr=n*we(e),Vr=we(t),Sb(Hr,Gr,Vr)}function goe(e,t){e*=Le,t*=Le;var n=Ae(t),r=n*Ae(e),i=n*we(e),o=we(t),a=Gr*o-Vr*i,s=Vr*r-Hr*o,l=Hr*i-Gr*r,u=zN(a,s,l),c=Ai(u),f=u&&-c/u;GN.add(f*a),VN.add(f*s),XN.add(f*l),JE+=c,n2+=c*(Hr+(Hr=r)),r2+=c*(Gr+(Gr=i)),i2+=c*(Vr+(Vr=o)),Sb(Hr,Gr,Vr)}function sTe(e){r0=JE=ZE=e2=t2=n2=r2=i2=0,GN=new ei,VN=new ei,XN=new ei,wl(e,ba);var t=+GN,n=+VN,r=+XN,i=zN(t,n,r);return i<qE&&(t=n2,n=r2,r=i2,JE<_e&&(t=ZE,n=e2,r=t2),i=zN(t,n,r),i<qE)?[NaN,NaN]:[Wo(n,t)*cn,Ai(r/i)*cn]}function KN(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function YN(e,t){return Ge(e)>Be&&(e-=Math.round(e/ni)*ni),[e,t]}YN.invert=YN;function moe(e,t,n){return(e%=ni)?t||n?KN(Q7(e),J7(t,n)):Q7(e):t||n?J7(t,n):YN}function Y7(e){return function(t,n){return t+=e,Ge(t)>Be&&(t-=Math.round(t/ni)*ni),[t,n]}}function Q7(e){var t=Y7(e);return t.invert=Y7(-e),t}function J7(e,t){var n=Ae(e),r=we(e),i=Ae(t),o=we(t);function a(s,l){var u=Ae(l),c=Ae(s)*u,f=we(s)*u,d=we(l),h=d*n+c*r;return[Wo(f*i-h*o,c*n-d*r),Ai(h*i+f*o)]}return a.invert=function(s,l){var u=Ae(l),c=Ae(s)*u,f=we(s)*u,d=we(l),h=d*i-f*o;return[Wo(f*i+d*o,c*n+h*r),Ai(h*n-c*r)]},a}function lTe(e){e=moe(e[0]*Le,e[1]*Le,e.length>2?e[2]*Le:0);function t(n){return n=e(n[0]*Le,n[1]*Le),n[0]*=cn,n[1]*=cn,n}return t.invert=function(n){return n=e.invert(n[0]*Le,n[1]*Le),n[0]*=cn,n[1]*=cn,n},t}function uTe(e,t,n,r,i,o){if(n){var a=Ae(t),s=we(t),l=r*n;i==null?(i=t+r*ni,o=t-l/2):(i=Z7(a,i),o=Z7(a,o),(r>0?i<o:i>o)&&(i+=r*ni));for(var u,c=i;r>0?c>o:c<o;c-=l)u=YE([a,-s*Ae(c),-s*we(c)]),e.point(u[0],u[1])}}function Z7(e,t){t=Ed(t),t[0]-=e,QE(t);var n=ooe(-t[1]);return((-t[2]<0?-n:n)+ni-_e)%ni}function yoe(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:or,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function fS(e,t){return Ge(e[0]-t[0])<_e&&Ge(e[1]-t[1])<_e}function tw(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function voe(e,t,n,r,i){var o=[],a=[],s,l;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],y=p[g],v;if(fS(m,y)){if(!m[2]&&!y[2]){for(i.lineStart(),s=0;s<g;++s)i.point((m=p[s])[0],m[1]);i.lineEnd();return}y[0]+=2*_e}o.push(v=new tw(m,p,null,!0)),a.push(v.o=new tw(m,null,v,!1)),o.push(v=new tw(y,p,null,!1)),a.push(v.o=new tw(y,null,v,!0))}}),!!o.length){for(a.sort(t),eU(o),eU(a),s=0,l=a.length;s<l;++s)a[s].e=n=!n;for(var u=o[0],c,f;;){for(var d=u,h=!0;d.v;)if((d=d.n)===u)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,l=c.length;s<l;++s)i.point((f=c[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function eU(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function oP(e){return Ge(e[0])<=Be?e[0]:ko(e[0])*((Ge(e[0])+Be)%ni-Be)}function cTe(e,t){var n=oP(t),r=t[1],i=we(r),o=[we(n),-Ae(n),0],a=0,s=0,l=new ei;i===1?r=ln+_e:i===-1&&(r=-ln-_e);for(var u=0,c=e.length;u<c;++u)if(d=(f=e[u]).length)for(var f,d,h=f[d-1],p=oP(h),g=h[1]/2+HE,m=we(g),y=Ae(g),v=0;v<d;++v,p=x,m=E,y=S,h=b){var b=f[v],x=oP(b),w=b[1]/2+HE,E=we(w),S=Ae(w),A=x-p,$=A>=0?1:-1,_=$*A,O=_>Be,P=m*E;if(l.add(Wo(P*$*we(_),y*S+P*Ae(_))),a+=O?A+$*ni:A,O^p>=n^x>=n){var R=hg(Ed(h),Ed(b));QE(R);var k=hg(o,R);QE(k);var C=(O^A>=0?-1:1)*Ai(k[2]);(r>C||r===C&&(R[0]||R[1]))&&(s+=O^A>=0?1:-1)}}return(a<-_e||a<_e&&l<-qE)^s&1}function boe(e,t,n,r){return function(i){var o=t(i),a=yoe(),s=t(a),l=!1,u,c,f,d={point:h,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=v,d.lineEnd=b,c=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=m,c=aee(c);var x=cTe(u,r);c.length?(l||(i.polygonStart(),l=!0),voe(c,dTe,x,n,i)):x&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(x,w){e(x,w)&&i.point(x,w)}function p(x,w){o.point(x,w)}function g(){d.point=p,o.lineStart()}function m(){d.point=h,o.lineEnd()}function y(x,w){f.push([x,w]),s.point(x,w)}function v(){s.lineStart(),f=[]}function b(){y(f[0][0],f[0][1]),s.lineEnd();var x=s.clean(),w=a.result(),E,S=w.length,A,$,_;if(f.pop(),u.push(f),f=null,!!S){if(x&1){if($=w[0],(A=$.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),E=0;E<A;++E)i.point((_=$[E])[0],_[1]);i.lineEnd()}return}S>1&&x&2&&w.push(w.pop().concat(w.shift())),c.push(w.filter(fTe))}}return d}}function fTe(e){return e.length>1}function dTe(e,t){return((e=e.x)[0]<0?e[1]-ln-_e:ln-e[1])-((t=t.x)[0]<0?t[1]-ln-_e:ln-t[1])}const tU=boe(function(){return!0},hTe,gTe,[-Be,-ln]);function hTe(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var s=o>0?Be:-Be,l=Ge(o-t);Ge(l-Be)<_e?(e.point(t,n=(n+a)/2>0?ln:-ln),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(o,n),i=0):r!==s&&l>=Be&&(Ge(t-r)<_e&&(t-=r*_e),Ge(o-s)<_e&&(o-=s*_e),n=pTe(t,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=o,n=a),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function pTe(e,t,n,r){var i,o,a=we(e-n);return Ge(a)>_e?Om((we(t)*(o=Ae(r))*we(n)-we(r)*(i=Ae(t))*we(e))/(i*o*a)):(t+r)/2}function gTe(e,t,n,r){var i;if(e==null)i=n*ln,r.point(-Be,i),r.point(0,i),r.point(Be,i),r.point(Be,0),r.point(Be,-i),r.point(0,-i),r.point(-Be,-i),r.point(-Be,0),r.point(-Be,i);else if(Ge(e[0]-t[0])>_e){var o=e[0]<t[0]?Be:-Be;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function mTe(e){var t=Ae(e),n=2*Le,r=t>0,i=Ge(t)>_e;function o(c,f,d,h){uTe(h,e,n,d,c,f)}function a(c,f){return Ae(c)*Ae(f)>t}function s(c){var f,d,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,y){var v=[m,y],b,x=a(m,y),w=r?x?0:u(m,y):x?u(m+(m<0?Be:-Be),y):0;if(!f&&(p=h=x)&&c.lineStart(),x!==h&&(b=l(f,v),(!b||fS(f,b)||fS(v,b))&&(v[2]=1)),x!==h)g=0,x?(c.lineStart(),b=l(v,f),c.point(b[0],b[1])):(b=l(f,v),c.point(b[0],b[1],2),c.lineEnd()),f=b;else if(i&&f&&r^x){var E;!(w&d)&&(E=l(v,f,!0))&&(g=0,r?(c.lineStart(),c.point(E[0][0],E[0][1]),c.point(E[1][0],E[1][1]),c.lineEnd()):(c.point(E[1][0],E[1][1]),c.lineEnd(),c.lineStart(),c.point(E[0][0],E[0][1],3)))}x&&(!f||!fS(f,v))&&c.point(v[0],v[1]),f=v,h=x,d=w},lineEnd:function(){h&&c.lineEnd(),f=null},clean:function(){return g|(p&&h)<<1}}}function l(c,f,d){var h=Ed(c),p=Ed(f),g=[1,0,0],m=hg(h,p),y=Zx(m,m),v=m[0],b=y-v*v;if(!b)return!d&&c;var x=t*y/b,w=-t*v/b,E=hg(g,m),S=ew(g,x),A=ew(m,w);iP(S,A);var $=E,_=Zx(S,$),O=Zx($,$),P=_*_-O*(Zx(S,S)-1);if(!(P<0)){var R=ri(P),k=ew($,(-_-R)/O);if(iP(k,S),k=YE(k),!d)return k;var C=c[0],M=f[0],I=c[1],N=f[1],F;M<C&&(F=C,C=M,M=F);var L=M-C,z=Ge(L-Be)<_e,B=z||L<_e;if(!z&&N<I&&(F=I,I=N,N=F),B?z?I+N>0^k[1]<(Ge(k[0]-C)<_e?I:N):I<=k[1]&&k[1]<=N:L>Be^(C<=k[0]&&k[0]<=M)){var V=ew($,(-_+R)/O);return iP(V,S),[k,YE(V)]}}}function u(c,f){var d=r?e:Be-e,h=0;return c<-d?h|=1:c>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return boe(a,s,o,r?[0,-e]:[-Be,e-Be])}function yTe(e,t,n,r,i,o){var a=e[0],s=e[1],l=t[0],u=t[1],c=0,f=1,d=l-a,h=u-s,p;if(p=n-a,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=i-a,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>c&&(c=p)}if(p=o-s,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<f&&(f=p)}return c>0&&(e[0]=a+c*d,e[1]=s+c*h),f<1&&(t[0]=a+f*d,t[1]=s+f*h),!0}}}}}var i0=1e9,nw=-i0;function xoe(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,f,d){var h=0,p=0;if(u==null||(h=a(u,f))!==(p=a(c,f))||l(u,c)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(c[0],c[1])}function a(u,c){return Ge(u[0]-e)<_e?c>0?0:3:Ge(u[0]-n)<_e?c>0?2:1:Ge(u[1]-t)<_e?c>0?1:0:c>0?3:2}function s(u,c){return l(u.x,c.x)}function l(u,c){var f=a(u,1),d=a(c,1);return f!==d?f-d:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=yoe(),d,h,p,g,m,y,v,b,x,w,E,S={point:A,lineStart:P,lineEnd:R,polygonStart:_,polygonEnd:O};function A(C,M){i(C,M)&&c.point(C,M)}function $(){for(var C=0,M=0,I=h.length;M<I;++M)for(var N=h[M],F=1,L=N.length,z=N[0],B,V,ce=z[0],fe=z[1];F<L;++F)B=ce,V=fe,z=N[F],ce=z[0],fe=z[1],V<=r?fe>r&&(ce-B)*(r-V)>(fe-V)*(e-B)&&++C:fe<=r&&(ce-B)*(r-V)<(fe-V)*(e-B)&&--C;return C}function _(){c=f,d=[],h=[],E=!0}function O(){var C=$(),M=E&&C,I=(d=aee(d)).length;(M||I)&&(u.polygonStart(),M&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),I&&voe(d,s,C,o,u),u.polygonEnd()),c=u,d=h=p=null}function P(){S.point=k,h&&h.push(p=[]),w=!0,x=!1,v=b=NaN}function R(){d&&(k(g,m),y&&x&&f.rejoin(),d.push(f.result())),S.point=A,x&&c.lineEnd()}function k(C,M){var I=i(C,M);if(h&&p.push([C,M]),w)g=C,m=M,y=I,w=!1,I&&(c.lineStart(),c.point(C,M));else if(I&&x)c.point(C,M);else{var N=[v=Math.max(nw,Math.min(i0,v)),b=Math.max(nw,Math.min(i0,b))],F=[C=Math.max(nw,Math.min(i0,C)),M=Math.max(nw,Math.min(i0,M))];yTe(N,F,e,t,n,r)?(x||(c.lineStart(),c.point(N[0],N[1])),c.point(F[0],F[1]),I||c.lineEnd(),E=!1):I&&(c.lineStart(),c.point(C,M),E=!1)}v=C,b=M,x=I}return S}}function nU(e,t,n){var r=vi(e,t-_e,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function rU(e,t,n){var r=vi(e,t-_e,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function vTe(){var e,t,n,r,i,o,a,s,l=10,u=l,c=90,f=360,d,h,p,g,m=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return vi(Jx(r/c)*c,n,c).map(p).concat(vi(Jx(s/f)*f,a,f).map(g)).concat(vi(Jx(t/l)*l,e,l).filter(function(b){return Ge(b%c)>_e}).map(d)).concat(vi(Jx(o/u)*u,i,u).filter(function(b){return Ge(b%f)>_e}).map(h))}return y.lines=function(){return v().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(g(a).slice(1),p(n).reverse().slice(1),g(s).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],s=+b[0][1],a=+b[1][1],r>n&&(b=r,r=n,n=b),s>a&&(b=s,s=a,a=b),y.precision(m)):[[r,s],[n,a]]},y.extentMinor=function(b){return arguments.length?(t=+b[0][0],e=+b[1][0],o=+b[0][1],i=+b[1][1],t>e&&(b=t,t=e,e=b),o>i&&(b=o,o=i,i=b),y.precision(m)):[[t,o],[e,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(c=+b[0],f=+b[1],y):[c,f]},y.stepMinor=function(b){return arguments.length?(l=+b[0],u=+b[1],y):[l,u]},y.precision=function(b){return arguments.length?(m=+b,d=nU(o,i,90),h=rU(t,e,m),p=nU(s,a,90),g=rU(r,n,m),y):m},y.extentMajor([[-180,-90+_e],[180,90-_e]]).extentMinor([[-180,-80-_e],[180,80+_e]])}const Iv=e=>e;var aP=new ei,QN=new ei,woe,Soe,JN,ZN,Sl={point:or,lineStart:or,lineEnd:or,polygonStart:function(){Sl.lineStart=bTe,Sl.lineEnd=wTe},polygonEnd:function(){Sl.lineStart=Sl.lineEnd=Sl.point=or,aP.add(Ge(QN)),QN=new ei},result:function(){var e=aP/2;return aP=new ei,e}};function bTe(){Sl.point=xTe}function xTe(e,t){Sl.point=Eoe,woe=JN=e,Soe=ZN=t}function Eoe(e,t){QN.add(ZN*e-JN*t),JN=e,ZN=t}function wTe(){Eoe(woe,Soe)}var pg=1/0,o2=pg,Fv=-pg,a2=Fv,s2={point:STe,lineStart:or,lineEnd:or,polygonStart:or,polygonEnd:or,result:function(){var e=[[pg,o2],[Fv,a2]];return Fv=a2=-(o2=pg=1/0),e}};function STe(e,t){e<pg&&(pg=e),e>Fv&&(Fv=e),t<o2&&(o2=t),t>a2&&(a2=t)}var eR=0,tR=0,o0=0,l2=0,u2=0,np=0,nR=0,rR=0,a0=0,_oe,Aoe,gs,ms,$o={point:_d,lineStart:iU,lineEnd:oU,polygonStart:function(){$o.lineStart=ATe,$o.lineEnd=$Te},polygonEnd:function(){$o.point=_d,$o.lineStart=iU,$o.lineEnd=oU},result:function(){var e=a0?[nR/a0,rR/a0]:np?[l2/np,u2/np]:o0?[eR/o0,tR/o0]:[NaN,NaN];return eR=tR=o0=l2=u2=np=nR=rR=a0=0,e}};function _d(e,t){eR+=e,tR+=t,++o0}function iU(){$o.point=ETe}function ETe(e,t){$o.point=_Te,_d(gs=e,ms=t)}function _Te(e,t){var n=e-gs,r=t-ms,i=ri(n*n+r*r);l2+=i*(gs+e)/2,u2+=i*(ms+t)/2,np+=i,_d(gs=e,ms=t)}function oU(){$o.point=_d}function ATe(){$o.point=OTe}function $Te(){$oe(_oe,Aoe)}function OTe(e,t){$o.point=$oe,_d(_oe=gs=e,Aoe=ms=t)}function $oe(e,t){var n=e-gs,r=t-ms,i=ri(n*n+r*r);l2+=i*(gs+e)/2,u2+=i*(ms+t)/2,np+=i,i=ms*e-gs*t,nR+=i*(gs+e),rR+=i*(ms+t),a0+=i*3,_d(gs=e,ms=t)}function Ooe(e){this._context=e}Ooe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ni);break}}},result:or};var iR=new ei,sP,Coe,koe,s0,l0,jv={point:or,lineStart:function(){jv.point=CTe},lineEnd:function(){sP&&Poe(Coe,koe),jv.point=or},polygonStart:function(){sP=!0},polygonEnd:function(){sP=null},result:function(){var e=+iR;return iR=new ei,e}};function CTe(e,t){jv.point=Poe,Coe=s0=e,koe=l0=t}function Poe(e,t){s0-=e,l0-=t,iR.add(ri(s0*s0+l0*l0)),s0=e,l0=t}let aU,c2,sU,lU;class uU{constructor(t){this._append=t==null?Toe:kTe(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==sU||this._append!==c2){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,sU=r,c2=this._append,lU=this._,this._=i}this._+=lU;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Toe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function kTe(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Toe;if(t!==aU){const n=10**t;aU=t,c2=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return c2}function Moe(e,t){let n=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),wl(s,i(o))),o.result()}return a.area=function(s){return wl(s,i(Sl)),Sl.result()},a.measure=function(s){return wl(s,i(jv)),jv.result()},a.bounds=function(s){return wl(s,i(s2)),s2.result()},a.centroid=function(s){return wl(s,i($o)),$o.result()},a.projection=function(s){return arguments.length?(i=s==null?(e=null,Iv):(e=s).stream,a):e},a.context=function(s){return arguments.length?(o=s==null?(t=null,new uU(n)):new Ooe(t=s),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return t===null&&(o=new uU(n)),a},a.projection(e).digits(n).context(t)}function o$(e){return function(t){var n=new oR;for(var r in e)n[r]=e[r];return n.stream=t,n}}function oR(){}oR.prototype={constructor:oR,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Qj(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),wl(n,e.stream(s2)),t(s2.result()),r!=null&&e.clipExtent(r),e}function a$(e,t,n){return Qj(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,l])},n)}function Jj(e,t,n){return a$(e,[[0,0],t],n)}function Zj(e,t,n){return Qj(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];e.scale(150*o).translate([a,s])},n)}function eL(e,t,n){return Qj(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,s])},n)}var cU=16,PTe=Ae(30*Le);function fU(e,t){return+t?MTe(e,t):TTe(e)}function TTe(e){return o$({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function MTe(e,t){function n(r,i,o,a,s,l,u,c,f,d,h,p,g,m){var y=u-r,v=c-i,b=y*y+v*v;if(b>4*t&&g--){var x=a+d,w=s+h,E=l+p,S=ri(x*x+w*w+E*E),A=Ai(E/=S),$=Ge(Ge(E)-1)<_e||Ge(o-f)<_e?(o+f)/2:Wo(w,x),_=e($,A),O=_[0],P=_[1],R=O-r,k=P-i,C=v*R-y*k;(C*C/b>t||Ge((y*R+v*k)/b-.5)>.3||a*d+s*h+l*p<PTe)&&(n(r,i,o,a,s,l,O,P,$,x/=S,w/=S,E,g,m),m.point(O,P),n(O,P,$,x,w,E,u,c,f,d,h,p,g,m))}}return function(r){var i,o,a,s,l,u,c,f,d,h,p,g,m={point:y,lineStart:v,lineEnd:x,polygonStart:function(){r.polygonStart(),m.lineStart=w},polygonEnd:function(){r.polygonEnd(),m.lineStart=v}};function y(A,$){A=e(A,$),r.point(A[0],A[1])}function v(){f=NaN,m.point=b,r.lineStart()}function b(A,$){var _=Ed([A,$]),O=e(A,$);n(f,d,c,h,p,g,f=O[0],d=O[1],c=A,h=_[0],p=_[1],g=_[2],cU,r),r.point(f,d)}function x(){m.point=y,r.lineEnd()}function w(){v(),m.point=E,m.lineEnd=S}function E(A,$){b(i=A,$),o=f,a=d,s=h,l=p,u=g,m.point=b}function S(){n(f,d,c,h,p,g,o,a,i,s,l,u,cU,r),m.lineEnd=x,x()}return m}}var NTe=o$({point:function(e,t){this.stream.point(e*Le,t*Le)}});function RTe(e){return o$({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function DTe(e,t,n,r,i){function o(a,s){return a*=r,s*=i,[t+e*a,n-e*s]}return o.invert=function(a,s){return[(a-t)/e*r,(n-s)/e*i]},o}function dU(e,t,n,r,i,o){if(!o)return DTe(e,t,n,r,i);var a=Ae(o),s=we(o),l=a*e,u=s*e,c=a/e,f=s/e,d=(s*n-a*t)/e,h=(s*t+a*n)/e;function p(g,m){return g*=r,m*=i,[l*g-u*m+t,n-u*g-l*m]}return p.invert=function(g,m){return[r*(c*g-f*m+d),i*(h-f*g-c*m)]},p}function Xs(e){return Noe(function(){return e})()}function Noe(e){var t,n=150,r=480,i=250,o=0,a=0,s=0,l=0,u=0,c,f=0,d=1,h=1,p=null,g=tU,m=null,y,v,b,x=Iv,w=.5,E,S,A,$,_;function O(C){return A(C[0]*Le,C[1]*Le)}function P(C){return C=A.invert(C[0],C[1]),C&&[C[0]*cn,C[1]*cn]}O.stream=function(C){return $&&_===C?$:$=NTe(RTe(c)(g(E(x(_=C)))))},O.preclip=function(C){return arguments.length?(g=C,p=void 0,k()):g},O.postclip=function(C){return arguments.length?(x=C,m=y=v=b=null,k()):x},O.clipAngle=function(C){return arguments.length?(g=+C?mTe(p=C*Le):(p=null,tU),k()):p*cn},O.clipExtent=function(C){return arguments.length?(x=C==null?(m=y=v=b=null,Iv):xoe(m=+C[0][0],y=+C[0][1],v=+C[1][0],b=+C[1][1]),k()):m==null?null:[[m,y],[v,b]]},O.scale=function(C){return arguments.length?(n=+C,R()):n},O.translate=function(C){return arguments.length?(r=+C[0],i=+C[1],R()):[r,i]},O.center=function(C){return arguments.length?(o=C[0]%360*Le,a=C[1]%360*Le,R()):[o*cn,a*cn]},O.rotate=function(C){return arguments.length?(s=C[0]%360*Le,l=C[1]%360*Le,u=C.length>2?C[2]%360*Le:0,R()):[s*cn,l*cn,u*cn]},O.angle=function(C){return arguments.length?(f=C%360*Le,R()):f*cn},O.reflectX=function(C){return arguments.length?(d=C?-1:1,R()):d<0},O.reflectY=function(C){return arguments.length?(h=C?-1:1,R()):h<0},O.precision=function(C){return arguments.length?(E=fU(S,w=C*C),k()):ri(w)},O.fitExtent=function(C,M){return a$(O,C,M)},O.fitSize=function(C,M){return Jj(O,C,M)},O.fitWidth=function(C,M){return Zj(O,C,M)},O.fitHeight=function(C,M){return eL(O,C,M)};function R(){var C=dU(n,0,0,d,h,f).apply(null,t(o,a)),M=dU(n,r-C[0],i-C[1],d,h,f);return c=moe(s,l,u),S=KN(t,M),A=KN(c,S),E=fU(S,w),k()}function k(){return $=_=null,O}return function(){return t=e.apply(this,arguments),O.invert=t.invert&&P,R()}}function tL(e){var t=0,n=Be/3,r=Noe(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*Le,n=o[1]*Le):[t*cn,n*cn]},i}function ITe(e){var t=Ae(e);function n(r,i){return[r*t,we(i)/t]}return n.invert=function(r,i){return[r/t,Ai(i*t)]},n}function FTe(e,t){var n=we(e),r=(n+we(t))/2;if(Ge(r)<_e)return ITe(e);var i=1+n*(2*r-n),o=ri(i)/r;function a(s,l){var u=ri(i-2*r*we(l))/r;return[u*we(s*=r),o-u*Ae(s)]}return a.invert=function(s,l){var u=o-l,c=Wo(s,Ge(u))*ko(u);return u*r<0&&(c-=Be*ko(s)*ko(u)),[c/r,Ai((i-(s*s+u*u)*r*r)/(2*r))]},a}function f2(){return tL(FTe).scale(155.424).center([0,33.6442])}function Roe(){return f2().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function jTe(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function LTe(){var e,t,n=Roe(),r,i=f2().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=f2().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,u={point:function(d,h){l=[d,h]}};function c(d){var h=d[0],p=d[1];return l=null,r.point(h,p),l||(o.point(h,p),l)||(s.point(h,p),l)}c.invert=function(d){var h=n.scale(),p=n.translate(),g=(d[0]-p[0])/h,m=(d[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?a:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=jTe([n.stream(t=d),i.stream(d),a.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),a.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),a.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(u),o=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+_e,g+.12*h+_e],[p-.214*h-_e,g+.234*h-_e]]).stream(u),s=a.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+_e,g+.166*h+_e],[p-.115*h-_e,g+.234*h-_e]]).stream(u),f()},c.fitExtent=function(d,h){return a$(c,d,h)},c.fitSize=function(d,h){return Jj(c,d,h)},c.fitWidth=function(d,h){return Zj(c,d,h)},c.fitHeight=function(d,h){return eL(c,d,h)};function f(){return e=t=null,c}return c.scale(1070)}function Doe(e){return function(t,n){var r=Ae(t),i=Ae(n),o=e(r*i);return o===1/0?[2,0]:[o*i*we(t),o*we(n)]}}function Eb(e){return function(t,n){var r=ri(t*t+n*n),i=e(r),o=we(i),a=Ae(i);return[Wo(t*o,r*a),Ai(r&&n*o/r)]}}var Ioe=Doe(function(e){return ri(2/(1+e))});Ioe.invert=Eb(function(e){return 2*Ai(e/2)});function zTe(){return Xs(Ioe).scale(124.75).clipAngle(180-.001)}var Foe=Doe(function(e){return(e=ooe(e))&&e/we(e)});Foe.invert=Eb(function(e){return e});function BTe(){return Xs(Foe).scale(79.4188).clipAngle(180-.001)}function s$(e,t){return[e,GE(Kj((ln+t)/2))]}s$.invert=function(e,t){return[e,2*Om(ioe(t))-ln]};function UTe(){return joe(s$).scale(961/ni)}function joe(e){var t=Xs(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,a=null,s,l,u;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?a=s=l=u=null:(a=+f[0][0],s=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):a==null?null:[[a,s],[l,u]]};function c(){var f=Be*r(),d=t(lTe(t.rotate()).invert([0,0]));return o(a==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===s$?[[Math.max(d[0]-f,a),s],[Math.min(d[0]+f,l),u]]:[[a,Math.max(d[1]-f,s)],[l,Math.min(d[1]+f,u)]])}return c()}function rw(e){return Kj((ln+e)/2)}function WTe(e,t){var n=Ae(e),r=e===t?we(e):GE(n/Ae(t))/GE(rw(t)/rw(e)),i=n*rP(rw(e),r)/r;if(!r)return s$;function o(a,s){i>0?s<-ln+_e&&(s=-ln+_e):s>ln-_e&&(s=ln-_e);var l=i/rP(rw(s),r);return[l*we(r*a),i-l*Ae(r*a)]}return o.invert=function(a,s){var l=i-s,u=ko(r)*ri(a*a+l*l),c=Wo(a,Ge(l))*ko(l);return l*r<0&&(c-=Be*ko(a)*ko(l)),[c/r,2*Om(rP(i/u,1/r))-ln]},o}function qTe(){return tL(WTe).scale(109.5).parallels([30,30])}function d2(e,t){return[e,t]}d2.invert=d2;function HTe(){return Xs(d2).scale(152.63)}function GTe(e,t){var n=Ae(e),r=e===t?we(e):(n-Ae(t))/(t-e),i=n/r+e;if(Ge(r)<_e)return d2;function o(a,s){var l=i-s,u=r*a;return[l*we(u),i-l*Ae(u)]}return o.invert=function(a,s){var l=i-s,u=Wo(a,Ge(l))*ko(l);return l*r<0&&(u-=Be*ko(a)*ko(l)),[u/r,i-ko(r)*ri(a*a+l*l)]},o}function VTe(){return tL(GTe).scale(131.154).center([0,13.9389])}var I0=1.340264,F0=-.081106,j0=893e-6,L0=.003796,h2=ri(3)/2,XTe=12;function Loe(e,t){var n=Ai(h2*we(t)),r=n*n,i=r*r*r;return[e*Ae(n)/(h2*(I0+3*F0*r+i*(7*j0+9*L0*r))),n*(I0+F0*r+i*(j0+L0*r))]}Loe.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,a,s,l;o<XTe&&(s=n*(I0+F0*r+i*(j0+L0*r))-t,l=I0+3*F0*r+i*(7*j0+9*L0*r),n-=a=s/l,r=n*n,i=r*r*r,!(Ge(a)<qE));++o);return[h2*e*(I0+3*F0*r+i*(7*j0+9*L0*r))/Ae(n),Ai(we(n)/h2)]};function KTe(){return Xs(Loe).scale(177.158)}function zoe(e,t){var n=Ae(t),r=Ae(e)*n;return[n*we(e)/r,we(t)/r]}zoe.invert=Eb(Om);function YTe(){return Xs(zoe).scale(144.049).clipAngle(60)}function QTe(){var e=1,t=0,n=0,r=1,i=1,o=0,a,s,l=null,u,c,f,d=1,h=1,p=o$({point:function(x,w){var E=b([x,w]);this.stream.point(E[0],E[1])}}),g=Iv,m,y;function v(){return d=e*r,h=e*i,m=y=null,b}function b(x){var w=x[0]*d,E=x[1]*h;if(o){var S=E*a-w*s;w=w*a+E*s,E=S}return[w+t,E+n]}return b.invert=function(x){var w=x[0]-t,E=x[1]-n;if(o){var S=E*a+w*s;w=w*a-E*s,E=S}return[w/d,E/h]},b.stream=function(x){return m&&y===x?m:m=p(g(y=x))},b.postclip=function(x){return arguments.length?(g=x,l=u=c=f=null,v()):g},b.clipExtent=function(x){return arguments.length?(g=x==null?(l=u=c=f=null,Iv):xoe(l=+x[0][0],u=+x[0][1],c=+x[1][0],f=+x[1][1]),v()):l==null?null:[[l,u],[c,f]]},b.scale=function(x){return arguments.length?(e=+x,v()):e},b.translate=function(x){return arguments.length?(t=+x[0],n=+x[1],v()):[t,n]},b.angle=function(x){return arguments.length?(o=x%360*Le,s=we(o),a=Ae(o),v()):o*cn},b.reflectX=function(x){return arguments.length?(r=x?-1:1,v()):r<0},b.reflectY=function(x){return arguments.length?(i=x?-1:1,v()):i<0},b.fitExtent=function(x,w){return a$(b,x,w)},b.fitSize=function(x,w){return Jj(b,x,w)},b.fitWidth=function(x,w){return Zj(b,x,w)},b.fitHeight=function(x,w){return eL(b,x,w)},b}function Boe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Boe.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,a=o*o;n-=i=(n*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-t)/(1.007226+o*(.015085*3+a*(-.044475*7+.028874*9*o-.005916*11*a)))}while(Ge(i)>_e&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function JTe(){return Xs(Boe).scale(175.295)}function Uoe(e,t){return[Ae(t)*we(e),we(t)]}Uoe.invert=Eb(Ai);function ZTe(){return Xs(Uoe).scale(249.5).clipAngle(90+_e)}function Woe(e,t){var n=Ae(t),r=1+Ae(e)*n;return[n*we(e)/r,we(t)/r]}Woe.invert=Eb(function(e){return 2*Om(e)});function eMe(){return Xs(Woe).scale(250).clipAngle(142)}function qoe(e,t){return[GE(Kj((ln+t)/2)),-e]}qoe.invert=function(e,t){return[-t,2*Om(ioe(e))-ln]};function tMe(){var e=joe(qoe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var nMe=Math.abs,aR=Math.cos,p2=Math.sin,rMe=1e-6,Hoe=Math.PI,sR=Hoe/2,hU=iMe(2);function pU(e){return e>1?sR:e<-1?-sR:Math.asin(e)}function iMe(e){return e>0?Math.sqrt(e):0}function oMe(e,t){var n=e*p2(t),r=30,i;do t-=i=(t+p2(t)-n)/(1+aR(t));while(nMe(i)>rMe&&--r>0);return t/2}function aMe(e,t,n){function r(i,o){return[e*i*aR(o=oMe(n,o)),t*p2(o)]}return r.invert=function(i,o){return o=pU(o/t),[i/(e*aR(o)),pU((2*o+p2(2*o))/n)]},r}var sMe=aMe(hU/sR,hU,Hoe);function lMe(){return Xs(sMe).scale(169.529)}const uMe=Moe(),lR=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function cMe(e,t){return function n(){const r=t();return r.type=e,r.path=Moe().projection(r),r.copy=r.copy||function(){const i=n();return lR.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},sre(r)}}function nL(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(g2[e]=cMe(e,t),this):g2[e]||null}function Goe(e){return e&&e.path||uMe}const g2={albers:Roe,albersusa:LTe,azimuthalequalarea:zTe,azimuthalequidistant:BTe,conicconformal:qTe,conicequalarea:f2,conicequidistant:VTe,equalEarth:KTe,equirectangular:HTe,gnomonic:YTe,identity:QTe,mercator:UTe,mollweide:lMe,naturalEarth1:JTe,orthographic:ZTe,stereographic:eMe,transversemercator:tMe};for(const e in g2)nL(e,g2[e]);function fMe(){}const sl=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Voe(){var e=1,t=1,n=s;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],f=[];return o(l,u,d=>{n(d,l,u),dMe(d)>0?c.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,p=c.length,g;h<p;++h)if(hMe((g=c[h])[0],d)!==-1){g.push(d);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function o(l,u,c){var f=[],d=[],h,p,g,m,y,v;for(h=p=-1,m=l[0]>=u,sl[m<<1].forEach(b);++h<e-1;)g=m,m=l[h+1]>=u,sl[g|m<<1].forEach(b);for(sl[m<<0].forEach(b);++p<t-1;){for(h=-1,m=l[p*e+e]>=u,y=l[p*e]>=u,sl[m<<1|y<<2].forEach(b);++h<e-1;)g=m,m=l[p*e+e+h+1]>=u,v=y,y=l[p*e+h+1]>=u,sl[g|m<<1|y<<2|v<<3].forEach(b);sl[m|y<<3].forEach(b)}for(h=-1,y=l[p*e]>=u,sl[y<<2].forEach(b);++h<e-1;)v=y,y=l[p*e+h+1]>=u,sl[y<<2|v<<3].forEach(b);sl[y<<3].forEach(b);function b(x){var w=[x[0][0]+h,x[0][1]+p],E=[x[1][0]+h,x[1][1]+p],S=a(w),A=a(E),$,_;($=d[S])?(_=f[A])?(delete d[$.end],delete f[_.start],$===_?($.ring.push(E),c($.ring)):f[$.start]=d[_.end]={start:$.start,end:_.end,ring:$.ring.concat(_.ring)}):(delete d[$.end],$.ring.push(E),d[$.end=A]=$):($=f[A])?(_=d[S])?(delete f[$.start],delete d[_.end],$===_?($.ring.push(E),c($.ring)):f[_.start]=d[$.end]={start:_.start,end:$.end,ring:_.ring.concat($.ring)}):(delete f[$.start],$.ring.unshift(w),f[$.start=S]=$):f[S]=d[A]={start:S,end:A,ring:[w,E]}}}function a(l){return l[0]*2+l[1]*(e+1)*4}function s(l,u,c){l.forEach(f=>{var d=f[0],h=f[1],p=d|0,g=h|0,m,y=u[g*e+p];d>0&&d<e&&p===d&&(m=u[g*e+p-1],f[0]=d+(c-m)/(y-m)-.5),h>0&&h<t&&g===h&&(m=u[(g-1)*e+p],f[1]=h+(c-m)/(y-m)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||G("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?s:fMe,r):n===s},r}function dMe(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function hMe(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=pMe(e,t[n]))return i;return 0}function pMe(e,t){for(var n=t[0],r=t[1],i=-1,o=0,a=e.length,s=a-1;o<a;s=o++){var l=e[o],u=l[0],c=l[1],f=e[s],d=f[0],h=f[1];if(gMe(l,f,t))return 0;c>r!=h>r&&n<(d-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function gMe(e,t,n){var r;return mMe(e,t,n)&&yMe(e[r=+(e[0]===t[0])],n[r],t[r])}function mMe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function yMe(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function Xoe(e,t,n){return function(r){var i=Rs(r),o=n?Math.min(i[0],0):i[0],a=i[1],s=a-o,l=t?Oc(o,a,e):s/(e+1);return vi(o+l,a,l)}}function rL(e){U.call(this,null,e)}rL.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};ie(rL,U,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||Rr,o=Voe().smooth(e.smooth!==!1),a=e.thresholds||vMe(r,i,e),s=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),f=o.size([c.width,c.height])(c.values,X(a)?a:a(c.values));bMe(f,c,u,e),f.forEach(d=>{l.push(wA(u,st(s!=null?{[s]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function vMe(e,t,n){const r=Xoe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Jf(t(i).values)))}function bMe(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(Re(i)&&(i=i(n,r)),Re(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const a=(tt(i)?i:i[0])||1,s=(tt(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(Koe(t,a,s,l,u))}function Koe(e,t,n,r,i){const o=e.x1||0,a=e.y1||0,s=t*n<0;function l(f){f.forEach(u)}function u(f){s&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-o)*t+r,f[1]=(f[1]-a)*n+i}return function(f){return f.coordinates.forEach(l),f}}function gU(e,t,n){const r=e>=0?e:IF(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function lP(e){return Re(e)?e:Dr(+e)}function Yoe(){var e=l=>l[0],t=l=>l[1],n=hm,r=[-1,-1],i=960,o=500,a=2;function s(l,u){const c=gU(r[0],l,e)>>a,f=gU(r[1],l,t)>>a,d=c?c+2:0,h=f?f+2:0,p=2*d+(i>>a),g=2*h+(o>>a),m=new Float32Array(p*g),y=new Float32Array(p*g);let v=m;l.forEach(x=>{const w=d+(+e(x)>>a),E=h+(+t(x)>>a);w>=0&&w<p&&E>=0&&E<g&&(m[w+E*p]+=+n(x))}),c>0&&f>0?(bh(p,g,m,y,c),xh(p,g,y,m,f),bh(p,g,m,y,c),xh(p,g,y,m,f),bh(p,g,m,y,c),xh(p,g,y,m,f)):c>0?(bh(p,g,m,y,c),bh(p,g,y,m,c),bh(p,g,m,y,c),v=y):f>0&&(xh(p,g,m,y,f),xh(p,g,y,m,f),xh(p,g,m,y,f),v=y);const b=u?Math.pow(2,-2*a):1/see(v);for(let x=0,w=p*g;x<w;++x)v[x]*=b;return{values:v,scale:1<<a,width:p,height:g,x1:d,y1:h,x2:d+(i>>a),y2:h+(o>>a)}}return s.x=function(l){return arguments.length?(e=lP(l),s):e},s.y=function(l){return arguments.length?(t=lP(l),s):t},s.weight=function(l){return arguments.length?(n=lP(l),s):n},s.size=function(l){if(!arguments.length)return[i,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||G("invalid size"),i=u,o=c,s},s.cellSize=function(l){return arguments.length?((l=+l)>=1||G("invalid cell size"),a=Math.floor(Math.log(l)/Math.LN2),s):1<<a},s.bandwidth=function(l){return arguments.length?(l=ue(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&G("invalid bandwidth"),r=l,s):r},s}function bh(e,t,n,r,i){const o=(i<<1)+1;for(let a=0;a<t;++a)for(let s=0,l=0;s<e+i;++s)s<e&&(l+=n[s+a*e]),s>=i&&(s>=o&&(l-=n[s-o+a*e]),r[s-i+a*e]=l/Math.min(s+1,e-1+o-s,o))}function xh(e,t,n,r,i){const o=(i<<1)+1;for(let a=0;a<e;++a)for(let s=0,l=0;s<t+i;++s)s<t&&(l+=n[a+s*e]),s>=i&&(s>=o&&(l-=n[a+(s-o)*e]),r[a+(s-i)*e]=l/Math.min(s+1,t-1+o-s,o))}function iL(e){U.call(this,null,e)}iL.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const xMe=["x","y","weight","size","cellSize","bandwidth"];function Qoe(e,t){return xMe.forEach(n=>t[n]!=null?e[n](t[n]):0),e}ie(iL,U,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=wMe(r,e.groupby),o=(e.groupby||[]).map(un),a=Qoe(Yoe(),e),s=e.as||"grid",l=[];function u(c,f){for(let d=0;d<o.length;++d)c[o[d]]=f[d];return c}return l=i.map(c=>st(u({[s]:a(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function wMe(e,t){var n=[],r=c=>c(s),i,o,a,s,l,u;if(t==null)n.push(e);else for(i={},o=0,a=e.length;o<a;++o)s=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(s);return n}function oL(e){U.call(this,null,e)}oL.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};ie(oL,U,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=Voe().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||Xoe(e.count||10,e.nice,!!i),a=e.size,s,l;return i||(i=t.materialize(t.SOURCE).source,s=Qoe(Yoe(),e)(i,!0),l=Koe(s,s.scale||1,s.scale||1,0,0),a=[s.width,s.height],i=s.values),o=X(o)?o:o(i),i=r.size(a)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(st),n}});const uR="Feature",aL="FeatureCollection",SMe="MultiPoint";function sL(e){U.call(this,null,e)}sL.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ie(sL,U,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],a=i&&i[1],s=e.geojson||!i&&Rr,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(kr(s))||o&&t.modified(kr(o))||a&&t.modified(kr(a)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),s&&t.visit(l,c=>n.push(s(c))),o&&a&&(t.visit(l,c=>{var f=o(c),d=a(c);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:uR,geometry:{type:SMe,coordinates:r}})),this.value={type:aL,features:n}}});function lL(e){U.call(this,null,e)}lL.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};ie(lL,U,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||Rr,o=e.as||"path",a=n.SOURCE;!r||e.modified()?(this.value=r=Goe(e.projection),n.materialize().reflow()):a=i===Rr||t.modified(i.fields)?n.ADD_MOD:n.ADD;const s=EMe(r,e.pointRadius);return n.visit(a,l=>l[o]=r(i(l))),r.pointRadius(s),n.modifies(o)}});function EMe(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function uL(e){U.call(this,null,e)}uL.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};ie(uL,U,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],a=o[0],s=o[1],l;function u(c){const f=n([r(c),i(c)]);f?(c[a]=f[0],c[s]=f[1]):(c[a]=void 0,c[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}});function cL(e){U.call(this,null,e)}cL.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};ie(cL,U,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=_Me(Goe(e.projection),e.field||Lo("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,a=>a[i]=r),n.modifies(i)}});function _Me(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),a=e.pointRadius(n)(t(i));return e.pointRadius(o),a};return r.context=i=>(e.context(i),r),r}function fL(e){U.call(this,[],e),this.generator=vTe()}fL.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};ie(fL,U,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)Re(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(nte(n[0],i)):t.add.push(st(i)),n[0]=i,t}});function dL(e){U.call(this,null,e)}dL.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};ie(dL,U,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||Rr,o=$Me(e.opacity,e),a=AMe(e.color,e),s=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Jf(n.map(u=>Jf(i(u).values))):0};return n.forEach(u=>{const c=i(u),f=Ne({},u,l);r||(f.$max=Jf(c.values||[])),u[s]=OMe(c,f,a.dep?a:Dr(a(f)),o.dep?o:Dr(o(f)))}),t.reflow(!0).modifies(s)}});function AMe(e,t){let n;return Re(e)?(n=r=>Tc(e(r,t)),n.dep=Joe(e)):n=Dr(Tc(e||"#888")),n}function $Me(e,t){let n;return Re(e)?(n=r=>e(r,t),n.dep=Joe(e)):e?n=Dr(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function Joe(e){if(!Re(e))return!1;const t=Ma(kr(e));return t.$x||t.$y||t.$value||t.$max}function OMe(e,t,n,r){const i=e.width,o=e.height,a=e.x1||0,s=e.y1||0,l=e.x2||i,u=e.y2||o,c=e.values,f=c?m=>c[m]:Bu,d=vc(l-a,u-s),h=d.getContext("2d"),p=h.getImageData(0,0,l-a,u-s),g=p.data;for(let m=s,y=0;m<u;++m){t.$y=m-s;for(let v=a,b=m*i;v<l;++v,y+=4){t.$x=v-a,t.$value=f(v+b);const x=n(t);g[y+0]=x.r,g[y+1]=x.g,g[y+2]=x.b,g[y+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}function Zoe(e){U.call(this,null,e),this.modified(!0)}ie(Zoe,U,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=kMe(e.type),lR.forEach(r=>{e[r]!=null&&mU(n,r,e[r])})):lR.forEach(r=>{e.modified(r)&&mU(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&CMe(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function CMe(e,t){const n=PMe(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function kMe(e){const t=nL((e||"mercator").toLowerCase());return t||G("Unrecognized projection type: "+e),t()}function mU(e,t,n){Re(e[t])&&e[t](n)}function PMe(e){return e=ue(e),e.length===1?e[0]:{type:aL,features:e.reduce((t,n)=>t.concat(TMe(n)),[])}}function TMe(e){return e.type===aL?e.features:ue(e).filter(t=>t!=null).map(t=>t.type===uR?t:{type:uR,geometry:t})}const MMe=Object.freeze(Object.defineProperty({__proto__:null,contour:oL,geojson:sL,geopath:lL,geopoint:uL,geoshape:cL,graticule:fL,heatmap:dL,isocontour:rL,kde2d:iL,projection:Zoe},Symbol.toStringTag,{value:"Module"}));function NMe(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,a=n.length,s,l=0,u=0;for(o=0;o<a;++o)s=n[o],l+=s.x,u+=s.y;for(l=(l/a-e)*r,u=(u/a-t)*r,o=0;o<a;++o)s=n[o],s.x-=l,s.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function RMe(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return eae(this.cover(t,n),t,n,e)}function eae(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,a={data:r},s=e._x0,l=e._y0,u=e._x1,c=e._y1,f,d,h,p,g,m,y,v;if(!o)return e._root=a,e;for(;o.length;)if((g=t>=(f=(s+u)/2))?s=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d,i=o,!(o=o[y=m<<1|g]))return i[y]=a,e;if(h=+e._x.call(null,o.data),p=+e._y.call(null,o.data),t===h&&n===p)return a.next=o,i?i[y]=a:e._root=a,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(g=t>=(f=(s+u)/2))?s=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d;while((y=m<<1|g)===(v=(p>=d)<<1|h>=f));return i[v]=o,i[y]=a,e}function DMe(e){var t,n,r=e.length,i,o,a=new Array(r),s=new Array(r),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=i,s[n]=o,i<l&&(l=i),i>c&&(c=i),o<u&&(u=o),o>f&&(f=o));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<r;++n)eae(this,a[n],s[n],e[n]);return this}function IMe(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a=i-n||1,s=this._root,l,u;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=s,s=l,a*=2,u){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function FMe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function jMe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Kr(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function LMe(e,t,n){var r,i=this._x0,o=this._y0,a,s,l,u,c=this._x1,f=this._y1,d=[],h=this._root,p,g;for(h&&d.push(new Kr(h,i,o,c,f)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(a=p.x0)>c||(s=p.y0)>f||(l=p.x1)<i||(u=p.y1)<o))if(h.length){var m=(a+l)/2,y=(s+u)/2;d.push(new Kr(h[3],m,y,l,u),new Kr(h[2],a,y,m,u),new Kr(h[1],m,s,l,y),new Kr(h[0],a,s,m,y)),(g=(t>=y)<<1|e>=m)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=p)}else{var v=e-+this._x.call(null,h.data),b=t-+this._y.call(null,h.data),x=v*v+b*b;if(x<n){var w=Math.sqrt(n=x);i=e-w,o=t-w,c=e+w,f=t+w,r=h.data}}return r}function zMe(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,a=this._x0,s=this._y0,l=this._x1,u=this._y1,c,f,d,h,p,g,m,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(a+l)/2))?a=d:l=d,(g=f>=(h=(s+u)/2))?s=h:u=h,t=n,!(n=n[m=g<<1|p]))return this;if(!n.length)break;(t[m+1&3]||t[m+2&3]||t[m+3&3])&&(r=t,y=m)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[m]=o:delete t[m],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function BMe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function UMe(){return this._root}function WMe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function qMe(e){var t=[],n,r=this._root,i,o,a,s,l;for(r&&t.push(new Kr(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,a=n.y0,s=n.x1,l=n.y1)&&r.length){var u=(o+s)/2,c=(a+l)/2;(i=r[3])&&t.push(new Kr(i,u,c,s,l)),(i=r[2])&&t.push(new Kr(i,o,c,u,l)),(i=r[1])&&t.push(new Kr(i,u,a,s,c)),(i=r[0])&&t.push(new Kr(i,o,a,u,c))}return this}function HMe(e){var t=[],n=[],r;for(this._root&&t.push(new Kr(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,l=r.x1,u=r.y1,c=(a+l)/2,f=(s+u)/2;(o=i[0])&&t.push(new Kr(o,a,s,c,f)),(o=i[1])&&t.push(new Kr(o,c,s,l,f)),(o=i[2])&&t.push(new Kr(o,a,f,c,u)),(o=i[3])&&t.push(new Kr(o,c,f,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function GMe(e){return e[0]}function VMe(e){return arguments.length?(this._x=e,this):this._x}function XMe(e){return e[1]}function KMe(e){return arguments.length?(this._y=e,this):this._y}function hL(e,t,n){var r=new pL(t??GMe,n??XMe,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function pL(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function yU(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var si=hL.prototype=pL.prototype;si.copy=function(){var e=new pL(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=yU(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=yU(r));return e};si.add=RMe;si.addAll=DMe;si.cover=IMe;si.data=FMe;si.extent=jMe;si.find=LMe;si.remove=zMe;si.removeAll=BMe;si.root=UMe;si.size=WMe;si.visit=qMe;si.visitAfter=HMe;si.x=VMe;si.y=KMe;function Qr(e){return function(){return e}}function nc(e){return(e()-.5)*1e-6}function YMe(e){return e.x+e.vx}function QMe(e){return e.y+e.vy}function JMe(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=Qr(e==null?1:+e));function a(){for(var u,c=t.length,f,d,h,p,g,m,y=0;y<o;++y)for(f=hL(t,YMe,QMe).visitAfter(s),u=0;u<c;++u)d=t[u],g=n[d.index],m=g*g,h=d.x+d.vx,p=d.y+d.vy,f.visit(v);function v(b,x,w,E,S){var A=b.data,$=b.r,_=g+$;if(A){if(A.index>d.index){var O=h-A.x-A.vx,P=p-A.y-A.vy,R=O*O+P*P;R<_*_&&(O===0&&(O=nc(r),R+=O*O),P===0&&(P=nc(r),R+=P*P),R=(_-(R=Math.sqrt(R)))/R*i,d.vx+=(O*=R)*(_=($*=$)/(m+$)),d.vy+=(P*=R)*_,A.vx-=O*(_=1-_),A.vy-=P*_)}return}return x>h+_||E<h-_||w>p+_||S<p-_}}function s(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,f;for(n=new Array(c),u=0;u<c;++u)f=t[u],n[f.index]=+e(f,u,t)}}return a.initialize=function(u,c){t=u,r=c,l()},a.iterations=function(u){return arguments.length?(o=+u,a):o},a.strength=function(u){return arguments.length?(i=+u,a):i},a.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Qr(+u),l(),a):e},a}function ZMe(e){return e.index}function vU(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function eNe(e){var t=ZMe,n=f,r,i=Qr(30),o,a,s,l,u,c=1;e==null&&(e=[]);function f(m){return 1/Math.min(s[m.source.index],s[m.target.index])}function d(m){for(var y=0,v=e.length;y<c;++y)for(var b=0,x,w,E,S,A,$,_;b<v;++b)x=e[b],w=x.source,E=x.target,S=E.x+E.vx-w.x-w.vx||nc(u),A=E.y+E.vy-w.y-w.vy||nc(u),$=Math.sqrt(S*S+A*A),$=($-o[b])/$*m*r[b],S*=$,A*=$,E.vx-=S*(_=l[b]),E.vy-=A*_,w.vx+=S*(_=1-_),w.vy+=A*_}function h(){if(a){var m,y=a.length,v=e.length,b=new Map(a.map((w,E)=>[t(w,E,a),w])),x;for(m=0,s=new Array(y);m<v;++m)x=e[m],x.index=m,typeof x.source!="object"&&(x.source=vU(b,x.source)),typeof x.target!="object"&&(x.target=vU(b,x.target)),s[x.source.index]=(s[x.source.index]||0)+1,s[x.target.index]=(s[x.target.index]||0)+1;for(m=0,l=new Array(v);m<v;++m)x=e[m],l[m]=s[x.source.index]/(s[x.source.index]+s[x.target.index]);r=new Array(v),p(),o=new Array(v),g()}}function p(){if(a)for(var m=0,y=e.length;m<y;++m)r[m]=+n(e[m],m,e)}function g(){if(a)for(var m=0,y=e.length;m<y;++m)o[m]=+i(e[m],m,e)}return d.initialize=function(m,y){a=m,u=y,h()},d.links=function(m){return arguments.length?(e=m,h(),d):e},d.id=function(m){return arguments.length?(t=m,d):t},d.iterations=function(m){return arguments.length?(c=+m,d):c},d.strength=function(m){return arguments.length?(n=typeof m=="function"?m:Qr(+m),p(),d):n},d.distance=function(m){return arguments.length?(i=typeof m=="function"?m:Qr(+m),g(),d):i},d}var tNe={value:()=>{}};function gL(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new dS(n)}function dS(e){this._=e}function nNe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}dS.prototype=gL.prototype={constructor:dS,on:function(e,t){var n=this._,r=nNe(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=rNe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=bU(n[i],e.name,t);else if(t==null)for(i in n)n[i]=bU(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new dS(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function rNe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function bU(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=tNe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var gg=0,u0=0,Ey=0,tae=1e3,m2,c0,y2=0,Ad=0,l$=0,Lv=typeof performance=="object"&&performance.now?performance:Date,nae=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function u$(){return Ad||(nae(iNe),Ad=Lv.now()+l$)}function iNe(){Ad=0}function zv(){this._call=this._time=this._next=null}zv.prototype=mL.prototype={constructor:zv,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?u$():+n)+(t==null?0:+t),!this._next&&c0!==this&&(c0?c0._next=this:m2=this,c0=this),this._call=e,this._time=n,cR()},stop:function(){this._call&&(this._call=null,this._time=1/0,cR())}};function mL(e,t,n){var r=new zv;return r.restart(e,t,n),r}function oNe(){u$(),++gg;for(var e=m2,t;e;)(t=Ad-e._time)>=0&&e._call.call(void 0,t),e=e._next;--gg}function xU(){Ad=(y2=Lv.now())+l$,gg=u0=0;try{oNe()}finally{gg=0,sNe(),Ad=0}}function aNe(){var e=Lv.now(),t=e-y2;t>tae&&(l$-=t,y2=e)}function sNe(){for(var e,t=m2,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:m2=n);c0=e,cR(r)}function cR(e){if(!gg){u0&&(u0=clearTimeout(u0));var t=e-Ad;t>24?(e<1/0&&(u0=setTimeout(xU,e-Lv.now()-l$)),Ey&&(Ey=clearInterval(Ey))):(Ey||(y2=Lv.now(),Ey=setInterval(aNe,tae)),gg=1,nae(xU))}}function wU(e,t,n){var r=new zv;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function lNe(e,t,n){var r=new zv,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,a,s){a=+a,s=s==null?u$():+s,r._restart(function l(u){u+=i,r._restart(l,i+=a,s),o(u)},a,s)},r.restart(e,t,n),r)}const uNe=1664525,cNe=1013904223,SU=4294967296;function fNe(){let e=1;return()=>(e=(uNe*e+cNe)%SU)/SU}function dNe(e){return e.x}function hNe(e){return e.y}var pNe=10,gNe=Math.PI*(3-Math.sqrt(5));function mNe(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=mL(f),u=gL("tick","end"),c=fNe();e==null&&(e=[]);function f(){d(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function d(g){var m,y=e.length,v;g===void 0&&(g=1);for(var b=0;b<g;++b)for(n+=(o-n)*i,s.forEach(function(x){x(n)}),m=0;m<y;++m)v=e[m],v.fx==null?v.x+=v.vx*=a:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=a:(v.y=v.fy,v.vy=0);return t}function h(){for(var g=0,m=e.length,y;g<m;++g){if(y=e[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=pNe*Math.sqrt(.5+g),b=g*gNe;y.x=v*Math.cos(b),y.y=v*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(g){return g.initialize&&g.initialize(e,c),g}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,h(),s.forEach(p),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(o=+g,t):o},velocityDecay:function(g){return arguments.length?(a=1-g,t):1-a},randomSource:function(g){return arguments.length?(c=g,s.forEach(p),t):c},force:function(g,m){return arguments.length>1?(m==null?s.delete(g):s.set(g,p(m)),t):s.get(g)},find:function(g,m,y){var v=0,b=e.length,x,w,E,S,A;for(y==null?y=1/0:y*=y,v=0;v<b;++v)S=e[v],x=g-S.x,w=m-S.y,E=x*x+w*w,E<y&&(A=S,y=E);return A},on:function(g,m){return arguments.length>1?(u.on(g,m),t):u.on(g)}}}function yNe(){var e,t,n,r,i=Qr(-30),o,a=1,s=1/0,l=.81;function u(h){var p,g=e.length,m=hL(e,dNe,hNe).visitAfter(f);for(r=h,p=0;p<g;++p)t=e[p],m.visit(d)}function c(){if(e){var h,p=e.length,g;for(o=new Array(p),h=0;h<p;++h)g=e[h],o[g.index]=+i(g,h,e)}}function f(h){var p=0,g,m,y=0,v,b,x;if(h.length){for(v=b=x=0;x<4;++x)(g=h[x])&&(m=Math.abs(g.value))&&(p+=g.value,y+=m,v+=m*g.x,b+=m*g.y);h.x=v/y,h.y=b/y}else{g=h,g.x=g.data.x,g.y=g.data.y;do p+=o[g.data.index];while(g=g.next)}h.value=p}function d(h,p,g,m){if(!h.value)return!0;var y=h.x-t.x,v=h.y-t.y,b=m-p,x=y*y+v*v;if(b*b/l<x)return x<s&&(y===0&&(y=nc(n),x+=y*y),v===0&&(v=nc(n),x+=v*v),x<a&&(x=Math.sqrt(a*x)),t.vx+=y*h.value*r/x,t.vy+=v*h.value*r/x),!0;if(h.length||x>=s)return;(h.data!==t||h.next)&&(y===0&&(y=nc(n),x+=y*y),v===0&&(v=nc(n),x+=v*v),x<a&&(x=Math.sqrt(a*x)));do h.data!==t&&(b=o[h.data.index]*r/x,t.vx+=y*b,t.vy+=v*b);while(h=h.next)}return u.initialize=function(h,p){e=h,n=p,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:Qr(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.distanceMax=function(h){return arguments.length?(s=h*h,u):Math.sqrt(s)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function vNe(e){var t=Qr(.1),n,r,i;typeof e!="function"&&(e=Qr(e==null?0:+e));function o(s){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*s}function a(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return o.initialize=function(s){n=s,a()},o.strength=function(s){return arguments.length?(t=typeof s=="function"?s:Qr(+s),a(),o):t},o.x=function(s){return arguments.length?(e=typeof s=="function"?s:Qr(+s),a(),o):e},o}function bNe(e){var t=Qr(.1),n,r,i;typeof e!="function"&&(e=Qr(e==null?0:+e));function o(s){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*s}function a(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return o.initialize=function(s){n=s,a()},o.strength=function(s){return arguments.length?(t=typeof s=="function"?s:Qr(+s),a(),o):t},o.y=function(s){return arguments.length?(e=typeof s=="function"?s:Qr(+s),a(),o):e},o}const EU={center:NMe,collide:JMe,nbody:yNe,link:eNe,x:vNe,y:bNe},f0="forces",fR=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],xNe=["static","iterations"],rae=["x","y","vx","vy"];function yL(e){U.call(this,null,e)}yL.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:rae}]};ie(yL,U,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(fR),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&iae(n,e,0,t)):(this.value=n=SNe(t.source,e),n.on("tick",wNe(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(xNe)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let s=this._argops,l=0,u=s.length,c;l<u;++l)if(c=s[l],!(c.name!==f0||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,o=r.length,a;i<o;++i)if(r[i].name==="links"&&(a=r[i].op.source)){n.pulse(a,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(rae)}});function wNe(e,t){return()=>e.touch(t).run()}function SNe(e,t){const n=mNe(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),iae(n,t,!0).on("end",()=>o=!0)}function iae(e,t,n,r){var i=ue(t.forces),o,a,s,l;for(o=0,a=fR.length;o<a;++o)s=fR[o],s!==f0&&t.modified(s)&&e[s](t[s]);for(o=0,a=i.length;o<a;++o)l=f0+o,s=n||t.modified(f0,o)?_Ne(i[o]):r&&ENe(i[o],r)?e.force(l):null,s&&e.force(l,s);for(a=e.numForces||0;o<a;++o)e.force(f0+o,null);return e.numForces=i.length,e}function ENe(e,t){var n,r;for(n in e)if(Re(r=e[n])&&t.modified(kr(r)))return 1;return 0}function _Ne(e){var t,n;de(EU,e.force)||G("Unrecognized force: "+e.force),t=EU[e.force]();for(n in e)Re(t[n])&&ANe(t[n],e[n],e);return t}function ANe(e,t,n){e(Re(t)?r=>t(r,n):t)}const $Ne=Object.freeze(Object.defineProperty({__proto__:null,force:yL},Symbol.toStringTag,{value:"Module"}));function ONe(e,t){return e.parent===t.parent?1:2}function CNe(e){return e.reduce(kNe,0)/e.length}function kNe(e,t){return e+t.x}function PNe(e){return 1+e.reduce(TNe,0)}function TNe(e,t){return Math.max(e,t.y)}function MNe(e){for(var t;t=e.children;)e=t[0];return e}function NNe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function oae(){var e=ONe,t=1,n=1,r=!1;function i(o){var a,s=0;o.eachAfter(function(d){var h=d.children;h?(d.x=CNe(h),d.y=PNe(h)):(d.x=a?s+=e(d,a):0,d.y=0,a=d)});var l=MNe(o),u=NNe(o),c=l.x-e(l,u)/2,f=u.x+e(u,l)/2;return o.eachAfter(r?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*n}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(o.y?d.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function RNe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function DNe(){return this.eachAfter(RNe)}function INe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function FNe(e,t){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(e.call(t,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function jNe(e,t){for(var n=this,r=[n],i=[],o,a,s,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,s=o.length;a<s;++a)r.push(o[a]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function LNe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function zNe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function BNe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function UNe(e){for(var t=this,n=WNe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function WNe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function qNe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function HNe(){return Array.from(this)}function GNe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function VNe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*XNe(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function c$(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=QNe)):t===void 0&&(t=YNe);for(var n=new mg(e),r,i=[n],o,a,s,l;r=i.pop();)if((a=t(r.data))&&(l=(a=Array.from(a)).length))for(r.children=a,s=l-1;s>=0;--s)i.push(o=a[s]=new mg(a[s])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(aae)}function KNe(){return c$(this).eachBefore(JNe)}function YNe(e){return e.children}function QNe(e){return Array.isArray(e)?e[1]:null}function JNe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function aae(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function mg(e){this.data=e,this.depth=this.height=0,this.parent=null}mg.prototype=c$.prototype={constructor:mg,count:DNe,each:INe,eachAfter:jNe,eachBefore:FNe,find:LNe,sum:zNe,sort:BNe,path:UNe,ancestors:qNe,descendants:HNe,leaves:GNe,links:VNe,copy:KNe,[Symbol.iterator]:XNe};function hS(e){return e==null?null:sae(e)}function sae(e){if(typeof e!="function")throw new Error;return e}function If(){return 0}function Ih(e){return function(){return e}}const ZNe=1664525,eRe=1013904223,_U=4294967296;function tRe(){let e=1;return()=>(e=(ZNe*e+eRe)%_U)/_U}function nRe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rRe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function iRe(e,t){for(var n=0,r=(e=rRe(Array.from(e),t)).length,i=[],o,a;n<r;)o=e[n],a&&lae(a,o)?++n:(a=aRe(i=oRe(i,o)),n=0);return a}function oRe(e,t){var n,r;if(uP(t,e))return[t];for(n=0;n<e.length;++n)if(iw(t,e[n])&&uP(d0(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(iw(d0(e[n],e[r]),t)&&iw(d0(e[n],t),e[r])&&iw(d0(e[r],t),e[n])&&uP(uae(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function iw(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function lae(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function uP(e,t){for(var n=0;n<t.length;++n)if(!lae(e,t[n]))return!1;return!0}function aRe(e){switch(e.length){case 1:return sRe(e[0]);case 2:return d0(e[0],e[1]);case 3:return uae(e[0],e[1],e[2])}}function sRe(e){return{x:e.x,y:e.y,r:e.r}}function d0(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,s=t.r,l=o-n,u=a-r,c=s-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+a+u/f*c)/2,r:(f+i+s)/2}}function uae(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-a,h=r-u,p=i-s,g=i-c,m=l-o,y=f-o,v=r*r+i*i-o*o,b=v-a*a-s*s+l*l,x=v-u*u-c*c+f*f,w=h*p-d*g,E=(p*x-g*b)/(w*2)-r,S=(g*m-p*y)/w,A=(h*b-d*x)/(w*2)-i,$=(d*y-h*m)/w,_=S*S+$*$-1,O=2*(o+E*S+A*$),P=E*E+A*A-o*o,R=-(Math.abs(_)>1e-6?(O+Math.sqrt(O*O-4*_*P))/(2*_):P/O);return{x:r+E+S*R,y:i+A+$*R,r:R}}function AU(e,t,n){var r=e.x-t.x,i,o,a=e.y-t.y,s,l,u=r*r+a*a;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),s=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-s*a,n.y=e.y-i*a+s*r):(i=(u+o-l)/(2*u),s=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-s*a,n.y=t.y+i*a+s*r)):(n.x=t.x+n.r,n.y=t.y)}function $U(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function OU(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function ow(e){this._=e,this.next=null,this.previous=null}function lRe(e,t){if(!(o=(e=nRe(e)).length))return 0;var n,r,i,o,a,s,l,u,c,f,d;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;AU(r,n,i=e[2]),n=new ow(n),r=new ow(r),i=new ow(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){AU(n._,r._,i=e[l]),i=new ow(i),u=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if($U(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}f+=u._.r,u=u.next}else{if($U(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=OU(n);(i=i.next)!==r;)(s=OU(i))<a&&(n=i,a=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=iRe(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function uRe(e){return Math.sqrt(e.value)}function cRe(){var e=null,t=1,n=1,r=If;function i(o){const a=tRe();return o.x=t/2,o.y=n/2,e?o.eachBefore(CU(e)).eachAfter(cP(r,.5,a)).eachBefore(kU(1)):o.eachBefore(CU(uRe)).eachAfter(cP(If,1,a)).eachAfter(cP(r,o.r/Math.min(t,n),a)).eachBefore(kU(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=hS(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:Ih(+o),i):r},i}function CU(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function cP(e,t,n){return function(r){if(i=r.children){var i,o,a=i.length,s=e(r)*t||0,l;if(s)for(o=0;o<a;++o)i[o].r+=s;if(l=lRe(i,n),s)for(o=0;o<a;++o)i[o].r-=s;r.r=l+s}}}function kU(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function cae(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function _b(e,t,n,r,i){for(var o=e.children,a,s=-1,l=o.length,u=e.value&&(r-t)/e.value;++s<l;)a=o[s],a.y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*u}function fRe(){var e=1,t=1,n=0,r=!1;function i(a){var s=a.height+1;return a.x0=a.y0=n,a.x1=e,a.y1=t/s,a.eachBefore(o(t,s)),r&&a.eachBefore(cae),a}function o(a,s){return function(l){l.children&&_b(l,l.x0,a*(l.depth+1)/s,l.x1,a*(l.depth+2)/s);var u=l.x0,c=l.y0,f=l.x1-n,d=l.y1-n;f<u&&(u=f=(u+f)/2),d<c&&(c=d=(c+d)/2),l.x0=u,l.y0=c,l.x1=f,l.y1=d}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(e=+a[0],t=+a[1],i):[e,t]},i.padding=function(a){return arguments.length?(n=+a,i):n},i}var dRe={depth:-1},PU={},fP={};function hRe(e){return e.id}function pRe(e){return e.parentId}function TU(){var e=hRe,t=pRe,n;function r(i){var o=Array.from(i),a=e,s=t,l,u,c,f,d,h,p,g,m=new Map;if(n!=null){const y=o.map((x,w)=>gRe(n(x,w,i))),v=y.map(MU),b=new Set(y).add("");for(const x of v)b.has(x)||(b.add(x),y.push(x),v.push(MU(x)),o.push(fP));a=(x,w)=>y[w],s=(x,w)=>v[w]}for(c=0,l=o.length;c<l;++c)u=o[c],h=o[c]=new mg(u),(p=a(u,c,i))!=null&&(p+="")&&(g=h.id=p,m.set(g,m.has(g)?PU:h)),(p=s(u,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<l;++c)if(h=o[c],p=h.parent){if(d=m.get(p),!d)throw new Error("missing: "+p);if(d===PU)throw new Error("ambiguous: "+p);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===fP&&f.children.length===1;)f=f.children[0],--l;for(let y=o.length-1;y>=0&&(h=o[y],h.data===fP);--y)h.data=null}if(f.parent=dRe,f.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(aae),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=hS(i),r):e},r.parentId=function(i){return arguments.length?(t=hS(i),r):t},r.path=function(i){return arguments.length?(n=hS(i),r):n},r}function gRe(e){e=`${e}`;let t=e.length;return dR(e,t-1)&&!dR(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function MU(e){let t=e.length;if(t<2)return"";for(;--t>1&&!dR(e,t););return e.slice(0,t)}function dR(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function mRe(e,t){return e.parent===t.parent?1:2}function dP(e){var t=e.children;return t?t[0]:e.t}function hP(e){var t=e.children;return t?t[t.length-1]:e.t}function yRe(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function vRe(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function bRe(e,t,n){return e.a.parent===t.parent?e.a:n}function pS(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}pS.prototype=Object.create(mg.prototype);function xRe(e){for(var t=new pS(e,0),n,r=[t],i,o,a,s;n=r.pop();)if(o=n._.children)for(n.children=new Array(s=o.length),a=s-1;a>=0;--a)r.push(i=n.children[a]=new pS(o[a],a)),i.parent=n;return(t.parent=new pS(null,0)).children=[t],t}function wRe(){var e=mRe,t=1,n=1,r=null;function i(u){var c=xRe(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)u.eachBefore(l);else{var f=u,d=u,h=u;u.eachBefore(function(v){v.x<f.x&&(f=v),v.x>d.x&&(d=v),v.depth>h.depth&&(h=v)});var p=f===d?1:e(f,d)/2,g=p-f.x,m=t/(d.x+p+g),y=n/(h.depth||1);u.eachBefore(function(v){v.x=(v.x+g)*m,v.y=v.depth*y})}return u}function o(u){var c=u.children,f=u.parent.children,d=u.i?f[u.i-1]:null;if(c){vRe(u);var h=(c[0].z+c[c.length-1].z)/2;d?(u.z=d.z+e(u._,d._),u.m=u.z-h):u.z=h}else d&&(u.z=d.z+e(u._,d._));u.parent.A=s(u,d,u.parent.A||f[0])}function a(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,f){if(c){for(var d=u,h=u,p=c,g=d.parent.children[0],m=d.m,y=h.m,v=p.m,b=g.m,x;p=hP(p),d=dP(d),p&&d;)g=dP(g),h=hP(h),h.a=u,x=p.z+v-d.z-m+e(p._,d._),x>0&&(yRe(bRe(p,u,f),u,x),m+=x,y+=x),v+=p.m,m+=d.m,b+=g.m,y+=h.m;p&&!hP(h)&&(h.t=p,h.m+=v-y),d&&!dP(g)&&(g.t=d,g.m+=m-b,f=u)}return f}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function f$(e,t,n,r,i){for(var o=e.children,a,s=-1,l=o.length,u=e.value&&(i-n)/e.value;++s<l;)a=o[s],a.x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*u}var fae=(1+Math.sqrt(5))/2;function dae(e,t,n,r,i,o){for(var a=[],s=t.children,l,u,c=0,f=0,d=s.length,h,p,g=t.value,m,y,v,b,x,w,E;c<d;){h=i-n,p=o-r;do m=s[f++].value;while(!m&&f<d);for(y=v=m,w=Math.max(p/h,h/p)/(g*e),E=m*m*w,x=Math.max(v/E,E/y);f<d;++f){if(m+=u=s[f].value,u<y&&(y=u),u>v&&(v=u),E=m*m*w,b=Math.max(v/E,E/y),b>x){m-=u;break}x=b}a.push(l={value:m,dice:h<p,children:s.slice(c,f)}),l.dice?_b(l,n,r,i,g?r+=p*m/g:o):f$(l,n,r,g?n+=h*m/g:i,o),g-=m,c=f}return a}const hae=function e(t){function n(r,i,o,a,s){dae(t,r,i,o,a,s)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(fae);function SRe(){var e=hae,t=!1,n=1,r=1,i=[0],o=If,a=If,s=If,l=If,u=If;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(cae),d}function f(d){var h=i[d.depth],p=d.x0+h,g=d.y0+h,m=d.x1-h,y=d.y1-h;m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),d.x0=p,d.y0=g,d.x1=m,d.y1=y,d.children&&(h=i[d.depth+1]=o(d)/2,p+=u(d)-h,g+=a(d)-h,m-=s(d)-h,y-=l(d)-h,m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),e(d,p,g,m,y))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],r=+d[1],c):[n,r]},c.tile=function(d){return arguments.length?(e=sae(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(o=typeof d=="function"?d:Ih(+d),c):o},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(a=typeof d=="function"?d:Ih(+d),c):a},c.paddingRight=function(d){return arguments.length?(s=typeof d=="function"?d:Ih(+d),c):s},c.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:Ih(+d),c):l},c.paddingLeft=function(d){return arguments.length?(u=typeof d=="function"?d:Ih(+d),c):u},c}function ERe(e,t,n,r,i){var o=e.children,a,s=o.length,l,u=new Array(s+1);for(u[0]=l=a=0;a<s;++a)u[a+1]=l+=o[a].value;c(0,s,e.value,t,n,r,i);function c(f,d,h,p,g,m,y){if(f>=d-1){var v=o[f];v.x0=p,v.y0=g,v.x1=m,v.y1=y;return}for(var b=u[f],x=h/2+b,w=f+1,E=d-1;w<E;){var S=w+E>>>1;u[S]<x?w=S+1:E=S}x-u[w-1]<u[w]-x&&f+1<w&&--w;var A=u[w]-b,$=h-A;if(m-p>y-g){var _=h?(p*$+m*A)/h:m;c(f,w,A,p,g,_,y),c(w,d,$,_,g,m,y)}else{var O=h?(g*$+y*A)/h:y;c(f,w,A,p,g,m,O),c(w,d,$,p,O,m,y)}}}function _Re(e,t,n,r,i){(e.depth&1?f$:_b)(e,t,n,r,i)}const ARe=function e(t){function n(r,i,o,a,s){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,f,d=-1,h,p=l.length,g=r.value;++d<p;){for(u=l[d],c=u.children,f=u.value=0,h=c.length;f<h;++f)u.value+=c[f].value;u.dice?_b(u,i,o,a,g?o+=(s-o)*u.value/g:s):f$(u,i,o,g?i+=(a-i)*u.value/g:a,s),g-=u.value}else r._squarify=l=dae(t,r,i,o,a,s),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(fae);function hR(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function vL(e){U.call(this,null,e)}vL.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const $Re=e=>e.values;ie(vL,U,{transform(e,t){t.source||G("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(a=>{a.children&&xA(a.data)&&i.rem.push(a.data)}),this.value=o=c$({values:ue(e.keys).reduce((a,s)=>(a.key(s),a),ORe()).entries(i.source)},$Re),n&&o.each(a=>{a.children&&(a=st(a.data),i.add.push(a),i.source.push(a))}),hR(o,xe,xe)),i.source.root=o,i}});function ORe(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const a=i.length,s=e[o++],l={},u={};let c=-1,f,d,h;for(;++c<a;)f=s(d=i[c])+"",(h=l[f])?h.push(d):l[f]=[d];for(f in l)u[f]=n(l[f],o);return u}function r(i,o){if(++o>e.length)return i;const a=[];for(const s in i)a.push({key:s,values:r(i[s],o)});return a}return t}function du(e){U.call(this,null,e)}const CRe=(e,t)=>e.parent===t.parent?1:2;ie(du,U,{transform(e,t){(!t.source||!t.source.root)&&G(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Kd(e.sort,a=>a.data)),kRe(n,this.params,e),n.separation&&n.separation(e.separation!==!1?CRe:hm);try{this.value=n(i)}catch(a){G(a)}return i.each(a=>PRe(a,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function kRe(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function PRe(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const pR=["x","y","r","depth","children"];function bL(e){du.call(this,e)}bL.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:pR.length,default:pR}]};ie(bL,du,{layout:cRe,params:["radius","size","padding"],fields:pR});const gR=["x0","y0","x1","y1","depth","children"];function xL(e){du.call(this,e)}xL.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:gR.length,default:gR}]};ie(xL,du,{layout:fRe,params:["size","round","padding"],fields:gR});function wL(e){U.call(this,null,e)}wL.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ie(wL,U,{transform(e,t){t.source||G("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?hR(TU().id(e.key).parentId(e.parentKey)(i.source),e.key,zo):hR(TU()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const NU={tidy:wRe,cluster:oae},mR=["x","y","depth","children"];function SL(e){du.call(this,e)}SL.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:mR.length,default:mR}]};ie(SL,du,{layout(e){const t=e||"tidy";if(de(NU,t))return NU[t]();G("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:mR});function EL(e){U.call(this,[],e)}EL.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ie(EL,U,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||G("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,a=>o[xe(a)]=1),r.each(a=>{const s=a.data,l=a.parent&&a.parent.data;l&&o[xe(s)]&&o[xe(l)]&&i.add.push(st({source:l,target:s}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,a=>o[xe(a)]=1),n.forEach(a=>{(o[xe(a.source)]||o[xe(a.target)])&&i.mod.push(a)})),i}});const RU={binary:ERe,dice:_b,slice:f$,slicedice:_Re,squarify:hae,resquarify:ARe},yR=["x0","y0","x1","y1","depth","children"];function _L(e){du.call(this,e)}_L.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:yR.length,default:yR}]};ie(_L,du,{layout(){const e=SRe();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{de(RU,t)?e.tile(RU[t]):G("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:yR});const TRe=Object.freeze(Object.defineProperty({__proto__:null,nest:vL,pack:bL,partition:xL,stratify:wL,tree:SL,treelinks:EL,treemap:_L},Symbol.toStringTag,{value:"Module"})),pP=4278190080;function MRe(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function NRe(e,t,n,r,i){const o=e.width,a=e.height,s=r||i,l=vc(o,a).getContext("2d"),u=vc(o,a).getContext("2d"),c=s&&vc(o,a).getContext("2d");n.forEach(A=>gS(l,A,!1)),gS(u,t,!1),s&&gS(c,t,!0);const f=gP(l,o,a),d=gP(u,o,a),h=s&&gP(c,o,a),p=e.bitmap(),g=s&&e.bitmap();let m,y,v,b,x,w,E,S;for(y=0;y<a;++y)for(m=0;m<o;++m)x=y*o+m,w=f[x]&pP,S=d[x]&pP,E=s&&h[x]&pP,(w||E||S)&&(v=e(m),b=e(y),!i&&(w||S)&&p.set(v,b),s&&(w||E)&&g.set(v,b));return[p,g]}function gP(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function gS(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>gS(e,o.items,n))}):lo[r].draw(e,{items:n?t.map(RRe):t})}function RRe(e){const t=wA(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const ll=5,Ir=31,Bv=32,Iu=new Uint32Array(Bv+1),ga=new Uint32Array(Bv+1);ga[0]=0;Iu[0]=~ga[0];for(let e=1;e<=Bv;++e)ga[e]=ga[e-1]<<1|1,Iu[e]=~ga[e];function DRe(e,t){const n=new Uint32Array(~~((e*t+Bv)/Bv));function r(o,a){n[o]|=a}function i(o,a){n[o]&=a}return{array:n,get:(o,a)=>{const s=a*e+o;return n[s>>>ll]&1<<(s&Ir)},set:(o,a)=>{const s=a*e+o;r(s>>>ll,1<<(s&Ir))},clear:(o,a)=>{const s=a*e+o;i(s>>>ll,~(1<<(s&Ir)))},getRange:(o,a,s,l)=>{let u=l,c,f,d,h;for(;u>=a;--u)if(c=u*e+o,f=u*e+s,d=c>>>ll,h=f>>>ll,d===h){if(n[d]&Iu[c&Ir]&ga[(f&Ir)+1])return!0}else{if(n[d]&Iu[c&Ir]||n[h]&ga[(f&Ir)+1])return!0;for(let p=d+1;p<h;++p)if(n[p])return!0}return!1},setRange:(o,a,s,l)=>{let u,c,f,d,h;for(;a<=l;++a)if(u=a*e+o,c=a*e+s,f=u>>>ll,d=c>>>ll,f===d)r(f,Iu[u&Ir]&ga[(c&Ir)+1]);else for(r(f,Iu[u&Ir]),r(d,ga[(c&Ir)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(o,a,s,l)=>{let u,c,f,d,h;for(;a<=l;++a)if(u=a*e+o,c=a*e+s,f=u>>>ll,d=c>>>ll,f===d)i(f,ga[u&Ir]|Iu[(c&Ir)+1]);else for(i(f,ga[u&Ir]),i(d,Iu[(c&Ir)+1]),h=f+1;h<d;++h)i(h,0)},outOfBounds:(o,a,s,l)=>o<0||a<0||l>=t||s>=e}}function IRe(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),a=s=>~~((s+n)/r);return a.invert=s=>s*r-n,a.bitmap=()=>DRe(i,o),a.ratio=r,a.padding=n,a.width=e,a.height=t,a}function FRe(e,t,n,r){const i=e.width,o=e.height;return function(a){const s=a.datum.datum.items[r].items,l=s.length,u=a.datum.fontSize,c=Ji.width(a.datum,a.datum.text);let f=0,d,h,p,g,m,y,v;for(let b=0;b<l;++b)d=s[b].x,p=s[b].y,h=s[b].x2===void 0?d:s[b].x2,g=s[b].y2===void 0?p:s[b].y2,m=(d+h)/2,y=(p+g)/2,v=Math.abs(h-d+g-p),v>=f&&(f=v,a.x=m,a.y=y);return m=c/2,y=u/2,d=a.x-m,h=a.x+m,p=a.y-y,g=a.y+y,a.align="center",d<0&&h<=i?a.align="left":0<=d&&i<h&&(a.align="right"),a.baseline="middle",p<0&&g<=o?a.baseline="top":0<=p&&o<g&&(a.baseline="bottom"),!0}}function v2(e,t,n,r,i,o){let a=n/2;return e-a<0||e+a>i||t-(a=r/2)<0||t+a>o}function rc(e,t,n,r,i,o,a,s){const l=i*o/(r*2),u=e(t-l),c=e(t+l),f=e(n-(o=o/2)),d=e(n+o);return a.outOfBounds(u,f,c,d)||a.getRange(u,f,c,d)||s&&s.getRange(u,f,c,d)}function jRe(e,t,n,r){const i=e.width,o=e.height,a=t[0],s=t[1];function l(u,c,f,d,h){const p=e.invert(u),g=e.invert(c);let m=f,y=o,v;if(!v2(p,g,d,h,i,o)&&!rc(e,p,g,h,d,m,a,s)&&!rc(e,p,g,h,d,h,a,null)){for(;y-m>=1;)v=(m+y)/2,rc(e,p,g,h,d,v,a,s)?y=v:m=v;if(m>f)return[p,g,m,!0]}}return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=Ji.width(u.datum,u.datum.text);let p=n?d:0,g=!1,m=!1,y=0,v,b,x,w,E,S,A,$,_,O,P,R,k,C,M,I,N;for(let F=0;F<f;++F){for(v=c[F].x,x=c[F].y,b=c[F].x2===void 0?v:c[F].x2,w=c[F].y2===void 0?x:c[F].y2,v>b&&(N=v,v=b,b=N),x>w&&(N=x,x=w,w=N),_=e(v),P=e(b),O=~~((_+P)/2),R=e(x),C=e(w),k=~~((R+C)/2),A=O;A>=_;--A)for($=k;$>=R;--$)I=l(A,$,p,h,d),I&&([u.x,u.y,p,g]=I);for(A=O;A<=P;++A)for($=k;$<=C;++$)I=l(A,$,p,h,d),I&&([u.x,u.y,p,g]=I);!g&&!n&&(M=Math.abs(b-v+w-x),E=(v+b)/2,S=(x+w)/2,M>=y&&!v2(E,S,h,d,i,o)&&!rc(e,E,S,d,h,d,a,null)&&(y=M,u.x=E,u.y=S,m=!0))}return g||m?(E=h/2,S=d/2,a.setRange(e(u.x-E),e(u.y-S),e(u.x+E),e(u.y+S)),u.align="center",u.baseline="middle",!0):!1}}const LRe=[-1,-1,1,1],zRe=[-1,1,-1,1];function BRe(e,t,n,r){const i=e.width,o=e.height,a=t[0],s=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=Ji.width(u.datum,u.datum.text),p=[];let g=n?d:0,m=!1,y=!1,v=0,b,x,w,E,S,A,$,_,O,P,R,k;for(let C=0;C<f;++C){for(b=c[C].x,w=c[C].y,x=c[C].x2===void 0?b:c[C].x2,E=c[C].y2===void 0?w:c[C].y2,p.push([e((b+x)/2),e((w+E)/2)]);p.length;)if([$,_]=p.pop(),!(a.get($,_)||s.get($,_)||l.get($,_))){l.set($,_);for(let M=0;M<4;++M)S=$+LRe[M],A=_+zRe[M],l.outOfBounds(S,A,S,A)||p.push([S,A]);if(S=e.invert($),A=e.invert(_),O=g,P=o,!v2(S,A,h,d,i,o)&&!rc(e,S,A,d,h,O,a,s)&&!rc(e,S,A,d,h,d,a,null)){for(;P-O>=1;)R=(O+P)/2,rc(e,S,A,d,h,R,a,s)?P=R:O=R;O>g&&(u.x=S,u.y=A,g=O,m=!0)}}!m&&!n&&(k=Math.abs(x-b+E-w),S=(b+x)/2,A=(w+E)/2,k>=v&&!v2(S,A,h,d,i,o)&&!rc(e,S,A,d,h,d,a,null)&&(v=k,u.x=S,u.y=A,y=!0))}return m||y?(S=h/2,A=d/2,a.setRange(e(u.x-S),e(u.y-A),e(u.x+S),e(u.y+A)),u.align="center",u.baseline="middle",!0):!1}}const URe=["right","center","left"],WRe=["bottom","middle","top"];function qRe(e,t,n,r){const i=e.width,o=e.height,a=t[0],s=t[1],l=r.length;return function(u){const c=u.boundary,f=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let d=u.textWidth??0,h,p,g,m,y,v,b,x,w,E,S,A,$,_,O;for(let P=0;P<l;++P){if(h=(n[P]&3)-1,p=(n[P]>>>2&3)-1,g=h===0&&p===0||r[P]<0,m=h&&p?Math.SQRT1_2:1,y=r[P]<0?-1:1,v=c[1+h]+r[P]*h*m,S=c[4+p]+y*f*p/2+r[P]*p*m,x=S-f/2,w=S+f/2,A=e(v),_=e(x),O=e(w),!d)if(DU(A,A,_,O,a,s,v,v,x,w,c,g))d=Ji.width(u.datum,u.datum.text);else continue;if(E=v+y*d*h/2,v=E-d/2,b=E+d/2,A=e(v),$=e(b),DU(A,$,_,O,a,s,v,b,x,w,c,g))return u.x=h?h*y<0?b:v:E,u.y=p?p*y<0?w:x:S,u.align=URe[h*y+1],u.baseline=WRe[p*y+1],a.setRange(A,_,$,O),!0}return!1}}function DU(e,t,n,r,i,o,a,s,l,u,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&o||i).getRange(e,n,t,r))}const mP=0,yP=4,vP=8,bP=0,xP=1,wP=2,HRe={"top-left":mP+bP,top:mP+xP,"top-right":mP+wP,left:yP+bP,middle:yP+xP,right:yP+wP,"bottom-left":vP+bP,bottom:vP+xP,"bottom-right":vP+wP},GRe={naive:FRe,"reduced-search":jRe,floodfill:BRe};function VRe(e,t,n,r,i,o,a,s,l,u,c){if(!e.length)return e;const f=Math.max(r.length,i.length),d=XRe(r,f),h=KRe(i,f),p=YRe(e[0].datum),g=p==="group"&&e[0].datum.items[l].marktype,m=g==="area",y=QRe(p,g,s,l),v=u===null||u===1/0,b=m&&c==="naive";let x=-1,w=-1;const E=e.map(_=>{const O=v?Ji.width(_,_.text):void 0;return x=Math.max(x,O),w=Math.max(w,_.fontSize),{datum:_,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(_),textWidth:O}});u=u===null||u===1/0?Math.max(x,w)+Math.max(...r):u;const S=IRe(t[0],t[1],u);let A;if(!b){n&&E.sort((P,R)=>n(P.datum,R.datum));let _=!1;for(let P=0;P<h.length&&!_;++P)_=h[P]===5||d[P]<0;const O=(p&&a||m)&&e.map(P=>P.datum);A=o.length||O?NRe(S,O||[],o,_,m):MRe(S,a&&E)}const $=m?GRe[c](S,A,a,l):qRe(S,A,h,d);return E.forEach(_=>_.opacity=+$(_)),E}function XRe(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function KRe(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=HRe[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function YRe(e){return e&&e.mark&&e.mark.marktype}function QRe(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const a=o.datum.items[r].items;return i(a.length?a[n==="start"?0:a.length-1]:{x:NaN,y:NaN})}:o=>{const a=o.datum.bounds;return[a.x1,(a.x1+a.x2)/2,a.x2,a.y1,(a.y1+a.y2)/2,a.y2]}:i}const vR=["x","y","opacity","align","baseline"],pae=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function AL(e){U.call(this,null,e)}AL.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:pae},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:vR.length,default:vR}]};ie(AL,U,{transform(e,t){function n(o){const a=e[o];return Re(a)&&t.modified(a.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&G("Size parameter should be specified as a [width, height] array.");const i=e.as||vR;return VRe(t.materialize(t.SOURCE).source||[],e.size,e.sort,ue(e.offset==null?1:e.offset),ue(e.anchor||pae),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const a=o.datum;a[i[0]]=o.x,a[i[1]]=o.y,a[i[2]]=o.opacity,a[i[3]]=o.align,a[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const JRe=Object.freeze(Object.defineProperty({__proto__:null,label:AL},Symbol.toStringTag,{value:"Module"}));function gae(e,t){var n=[],r=function(c){return c(s)},i,o,a,s,l,u;if(t==null)n.push(e);else for(i={},o=0,a=e.length;o<a;++o)s=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(s);return n}function $L(e){U.call(this,null,e)}$L.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};ie($L,U,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=gae(r,e.groupby),o=(e.groupby||[]).map(un),a=o.length,s=e.as||[un(e.x),un(e.y)],l=[];i.forEach(u=>{xte(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let d=0;d<a;++d)f[o[d]]=u.dims[d];f[s[0]]=c[0],f[s[1]]=c[1],l.push(st(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const bR={constant:XF,linear:KF,log:mte,exp:yte,pow:vte,quad:YF,poly:bte},ZRe=(e,t)=>e==="poly"?t:e==="quad"?2:1;function OL(e){U.call(this,null,e)}OL.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(bR)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};ie(OL,U,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=gae(r,e.groupby),o=(e.groupby||[]).map(un),a=e.method||"linear",s=e.order==null?3:e.order,l=ZRe(a,s),u=e.as||[un(e.x),un(e.y)],c=bR[a],f=[];let d=e.extent;de(bR,a)||G("Invalid regression method: "+a),d!=null&&a==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=c(h,e.x,e.y,s);if(e.params){f.push(st({keys:h.dims,coef:g.coef,rSquared:g.rSquared}));return}const m=d||Rs(h,e.x),y=v=>{const b={};for(let x=0;x<o.length;++x)b[o[x]]=h.dims[x];b[u[0]]=v[0],b[u[1]]=v[1],f.push(st(b))};a==="linear"||a==="constant"?m.forEach(v=>y([v,g.predict(v)])):CA(g.predict,m,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const eDe=Object.freeze(Object.defineProperty({__proto__:null,loess:$L,regression:OL},Symbol.toStringTag,{value:"Module"})),Dl=11102230246251565e-32,yr=134217729,tDe=(3+8*Dl)*Dl;function SP(e,t,n,r,i){let o,a,s,l,u=t[0],c=r[0],f=0,d=0;c>u==c>-u?(o=u,u=t[++f]):(o=c,c=r[++d]);let h=0;if(f<e&&d<n)for(c>u==c>-u?(a=u+o,s=o-(a-u),u=t[++f]):(a=c+o,s=o-(a-c),c=r[++d]),o=a,s!==0&&(i[h++]=s);f<e&&d<n;)c>u==c>-u?(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=t[++f]):(a=o+c,l=a-o,s=o-(a-l)+(c-l),c=r[++d]),o=a,s!==0&&(i[h++]=s);for(;f<e;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=t[++f],o=a,s!==0&&(i[h++]=s);for(;d<n;)a=o+c,l=a-o,s=o-(a-l)+(c-l),c=r[++d],o=a,s!==0&&(i[h++]=s);return(o!==0||h===0)&&(i[h++]=o),h}function nDe(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function Ab(e){return new Float64Array(e)}const rDe=(3+16*Dl)*Dl,iDe=(2+12*Dl)*Dl,oDe=(9+64*Dl)*Dl*Dl,wh=Ab(4),IU=Ab(8),FU=Ab(12),jU=Ab(16),Fr=Ab(4);function aDe(e,t,n,r,i,o,a){let s,l,u,c,f,d,h,p,g,m,y,v,b,x,w,E,S,A;const $=e-i,_=n-i,O=t-o,P=r-o;x=$*P,d=yr*$,h=d-(d-$),p=$-h,d=yr*P,g=d-(d-P),m=P-g,w=p*m-(x-h*g-p*g-h*m),E=O*_,d=yr*O,h=d-(d-O),p=O-h,d=yr*_,g=d-(d-_),m=_-g,S=p*m-(E-h*g-p*g-h*m),y=w-S,f=w-y,wh[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-E,f=b-y,wh[1]=b-(y+f)+(f-E),A=v+y,f=A-v,wh[2]=v-(A-f)+(y-f),wh[3]=A;let R=nDe(4,wh),k=iDe*a;if(R>=k||-R>=k||(f=e-$,s=e-($+f)+(f-i),f=n-_,u=n-(_+f)+(f-i),f=t-O,l=t-(O+f)+(f-o),f=r-P,c=r-(P+f)+(f-o),s===0&&l===0&&u===0&&c===0)||(k=oDe*a+tDe*Math.abs(R),R+=$*c+P*s-(O*u+_*l),R>=k||-R>=k))return R;x=s*P,d=yr*s,h=d-(d-s),p=s-h,d=yr*P,g=d-(d-P),m=P-g,w=p*m-(x-h*g-p*g-h*m),E=l*_,d=yr*l,h=d-(d-l),p=l-h,d=yr*_,g=d-(d-_),m=_-g,S=p*m-(E-h*g-p*g-h*m),y=w-S,f=w-y,Fr[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-E,f=b-y,Fr[1]=b-(y+f)+(f-E),A=v+y,f=A-v,Fr[2]=v-(A-f)+(y-f),Fr[3]=A;const C=SP(4,wh,4,Fr,IU);x=$*c,d=yr*$,h=d-(d-$),p=$-h,d=yr*c,g=d-(d-c),m=c-g,w=p*m-(x-h*g-p*g-h*m),E=O*u,d=yr*O,h=d-(d-O),p=O-h,d=yr*u,g=d-(d-u),m=u-g,S=p*m-(E-h*g-p*g-h*m),y=w-S,f=w-y,Fr[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-E,f=b-y,Fr[1]=b-(y+f)+(f-E),A=v+y,f=A-v,Fr[2]=v-(A-f)+(y-f),Fr[3]=A;const M=SP(C,IU,4,Fr,FU);x=s*c,d=yr*s,h=d-(d-s),p=s-h,d=yr*c,g=d-(d-c),m=c-g,w=p*m-(x-h*g-p*g-h*m),E=l*u,d=yr*l,h=d-(d-l),p=l-h,d=yr*u,g=d-(d-u),m=u-g,S=p*m-(E-h*g-p*g-h*m),y=w-S,f=w-y,Fr[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-E,f=b-y,Fr[1]=b-(y+f)+(f-E),A=v+y,f=A-v,Fr[2]=v-(A-f)+(y-f),Fr[3]=A;const I=SP(M,FU,4,Fr,jU);return jU[I-1]}function aw(e,t,n,r,i,o){const a=(t-o)*(n-i),s=(e-i)*(r-o),l=a-s,u=Math.abs(a+s);return Math.abs(l)>=rDe*u?l:-aDe(e,t,n,r,i,o,u)}const LU=Math.pow(2,-52),sw=new Uint32Array(512);class b2{static from(t,n=fDe,r=dDe){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const s=t[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new b2(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=t.length>>1;let s=1/0,l=1/0,u=-1/0,c=-1/0;for(let $=0;$<a;$++){const _=t[2*$],O=t[2*$+1];_<s&&(s=_),O<l&&(l=O),_>u&&(u=_),O>c&&(c=O),this._ids[$]=$}const f=(s+u)/2,d=(l+c)/2;let h,p,g;for(let $=0,_=1/0;$<a;$++){const O=EP(f,d,t[2*$],t[2*$+1]);O<_&&(h=$,_=O)}const m=t[2*h],y=t[2*h+1];for(let $=0,_=1/0;$<a;$++){if($===h)continue;const O=EP(m,y,t[2*$],t[2*$+1]);O<_&&O>0&&(p=$,_=O)}let v=t[2*p],b=t[2*p+1],x=1/0;for(let $=0;$<a;$++){if($===h||$===p)continue;const _=uDe(m,y,v,b,t[2*$],t[2*$+1]);_<x&&(g=$,x=_)}let w=t[2*g],E=t[2*g+1];if(x===1/0){for(let O=0;O<a;O++)this._dists[O]=t[2*O]-t[0]||t[2*O+1]-t[1];rp(this._ids,this._dists,0,a-1);const $=new Uint32Array(a);let _=0;for(let O=0,P=-1/0;O<a;O++){const R=this._ids[O],k=this._dists[R];k>P&&($[_++]=R,P=k)}this.hull=$.subarray(0,_),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(aw(m,y,v,b,w,E)<0){const $=p,_=v,O=b;p=g,v=w,b=E,g=$,w=_,E=O}const S=cDe(m,y,v,b,w,E);this._cx=S.x,this._cy=S.y;for(let $=0;$<a;$++)this._dists[$]=EP(t[2*$],t[2*$+1],S.x,S.y);rp(this._ids,this._dists,0,a-1),this._hullStart=h;let A=3;r[h]=n[g]=p,r[p]=n[h]=g,r[g]=n[p]=h,i[h]=0,i[p]=1,i[g]=2,o.fill(-1),o[this._hashKey(m,y)]=h,o[this._hashKey(v,b)]=p,o[this._hashKey(w,E)]=g,this.trianglesLen=0,this._addTriangle(h,p,g,-1,-1,-1);for(let $=0,_,O;$<this._ids.length;$++){const P=this._ids[$],R=t[2*P],k=t[2*P+1];if($>0&&Math.abs(R-_)<=LU&&Math.abs(k-O)<=LU||(_=R,O=k,P===h||P===p||P===g))continue;let C=0;for(let L=0,z=this._hashKey(R,k);L<this._hashSize&&(C=o[(z+L)%this._hashSize],!(C!==-1&&C!==r[C]));L++);C=n[C];let M=C,I;for(;I=r[M],aw(R,k,t[2*M],t[2*M+1],t[2*I],t[2*I+1])>=0;)if(M=I,M===C){M=-1;break}if(M===-1)continue;let N=this._addTriangle(M,P,r[M],-1,-1,i[M]);i[P]=this._legalize(N+2),i[M]=N,A++;let F=r[M];for(;I=r[F],aw(R,k,t[2*F],t[2*F+1],t[2*I],t[2*I+1])<0;)N=this._addTriangle(F,P,I,i[P],-1,i[F]),i[P]=this._legalize(N+2),r[F]=F,A--,F=I;if(M===C)for(;I=n[M],aw(R,k,t[2*I],t[2*I+1],t[2*M],t[2*M+1])<0;)N=this._addTriangle(I,P,M,-1,i[M],i[I]),this._legalize(N+2),i[I]=N,r[M]=M,A--,M=I;this._hullStart=n[P]=M,r[M]=n[F]=P,r[P]=F,o[this._hashKey(R,k)]=P,o[this._hashKey(t[2*M],t[2*M+1])]=M}this.hull=new Uint32Array(A);for(let $=0,_=this._hullStart;$<A;$++)this.hull[$]=_,_=r[_];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(sDe(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const s=r[t],l=t-t%3;if(a=l+(t+2)%3,s===-1){if(o===0)break;t=sw[--o];continue}const u=s-s%3,c=l+(t+1)%3,f=u+(s+2)%3,d=n[a],h=n[t],p=n[c],g=n[f];if(lDe(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[t]=g,n[s]=d;const y=r[f];if(y===-1){let b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,y),this._link(s,r[a]),this._link(a,f);const v=u+(s+1)%3;o<sw.length&&(sw[o++]=v)}else{if(o===0)break;t=sw[--o]}}return a}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,a){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}function sDe(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function EP(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function lDe(e,t,n,r,i,o,a,s){const l=e-a,u=t-s,c=n-a,f=r-s,d=i-a,h=o-s,p=l*l+u*u,g=c*c+f*f,m=d*d+h*h;return l*(f*m-g*h)-u*(c*m-g*d)+p*(c*h-f*d)<0}function uDe(e,t,n,r,i,o){const a=n-e,s=r-t,l=i-e,u=o-t,c=a*a+s*s,f=l*l+u*u,d=.5/(a*u-s*l),h=(u*c-s*f)*d,p=(a*f-l*c)*d;return h*h+p*p}function cDe(e,t,n,r,i,o){const a=n-e,s=r-t,l=i-e,u=o-t,c=a*a+s*s,f=l*l+u*u,d=.5/(a*u-s*l),h=e+(u*c-s*f)*d,p=t+(a*f-l*c)*d;return{x:h,y:p}}function rp(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],a=t[o];let s=i-1;for(;s>=n&&t[e[s]]>a;)e[s+1]=e[s--];e[s+1]=o}else{const i=n+r>>1;let o=n+1,a=r;_y(e,i,o),t[e[n]]>t[e[r]]&&_y(e,n,r),t[e[o]]>t[e[r]]&&_y(e,o,r),t[e[n]]>t[e[o]]&&_y(e,n,o);const s=e[o],l=t[s];for(;;){do o++;while(t[e[o]]<l);do a--;while(t[e[a]]>l);if(a<o)break;_y(e,o,a)}e[n+1]=e[a],e[a]=s,r-o+1>=a-n?(rp(e,t,o,r),rp(e,t,n,a-1)):(rp(e,t,n,a-1),rp(e,t,o,r))}}function _y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function fDe(e){return e[0]}function dDe(e){return e[1]}const zU=1e-6;class Wf{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>zU||Math.abs(this._y1-o)>zU)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}let xR=class{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}},hDe=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,a;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,m=0,y=r.length,v,b;g<y;g+=3,m+=2){const x=r[g]*2,w=r[g+1]*2,E=r[g+2]*2,S=t[x],A=t[x+1],$=t[w],_=t[w+1],O=t[E],P=t[E+1],R=$-S,k=_-A,C=O-S,M=P-A,I=(R*M-k*C)*2;if(Math.abs(I)<1e-9){if(o===void 0){o=a=0;for(const F of n)o+=t[F*2],a+=t[F*2+1];o/=n.length,a/=n.length}const N=1e9*Math.sign((o-S)*M-(a-A)*C);v=(S+O)/2-N*M,b=(A+P)/2+N*C}else{const N=1/I,F=R*R+k*k,L=C*C+M*M;v=S+(M*F-k*L)*N,b=A+(R*L-C*F)*N}s[m]=v,s[m+1]=b}let l=n[n.length-1],u,c=l*4,f,d=t[2*l],h,p=t[2*l+1];i.fill(0);for(let g=0;g<n.length;++g)l=n[g],u=c,f=d,h=p,c=l*4,d=t[2*l],p=t[2*l+1],i[u+2]=i[c]=h-p,i[u+3]=i[c+1]=d-f}render(t){const n=t==null?t=new Wf:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(d/3)*2,g=a[h],m=a[h+1],y=a[p],v=a[p+1];this._renderSegment(g,m,y,v,t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const f=Math.floor(i[u]/3)*2,d=a[f],h=a[f+1],p=l*4,g=this._project(d,h,s[p+2],s[p+3]);g&&this._renderSegment(d,h,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Wf:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Wf:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&n.lineTo(i[a],i[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new xR;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let a;const s=this._regioncode(t,n),l=this._regioncode(r,i);s===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(a=this._clipSegment(t,n,r,i,s,l))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,a=n.length;o<a;o+=2)for(let s=0,l=i.length;s<l;s+=2)if(n[o]===i[s]&&n[o+1]===i[s+1]&&n[(o+2)%a]===i[(s+l-2)%l]&&n[(o+3)%a]===i[(s+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[t];if(a===-1)return null;const s=[];let l=a;do{const u=Math.floor(l/3);if(s.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==a&&l!==-1);return s}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,a,s=n[r-2],l=n[r-1],u,c=this._regioncode(s,l),f,d=0;for(let h=0;h<r;h+=2)if(o=s,a=l,s=n[h],l=n[h+1],u=c,c=this._regioncode(s,l),u===0&&c===0)f=d,d=0,i?i.push(s,l):i=[s,l];else{let p,g,m,y,v;if(u===0){if((p=this._clipSegment(o,a,s,l,u,c))===null)continue;[g,m,y,v]=p}else{if((p=this._clipSegment(s,l,o,a,c,u))===null)continue;[y,v,g,m]=p,f=d,d=this._edgecode(g,m),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(g,m):i=[g,m]}f=d,d=this._edgecode(y,v),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(y,v):i=[y,v]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,a){const s=o<a;for(s&&([t,n,r,i,o,a]=[r,i,t,n,a,o]);;){if(o===0&&a===0)return s?[r,i,t,n]:[t,n,r,i];if(o&a)return null;let l,u,c=o||a;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=u,o=this._regioncode(t,n)):(r=l,i=u,a=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,a){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(l[0],l[1]),s=this._clipFinite(t,s))for(let u=0,c=s.length,f,d=this._edgecode(s[c-2],s[c-1]);u<c;u+=2)f=d,d=this._edgecode(s[u],s[u+1]),f&&d&&(u=this._edge(t,f,d,s,u),c=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,n,r,i,o){for(;n!==r;){let a,s;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,s=this.ymin;break}(i[o]!==a||i[o+1]!==s)&&this.contains(t,a,s)&&(i.splice(o,0,a,s),o+=2)}return o}_project(t,n,r,i){let o=1/0,a,s,l;if(i<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/i)<o&&(l=this.ymin,s=t+(o=a)*r)}else if(i>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/i)<o&&(l=this.ymax,s=t+(o=a)*r)}if(r>0){if(t>=this.xmax)return null;(a=(this.xmax-t)/r)<o&&(s=this.xmax,l=n+(o=a)*i)}else if(r<0){if(t<=this.xmin)return null;(a=(this.xmin-t)/r)<o&&(s=this.xmin,l=n+(o=a)*i)}return[s,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const pDe=2*Math.PI,Sh=Math.pow;function gDe(e){return e[0]}function mDe(e){return e[1]}function yDe(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],a=2*t[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}function vDe(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class CL{static from(t,n=gDe,r=mDe,i){return new CL("length"in t?bDe(t,n,r,i):Float64Array.from(xDe(t,n,r,i)))}constructor(t){this._delaunator=new b2(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&yDe(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,h=n.length/2;d<h;++d){const p=vDe(n[2*d],n[2*d+1],f);n[2*d]=p[0],n[2*d+1]=p[1]}this._delaunator=new b2(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||a[c]===-1)&&(a[c]=l)}for(let l=0,u=i.length;l<u;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new hDe(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:s}=this;if(s){const f=s.indexOf(t);f>0&&(yield s[f-1]),f<s.length-1&&(yield s[f+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=a[u],u=u%3===2?u-2:u+1,a[u]!==t)return;if(u=o[u],u===-1){const f=r[(i[t]+1)%r.length];f!==c&&(yield f);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:s,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,f=Sh(n-u[t*2],2)+Sh(r-u[t*2+1],2);const d=i[t];let h=d;do{let p=l[h];const g=Sh(n-u[p*2],2)+Sh(r-u[p*2+1],2);if(g<f&&(f=g,c=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=s[h],h===-1){if(h=o[(a[t]+1)%o.length],h!==p&&Sh(n-u[h*2],2)+Sh(r-u[h*2+1],2)<f)return h;break}}while(h!==d);return c}render(t){const n=t==null?t=new Wf:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,s=i.length;a<s;++a){const l=i[a];if(l<a)continue;const u=o[a]*2,c=o[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Wf:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const s=i[o],l=i[o+1];t.moveTo(s+n,l),t.arc(s,l,n,0,pDe)}return r&&r.value()}renderHull(t){const n=t==null?t=new Wf:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;t.moveTo(i[o],i[o+1]);for(let s=1;s<a;++s){const l=2*r[s];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new xR;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Wf:void 0,{points:i,triangles:o}=this,a=o[t*=3]*2,s=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[a],i[a+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new xR;return this.renderTriangle(t,n),n.value()}}function bDe(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const s=e[a];o[a*2]=t.call(r,s,a,e),o[a*2+1]=n.call(r,s,a,e)}return o}function*xDe(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function kL(e){U.call(this,null,e)}kL.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const wDe=[-1e5,-1e5,1e5,1e5];ie(kL,U,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:wDe;const o=this.value=CL.from(r,e.x,e.y).voronoi(i);for(let a=0,s=r.length;a<s;++a){const l=o.cellPolygon(a);r[a][n]=l&&!EDe(l)?SDe(l):null}return t.reflow(e.modified()).modifies(n)}});function SDe(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function EDe(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const _De=Object.freeze(Object.defineProperty({__proto__:null,voronoi:kL},Symbol.toStringTag,{value:"Module"}));var _P=Math.PI/180,h0=64,mS=2048;function ADe(){var e=[256,256],t,n,r,i,o,a,s,l=mae,u=[],c=Math.random,f={};f.layout=function(){for(var p=d(vc()),g=TDe((e[0]>>5)*e[1]),m=null,y=u.length,v=-1,b=[],x=u.map(E=>({text:t(E),font:n(E),style:i(E),weight:o(E),rotate:a(E),size:~~(r(E)+1e-14),padding:s(E),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:E})).sort((E,S)=>S.size-E.size);++v<y;){var w=x[v];w.x=e[0]*(c()+.5)>>1,w.y=e[1]*(c()+.5)>>1,$De(p,w,x,v),w.hasText&&h(g,w,m)&&(b.push(w),m?CDe(m,w):m=[{x:w.x+w.x0,y:w.y+w.y0},{x:w.x+w.x1,y:w.y+w.y1}],w.x-=e[0]>>1,w.y-=e[1]>>1)}return b};function d(p){p.width=p.height=1;var g=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(h0<<5)/g,p.height=mS/g;var m=p.getContext("2d");return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:g}}function h(p,g,m){for(var y=g.x,v=g.y,b=Math.hypot(e[0],e[1]),x=l(e),w=c()<.5?1:-1,E=-w,S,A,$;(S=x(E+=w))&&(A=~~S[0],$=~~S[1],!(Math.min(Math.abs(A),Math.abs($))>=b));)if(g.x=y+A,g.y=v+$,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!m||!ODe(g,p,e[0]))&&(!m||kDe(g,m))){for(var _=g.sprite,O=g.width>>5,P=e[0]>>5,R=g.x-(O<<4),k=R&127,C=32-k,M=g.y1-g.y0,I=(g.y+g.y0)*P+(R>>5),N,F=0;F<M;F++){N=0;for(var L=0;L<=O;L++)p[I+L]|=N<<C|(L<O?(N=_[F*O+L])>>>k:0);I+=P}return g.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(u=p,f):u},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=ff(p),f):n},f.fontStyle=function(p){return arguments.length?(i=ff(p),f):i},f.fontWeight=function(p){return arguments.length?(o=ff(p),f):o},f.rotate=function(p){return arguments.length?(a=ff(p),f):a},f.text=function(p){return arguments.length?(t=ff(p),f):t},f.spiral=function(p){return arguments.length?(l=MDe[p]||p,f):l},f.fontSize=function(p){return arguments.length?(r=ff(p),f):r},f.padding=function(p){return arguments.length?(s=ff(p),f):s},f.random=function(p){return arguments.length?(c=p,f):c},f}function $De(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(h0<<5)/o,mS/o);var a=0,s=0,l=0,u=n.length,c,f,d,h,p;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=i.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var g=Math.sin(t.rotate*_P),m=Math.cos(t.rotate*_P),y=c*m,v=c*g,b=d*m,x=d*g;c=Math.max(Math.abs(y+x),Math.abs(y-x))+31>>5<<5,d=~~Math.max(Math.abs(v+b),Math.abs(v-b))}else c=c+31>>5<<5;if(d>l&&(l=d),a+c>=h0<<5&&(a=0,s+=l,l=0),s+d>=mS)break;i.translate((a+(c>>1))/o,(s+(d>>1))/o),t.rotate&&i.rotate(t.rotate*_P),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=d,t.xoff=a,t.yoff=s,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,a+=c}for(var w=i.getImageData(0,0,(h0<<5)/o,mS/o).data,E=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,d=t.y1-t.y0,h=0;h<d*f;h++)E[h]=0;if(a=t.xoff,a==null)return;s=t.yoff;var S=0,A=-1;for(p=0;p<d;p++){for(h=0;h<c;h++){var $=f*p+(h>>5),_=w[(s+p)*(h0<<5)+(a+h)<<2]?1<<31-h%32:0;E[$]|=_,S|=_}S?A=p:(t.y0++,d--,p--,s++)}t.y1=t.y0+A,t.sprite=E.slice(0,(t.y1-t.y0)*f)}}}function ODe(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),a=o&127,s=32-a,l=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),c,f=0;f<l;f++){c=0;for(var d=0;d<=i;d++)if((c<<s|(d<i?(c=r[f*i+d])>>>a:0))&t[u+d])return!0;u+=n}return!1}function CDe(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function kDe(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function mae(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function PDe(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var a=o<0?-1:1;switch(Math.sqrt(1+4*a*o)-a&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function TDe(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function ff(e){return typeof e=="function"?e:function(){return e}}var MDe={archimedean:mae,rectangular:PDe};const yae=["x","y","font","fontSize","fontStyle","fontWeight","angle"],NDe=["text","font","rotate","fontSize","fontStyle","fontWeight"];function PL(e){U.call(this,ADe(),e)}PL.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:yae}]};ie(PL,U,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&G("Wordcloud size dimensions must be non-zero.");function n(p){const g=e[p];return Re(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||NDe.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,a=e.as||yae;let s=e.fontSize||14,l;if(Re(s)?l=e.fontSizeRange:s=Dr(s),l){const p=s,g=rt("sqrt")().domain(Rs(i,p)).range(l);s=m=>g(p(m))}i.forEach(p=>{p[a[0]]=NaN,p[a[1]]=NaN,p[a[3]]=0});const u=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(s).random(Uo).layout(),c=o.size(),f=c[0]>>1,d=c[1]>>1,h=u.length;for(let p=0,g,m;p<h;++p)g=u[p],m=g.datum,m[a[0]]=g.x+f,m[a[1]]=g.y+d,m[a[2]]=g.font,m[a[3]]=g.size,m[a[4]]=g.style,m[a[5]]=g.weight,m[a[6]]=g.rotate;return t.reflow(r).modifies(a)}});const RDe=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:PL},Symbol.toStringTag,{value:"Module"})),DDe=e=>new Uint8Array(e),IDe=e=>new Uint16Array(e),z0=e=>new Uint32Array(e);function FDe(){let e=8,t=[],n=z0(0),r=lw(0,e),i=lw(0,e);return{data:()=>t,seen:()=>n=jDe(n,t.length),add(o){for(let a=0,s=t.length,l=o.length,u;a<l;++a)u=o[a],u._index=s++,t.push(u)},remove(o,a){const s=t.length,l=Array(s-o),u=t;let c,f,d;for(f=0;!a[f]&&f<s;++f)l[f]=t[f],u[f]=f;for(d=f;f<s;++f)c=t[f],a[f]?u[f]=-1:(u[f]=d,r[d]=r[f],i[d]=i[f],l[d]=c,c._index=d++),r[f]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,a){r[o]|=a},clear(o,a){r[o]&=~a},resize(o,a){const s=r.length;(o>s||a>e)&&(e=Math.max(a,e),r=lw(o,e,r),i=lw(o,e))}}}function jDe(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function lw(e,t,n){const r=(t<257?DDe:t<65537?IDe:z0)(e);return n&&r.set(n),r}function BU(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const a=this,s=a.bisect(a.range,i.value),l=i.index,u=s[0],c=s[1],f=l.length;let d;for(d=0;d<u;++d)o[l[d]]|=r;for(d=c;d<f;++d)o[l[d]]|=r;return a}}}function UU(){let e=z0(0),t=[],n=0;function r(s,l,u){if(!l.length)return[];const c=n,f=l.length,d=z0(f);let h=Array(f),p,g,m;for(m=0;m<f;++m)h[m]=s(l[m]),d[m]=m;if(h=LDe(h,d),c)p=t,g=e,t=Array(c+f),e=z0(c+f),zDe(u,p,g,c,h,d,f,t,e);else{if(u>0)for(m=0;m<f;++m)d[m]+=u;t=h,e=d}return n=c+f,{index:d,value:h}}function i(s,l){const u=n;let c,f,d;for(f=0;!l[e[f]]&&f<u;++f);for(d=f;f<u;++f)l[c=e[f]]||(e[d]=c,t[d]=t[f],++d);n=u-s}function o(s){for(let l=0,u=n;l<u;++l)e[l]=s[e[l]]}function a(s,l){let u;return l?u=l.length:(l=t,u=n),[zwe(l,s[0],0,u),Ql(l,s[1],0,u)]}return{insert:r,remove:i,bisect:a,reindex:o,index:()=>e,size:()=>n}}function LDe(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),Wwe(e,t)}function zDe(e,t,n,r,i,o,a,s,l){let u=0,c=0,f;for(f=0;u<r&&c<a;++f)t[u]<i[c]?(s[f]=t[u],l[f]=n[u++]):(s[f]=i[c],l[f]=o[c++]+e);for(;u<r;++u,++f)s[f]=t[u],l[f]=n[u];for(;c<a;++c,++f)s[f]=i[c],l[f]=o[c]+e}function TL(e){U.call(this,FDe(),e),this._indices=null,this._dims=null}TL.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ie(TL,U,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],a=r.length;let s=0,l,u;for(;s<a;++s)l=n[s].fname,u=i[l]||(i[l]=UU()),o.push(BU(u,s,r[s]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,a=this._dims,s=this.value,l=s.curr(),u=s.prev(),c=s.all(),f=n.rem=n.add,d=n.mod,h=i.length,p={};let g,m,y,v,b,x,w,E,S;if(u.set(l),t.rem.length&&(b=this.remove(e,t,n)),t.add.length&&s.add(t.add),t.mod.length)for(x={},v=t.mod,w=0,E=v.length;w<E;++w)x[v[w]._index]=1;for(w=0;w<h;++w)S=r[w],(!a[w]||e.modified("fields",w)||t.modified(S.fields))&&(y=S.fname,(g=p[y])||(o[y]=m=UU(),p[y]=g=m.insert(S,t.source,0)),a[w]=BU(m,w,i[w]).onAdd(g,l));for(w=0,E=s.data().length;w<E;++w)b[w]||(u[w]!==l[w]?f.push(w):x[w]&&l[w]!==c&&d.push(w));return s.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,a=this._indices,s=e.fields,l={},u=n.add,c=i.size()+r.length,f=o.length;let d=i.size(),h,p,g;i.resize(c,f),i.add(r);const m=i.curr(),y=i.prev(),v=i.all();for(h=0;h<f;++h)p=s[h].fname,g=l[p]||(l[p]=a[p].insert(s[h],r,d)),o[h].onAdd(g,m);for(;d<c;++d)y[d]=v,m[d]!==v&&u.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),a=e.mod;let s,l,u;for(s=0,l=a.length;s<l;++s)u=a[s]._index,i[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),a=i.prev(),s=i.all(),l={},u=n.rem,c=t.rem;let f,d,h,p;for(f=0,d=c.length;f<d;++f)h=c[f]._index,l[h]=1,a[h]=p=o[h],o[h]=s,p!==s&&u.push(h);for(h in r)r[h].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const a in r)r[a].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,a=r.length;let s=0,l,u;for(n.filters=0,u=0;u<a;++u)e.modified("query",u)&&(l=u,++s);if(s===1)s=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,s=0;u<a;++u)e.modified("query",u)&&(s|=r[u].one,this.incrementAll(r[u],i[u],o,n.add),n.rem=n.add);return s},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),a=i.curr(),s=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],h=u[0],p=u[1],g=e.one;let m,y,v;if(f<h)for(m=f,y=Math.min(h,d);m<y;++m)v=l[m],o[v]!==n&&(s[v]=a[v],o[v]=n,r.push(v)),a[v]^=g;else if(f>h)for(m=h,y=Math.min(f,p);m<y;++m)v=l[m],o[v]!==n&&(s[v]=a[v],o[v]=n,r.push(v)),a[v]^=g;if(d>p)for(m=Math.max(f,p),y=d;m<y;++m)v=l[m],o[v]!==n&&(s[v]=a[v],o[v]=n,r.push(v)),a[v]^=g;else if(d<p)for(m=Math.max(h,d),y=p;m<y;++m)v=l[m],o[v]!==n&&(s[v]=a[v],o[v]=n,r.push(v)),a[v]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),a=e.index(),s=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],f=s[0],d=s[1],h=e.one;let p,g,m;if(u<f)for(p=u,g=Math.min(f,c);p<g;++p)m=a[p],o[m]^=h,n.push(m);else if(u>f)for(p=f,g=Math.min(u,d);p<g;++p)m=a[p],o[m]^=h,r.push(m);if(c>d)for(p=Math.max(u,d),g=c;p<g;++p)m=a[p],o[m]^=h,n.push(m);else if(c<d)for(p=Math.max(f,c),g=d;p<g;++p)m=a[p],o[m]^=h,r.push(m);e.range=t.slice()}});function ML(e){U.call(this,null,e)}ML.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ie(ML,U,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const o=t.fork(t.ALL),a=r.data(),s=r.curr(),l=r.prev(),u=c=>s[c]&n?null:a[c];return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,c=>{const f=s[c]&n;return!f&&f^l[c]&n?a[c]:null}),o.filter(o.REM,c=>{const f=s[c]&n;return f&&!(f^(f^l[c]&n))?a[c]:null})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(s[c]&n)===i?a[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const BDe=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:TL,resolvefilter:ML},Symbol.toStringTag,{value:"Module"})),UDe="RawCode",$d="Literal",WDe="Property",qDe="Identifier",HDe="ArrayExpression",GDe="BinaryExpression",vae="CallExpression",VDe="ConditionalExpression",XDe="LogicalExpression",KDe="MemberExpression",YDe="ObjectExpression",QDe="UnaryExpression";function La(e){this.type=e}La.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=JDe(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function JDe(e){switch(e.type){case HDe:return e.elements;case GDe:case XDe:return[e.left,e.right];case vae:return[e.callee].concat(e.arguments);case VDe:return[e.test,e.consequent,e.alternate];case KDe:return[e.object,e.property];case YDe:return e.properties;case WDe:return[e.key,e.value];case QDe:return[e.argument];case qDe:case $d:case UDe:default:return[]}}var Ks,me,q,Tr,dt,d$=1,$b=2,Od=3,Qc=4,h$=5,Jd=6,hi=7,Ob=8,ZDe=9;Ks={};Ks[d$]="Boolean";Ks[$b]="<end>";Ks[Od]="Identifier";Ks[Qc]="Keyword";Ks[h$]="Null";Ks[Jd]="Numeric";Ks[hi]="Punctuator";Ks[Ob]="String";Ks[ZDe]="RegularExpression";var eIe="ArrayExpression",tIe="BinaryExpression",nIe="CallExpression",rIe="ConditionalExpression",bae="Identifier",iIe="Literal",oIe="LogicalExpression",aIe="MemberExpression",sIe="ObjectExpression",lIe="Property",uIe="UnaryExpression",Bn="Unexpected token %0",cIe="Unexpected number",fIe="Unexpected string",dIe="Unexpected identifier",hIe="Unexpected reserved word",pIe="Unexpected end of input",wR="Invalid regular expression",AP="Invalid regular expression: missing /",xae="Octal literals are not allowed in strict mode.",gIe="Duplicate data property in object literal not allowed in strict mode",ar="ILLEGAL",Uv="Disabled.",mIe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),yIe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function p$(e,t){if(!e)throw new Error("ASSERT: "+t)}function xl(e){return e>=48&&e<=57}function NL(e){return"0123456789abcdefABCDEF".includes(e)}function B0(e){return"01234567".includes(e)}function vIe(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function Wv(e){return e===10||e===13||e===8232||e===8233}function Cb(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&mIe.test(String.fromCharCode(e))}function x2(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&yIe.test(String.fromCharCode(e))}const bIe={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function wae(){for(;q<Tr;){const e=me.charCodeAt(q);if(vIe(e)||Wv(e))++q;else break}}function SR(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)q<Tr&&NL(me[q])?(r=me[q++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):et({},Bn,ar);return String.fromCharCode(i)}function xIe(){var e,t,n,r;for(e=me[q],t=0,e==="}"&&et({},Bn,ar);q<Tr&&(e=me[q++],!!NL(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&et({},Bn,ar),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function Sae(){var e,t;for(e=me.charCodeAt(q++),t=String.fromCharCode(e),e===92&&(me.charCodeAt(q)!==117&&et({},Bn,ar),++q,e=SR("u"),(!e||e==="\\"||!Cb(e.charCodeAt(0)))&&et({},Bn,ar),t=e);q<Tr&&(e=me.charCodeAt(q),!!x2(e));)++q,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),me.charCodeAt(q)!==117&&et({},Bn,ar),++q,e=SR("u"),(!e||e==="\\"||!x2(e.charCodeAt(0)))&&et({},Bn,ar),t+=e);return t}function wIe(){var e,t;for(e=q++;q<Tr;){if(t=me.charCodeAt(q),t===92)return q=e,Sae();if(x2(t))++q;else break}return me.slice(e,q)}function SIe(){var e,t,n;return e=q,t=me.charCodeAt(q)===92?Sae():wIe(),t.length===1?n=Od:bIe.hasOwnProperty(t)?n=Qc:t==="null"?n=h$:t==="true"||t==="false"?n=d$:n=Od,{type:n,value:t,start:e,end:q}}function $P(){var e=q,t=me.charCodeAt(q),n,r=me[q],i,o,a;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++q,{type:hi,value:String.fromCharCode(t),start:e,end:q};default:if(n=me.charCodeAt(q+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return q+=2,{type:hi,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:q};case 33:case 61:return q+=2,me.charCodeAt(q)===61&&++q,{type:hi,value:me.slice(e,q),start:e,end:q}}}if(a=me.substr(q,4),a===">>>=")return q+=4,{type:hi,value:a,start:e,end:q};if(o=a.substr(0,3),o===">>>"||o==="<<="||o===">>=")return q+=3,{type:hi,value:o,start:e,end:q};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return q+=2,{type:hi,value:i,start:e,end:q};if(i==="//"&&et({},Bn,ar),"<>=!+-*%&|^/".includes(r))return++q,{type:hi,value:r,start:e,end:q};et({},Bn,ar)}function EIe(e){let t="";for(;q<Tr&&NL(me[q]);)t+=me[q++];return t.length===0&&et({},Bn,ar),Cb(me.charCodeAt(q))&&et({},Bn,ar),{type:Jd,value:parseInt("0x"+t,16),start:e,end:q}}function _Ie(e){let t="0"+me[q++];for(;q<Tr&&B0(me[q]);)t+=me[q++];return(Cb(me.charCodeAt(q))||xl(me.charCodeAt(q)))&&et({},Bn,ar),{type:Jd,value:parseInt(t,8),octal:!0,start:e,end:q}}function WU(){var e,t,n;if(n=me[q],p$(xl(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=q,e="",n!=="."){if(e=me[q++],n=me[q],e==="0"){if(n==="x"||n==="X")return++q,EIe(t);if(B0(n))return _Ie(t);n&&xl(n.charCodeAt(0))&&et({},Bn,ar)}for(;xl(me.charCodeAt(q));)e+=me[q++];n=me[q]}if(n==="."){for(e+=me[q++];xl(me.charCodeAt(q));)e+=me[q++];n=me[q]}if(n==="e"||n==="E")if(e+=me[q++],n=me[q],(n==="+"||n==="-")&&(e+=me[q++]),xl(me.charCodeAt(q)))for(;xl(me.charCodeAt(q));)e+=me[q++];else et({},Bn,ar);return Cb(me.charCodeAt(q))&&et({},Bn,ar),{type:Jd,value:parseFloat(e),start:t,end:q}}function AIe(){var e="",t,n,r,i,o=!1;for(t=me[q],p$(t==="'"||t==='"',"String literal must starts with a quote"),n=q,++q;q<Tr;)if(r=me[q++],r===t){t="";break}else if(r==="\\")if(r=me[q++],!r||!Wv(r.charCodeAt(0)))switch(r){case"u":case"x":me[q]==="{"?(++q,e+=xIe()):e+=SR(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:B0(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),q<Tr&&B0(me[q])&&(o=!0,i=i*8+"01234567".indexOf(me[q++]),"0123".includes(r)&&q<Tr&&B0(me[q])&&(i=i*8+"01234567".indexOf(me[q++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&me[q]===`
`&&++q;else{if(Wv(r.charCodeAt(0)))break;e+=r}return t!==""&&et({},Bn,ar),{type:Ob,value:e,octal:o,start:n,end:q}}function $Ie(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";et({},wR)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{et({},wR)}try{return new RegExp(e,t)}catch{return null}}function OIe(){var e,t,n,r,i;for(e=me[q],p$(e==="/","Regular expression literal must start with a slash"),t=me[q++],n=!1,r=!1;q<Tr;)if(e=me[q++],t+=e,e==="\\")e=me[q++],Wv(e.charCodeAt(0))&&et({},AP),t+=e;else if(Wv(e.charCodeAt(0)))et({},AP);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||et({},AP),i=t.substr(1,t.length-2),{value:i,literal:t}}function CIe(){var e,t,n;for(t="",n="";q<Tr&&(e=me[q],!!x2(e.charCodeAt(0)));)++q,e==="\\"&&q<Tr?et({},Bn,ar):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&et({},wR,n),{value:n,literal:t}}function kIe(){var e,t,n,r;return dt=null,wae(),e=q,t=OIe(),n=CIe(),r=$Ie(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:q}}function PIe(e){return e.type===Od||e.type===Qc||e.type===d$||e.type===h$}function Eae(){if(wae(),q>=Tr)return{type:$b,start:q,end:q};const e=me.charCodeAt(q);return Cb(e)?SIe():e===40||e===41||e===59?$P():e===39||e===34?AIe():e===46?xl(me.charCodeAt(q+1))?WU():$P():xl(e)?WU():$P()}function mi(){const e=dt;return q=e.end,dt=Eae(),q=e.end,e}function _ae(){const e=q;dt=Eae(),q=e}function TIe(e){const t=new La(eIe);return t.elements=e,t}function qU(e,t,n){const r=new La(e==="||"||e==="&&"?oIe:tIe);return r.operator=e,r.left=t,r.right=n,r}function MIe(e,t){const n=new La(nIe);return n.callee=e,n.arguments=t,n}function NIe(e,t,n){const r=new La(rIe);return r.test=e,r.consequent=t,r.alternate=n,r}function RL(e){const t=new La(bae);return t.name=e,t}function p0(e){const t=new La(iIe);return t.value=e.value,t.raw=me.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function HU(e,t,n){const r=new La(aIe);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function RIe(e){const t=new La(sIe);return t.properties=e,t}function GU(e,t,n){const r=new La(lIe);return r.key=t,r.value=n,r.kind=e,r}function DIe(e,t){const n=new La(uIe);return n.operator=e,n.argument=t,n.prefix=!0,n}function et(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,a)=>(p$(a<r.length,"Message reference must be in range"),r[a]));throw n=new Error(i),n.index=q,n.description=i,n}function g$(e){e.type===$b&&et(e,pIe),e.type===Jd&&et(e,cIe),e.type===Ob&&et(e,fIe),e.type===Od&&et(e,dIe),e.type===Qc&&et(e,hIe),et(e,Bn,e.value)}function Mr(e){const t=mi();(t.type!==hi||t.value!==e)&&g$(t)}function jt(e){return dt.type===hi&&dt.value===e}function OP(e){return dt.type===Qc&&dt.value===e}function IIe(){const e=[];for(q=dt.start,Mr("[");!jt("]");)jt(",")?(mi(),e.push(null)):(e.push(Cd()),jt("]")||Mr(","));return mi(),TIe(e)}function VU(){q=dt.start;const e=mi();return e.type===Ob||e.type===Jd?(e.octal&&et(e,xae),p0(e)):RL(e.value)}function FIe(){var e,t,n,r;if(q=dt.start,e=dt,e.type===Od)return n=VU(),Mr(":"),r=Cd(),GU("init",n,r);if(e.type===$b||e.type===hi)g$(e);else return t=VU(),Mr(":"),r=Cd(),GU("init",t,r)}function jIe(){var e=[],t,n,r,i={},o=String;for(q=dt.start,Mr("{");!jt("}");)t=FIe(),t.key.type===bae?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?et({},gIe):i[r]=!0,e.push(t),jt("}")||Mr(",");return Mr("}"),RIe(e)}function LIe(){Mr("(");const e=DL();return Mr(")"),e}const zIe={if:1};function BIe(){var e,t,n;if(jt("("))return LIe();if(jt("["))return IIe();if(jt("{"))return jIe();if(e=dt.type,q=dt.start,e===Od||zIe[dt.value])n=RL(mi().value);else if(e===Ob||e===Jd)dt.octal&&et(dt,xae),n=p0(mi());else{if(e===Qc)throw new Error(Uv);e===d$?(t=mi(),t.value=t.value==="true",n=p0(t)):e===h$?(t=mi(),t.value=null,n=p0(t)):jt("/")||jt("/=")?(n=p0(kIe()),_ae()):g$(mi())}return n}function UIe(){const e=[];if(Mr("("),!jt(")"))for(;q<Tr&&(e.push(Cd()),!jt(")"));)Mr(",");return Mr(")"),e}function WIe(){q=dt.start;const e=mi();return PIe(e)||g$(e),RL(e.value)}function qIe(){return Mr("."),WIe()}function HIe(){Mr("[");const e=DL();return Mr("]"),e}function GIe(){var e,t,n;for(e=BIe();;)if(jt("."))n=qIe(),e=HU(".",e,n);else if(jt("("))t=UIe(),e=MIe(e,t);else if(jt("["))n=HIe(),e=HU("[",e,n);else break;return e}function XU(){const e=GIe();if(dt.type===hi&&(jt("++")||jt("--")))throw new Error(Uv);return e}function yS(){var e,t;if(dt.type!==hi&&dt.type!==Qc)t=XU();else{if(jt("++")||jt("--"))throw new Error(Uv);if(jt("+")||jt("-")||jt("~")||jt("!"))e=mi(),t=yS(),t=DIe(e.value,t);else{if(OP("delete")||OP("void")||OP("typeof"))throw new Error(Uv);t=XU()}}return t}function KU(e){let t=0;if(e.type!==hi&&e.type!==Qc)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function VIe(){var e,t,n,r,i,o,a,s,l,u;if(e=dt,l=yS(),r=dt,i=KU(r),i===0)return l;for(r.prec=i,mi(),t=[e,dt],a=yS(),o=[l,r,a];(i=KU(dt))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,l=o.pop(),t.pop(),n=qU(s,l,a),o.push(n);r=mi(),r.prec=i,o.push(r),t.push(dt),n=yS(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=qU(o[u-1].value,o[u-2],n),u-=2;return n}function Cd(){var e,t,n;return e=VIe(),jt("?")&&(mi(),t=Cd(),Mr(":"),n=Cd(),e=NIe(e,t,n)),e}function DL(){const e=Cd();if(jt(","))throw new Error(Uv);return e}function IL(e){me=e,q=0,Tr=me.length,dt=null,_ae();const t=DL();if(dt.type!==$b)throw new Error("Unexpect token after expression.");return t}var Aae={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function $ae(e){function t(a,s,l,u){let c=e(s[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+a+(u<0?"":u===0?"()":"("+s.slice(1).map(e).join(",")+")")}function n(a,s,l){return u=>t(a,u,s,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(a){a.length<3&&G("Missing arguments to clamp function."),a.length>3&&G("Too many arguments to clamp function.");const s=a.map(e);return"Math.max("+s[1]+", Math.min("+s[2]+","+s[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:o,test:n("test",o),if:function(a){a.length<3&&G("Missing arguments to if function."),a.length>3&&G("Too many arguments to if function.");const s=a.map(e);return"("+s[0]+"?"+s[1]+":"+s[2]+")"}}}function XIe(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function Oae(e){e=e||{};const t=e.allowed?Ma(e.allowed):{},n=e.forbidden?Ma(e.forbidden):{},r=e.constants||Aae,i=(e.functions||$ae)(f),o=e.globalvar,a=e.fieldvar,s=Re(o)?o:p=>`${o}["${p}"]`;let l={},u={},c=0;function f(p){if(se(p))return p;const g=d[p.type];return g==null&&G("Unsupported type: "+p.type),g(p)}const d={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return c>0?g:de(n,g)?G("Illegal identifier: "+g):de(r,g)?r[g]:de(t,g)?g:(l[g]=1,s(g))},MemberExpression:p=>{const g=!p.computed,m=f(p.object);g&&(c+=1);const y=f(p.property);return m===a&&(u[XIe(y)]=1),g&&(c-=1),m+(g?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&G("Illegal callee type: "+p.callee.type);const g=p.callee.name,m=p.arguments,y=de(i,g)&&i[g];return y||G("Unrecognized function: "+g),Re(y)?y(m):y+"("+m.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{c+=1;const g=f(p.key);return c-=1,g+":"+f(p.value)}};function h(p){const g={code:f(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},g}return h.functions=i,h.constants=r,h}const YU=Symbol("vega_selection_getter");function Cae(e){return(!e.getter||!e.getter[YU])&&(e.getter=Lo(e.field),e.getter[YU]=!0),e.getter}const FL="intersect",QU="union",KIe="vlMulti",YIe="vlPoint",JU="or",QIe="and",cs="_vgsid_",qv=Lo(cs),JIe="E",ZIe="R",e3e="R-E",t3e="R-LE",n3e="R-RE",r3e="E-LT",i3e="E-LTE",o3e="E-GT",a3e="E-GTE",s3e="E-VALID",l3e="E-ONE",w2="index:unit";function ZU(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,a,s;o<i;++o)if(s=n[o],a=Cae(s)(e),gc(a)&&(a=Or(a)),gc(r[o])&&(r[o]=Or(r[o])),X(r[o])&&gc(r[o][0])&&(r[o]=r[o].map(Or)),s.type===JIe){if(X(r[o])?!r[o].includes(a):a!==r[o])return!1}else if(s.type===ZIe){if(!Jh(a,r[o]))return!1}else if(s.type===n3e){if(!Jh(a,r[o],!0,!1))return!1}else if(s.type===e3e){if(!Jh(a,r[o],!1,!1))return!1}else if(s.type===t3e){if(!Jh(a,r[o],!1,!0))return!1}else if(s.type===r3e){if(a>=r[o])return!1}else if(s.type===i3e){if(a>r[o])return!1}else if(s.type===o3e){if(a<=r[o])return!1}else if(s.type===a3e){if(a<r[o])return!1}else if(s.type===s3e){if(a===null||isNaN(a))return!1}else if(s.type===l3e&&r[o].indexOf(a)===-1)return!1;return!0}function u3e(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[w2]&&r[w2].value:void 0,a=n===FL,s=i.length,l=0,u,c,f,d,h;l<s;++l)if(u=i[l],o&&a){if(c=c||{},f=c[d=u.unit]||0,f===-1)continue;if(h=ZU(t,u),c[d]=h?-1:++f,h&&o.size===1)return!0;if(!h&&f===o.get(d).count)return!1}else if(h=ZU(t,u),a^h)return h;return s&&a}const kae=vm(qv),c3e=kae.left,f3e=kae.right;function d3e(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[w2]&&r[w2].value:void 0,a=n===FL,s=qv(t),l=c3e(i,s);if(l===i.length||qv(i[l])!==s)return!1;if(o&&a){if(o.size===1)return!0;if(f3e(i,s)-l<o.size)return!1}return!0}function h3e(e,t){return e.map(n=>Ne(t.fields?{values:t.fields.map(r=>Cae(r)(n.datum))}:{[cs]:qv(n.datum)},t))}function p3e(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],a={},s={},l={},u,c,f,d,h,p,g,m,y,v,b=o.length,x=0,w,E;x<b;++x)if(u=o[x],d=u.unit,c=u.fields,f=u.values,c&&f){for(w=0,E=c.length;w<E;++w)h=c[w],g=a[h.field]||(a[h.field]={}),m=g[d]||(g[d]=[]),l[h.field]=y=h.type.charAt(0),v=CP[`${y}_union`],g[d]=v(m,ue(f[w]));n&&(m=s[d]||(s[d]=[]),m.push(ue(f).reduce((S,A,$)=>(S[c[$].field]=A,S),{})))}else h=cs,p=qv(u),g=a[h]||(a[h]={}),m=g[d]||(g[d]=[]),m.push(p),n&&(m=s[d]||(s[d]=[]),m.push({[cs]:p}));if(t=t||QU,a[cs]?a[cs]=CP[`${cs}_${t}`](...Object.values(a[cs])):Object.keys(a).forEach(S=>{a[S]=Object.keys(a[S]).map(A=>a[S][A]).reduce((A,$)=>A===void 0?$:CP[`${l[S]}_${t}`](A,$))}),o=Object.keys(s),n&&o.length){const S=r?YIe:KIe;a[S]=t===QU?{[JU]:o.reduce((A,$)=>(A.push(...s[$]),A),[])}:{[QIe]:o.map(A=>({[JU]:s[A]}))}}return a}var CP={[`${cs}_union`]:Jwe,[`${cs}_intersect`]:Ywe,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=Or(t[0]),r=Or(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Or(t[0]),r=Or(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const g3e=":",m3e="@";function jL(e,t,n,r){t[0].type!==$d&&G("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&Ve(t).value,a="unit",s=m3e+a,l=g3e+i;o===FL&&!de(r,s)&&(r[s]=n.getData(i).indataRef(n,a)),de(r,l)||(r[l]=n.getData(i).tuplesRef())}function Pae(e){const t=this.context.data[e];return t?t.values.value:[]}function y3e(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function v3e(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(zo).insert(t)),1}function b3e(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const kb=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},x3e=kb("format"),Tae=kb("timeFormat"),w3e=kb("utcFormat"),S3e=kb("timeParse"),E3e=kb("utcParse"),uw=new Date(2e3,0,1);function m$(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(uw.setYear(2e3),uw.setMonth(e),uw.setDate(t),Tae.call(this,uw,n))}function _3e(e){return m$.call(this,e,1,"%B")}function A3e(e){return m$.call(this,e,1,"%b")}function $3e(e){return m$.call(this,0,2+e,"%A")}function O3e(e){return m$.call(this,0,2+e,"%a")}const C3e=":",k3e="@",ER="%",Mae="$";function LL(e,t,n,r){t[0].type!==$d&&G("First argument to data functions must be a string literal.");const i=t[0].value,o=C3e+i;if(!de(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function P3e(e,t,n,r){t[0].type!==$d&&G("First argument to indata must be a string literal."),t[1].type!==$d&&G("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,a=k3e+o;de(a,r)||(r[a]=n.getData(i).indataRef(n,o))}function ti(e,t,n,r){if(t[0].type===$d)eW(n,r,t[0].value);else for(e in n.scales)eW(n,r,e)}function eW(e,t,n){const r=ER+n;if(!de(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Ys(e,t){if(se(e)){const n=t.scales[e];return n&&n7(n.value)?n.value:void 0}else if(Re(e))return n7(e)?e:void 0}function T3e(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=ti,n._range=ti,n._scale=ti;const r=i=>"_["+(i.type===$d?re(ER+i.value):re(ER)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function zL(e,t){return function(n,r,i){if(n){const o=Ys(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const M3e=zL("area",QPe),N3e=zL("bounds",tTe),R3e=zL("centroid",sTe);function D3e(e,t){const n=Ys(e,(t||this).context);return n&&n.scale()}function I3e(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function BL(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function F3e(){return BL(this.context.dataflow,"warn",arguments)}function j3e(){return BL(this.context.dataflow,"info",arguments)}function L3e(){return BL(this.context.dataflow,"debug",arguments)}function kP(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _R(e){const t=Tc(e),n=kP(t.r),r=kP(t.g),i=kP(t.b);return .2126*n+.7152*r+.0722*i}function z3e(e,t){const n=_R(e),r=_R(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function B3e(){const e=[].slice.call(arguments);return e.unshift({}),Ne(...e)}function Nae(e,t){return e===t||e!==e&&t!==t?!0:X(e)?X(t)&&e.length===t.length?U3e(e,t):!1:le(e)&&le(t)?Rae(e,t):!1}function U3e(e,t){for(let n=0,r=e.length;n<r;++n)if(!Nae(e[n],t[n]))return!1;return!0}function Rae(e,t){for(const n in e)if(!Nae(e[n],t[n]))return!1;return!0}function tW(e){return t=>Rae(e,t)}function W3e(e,t,n,r,i,o){const a=this.context.dataflow,s=this.context.data[e],l=s.input,u=a.stamp();let c=s.changes,f,d;if(a._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(s.changes=c=a.changeset(),c.stamp=u,a.runAfter(()=>{s.modified=!0,a.pulse(l,c).run()},!0,1)),n&&(f=n===!0?zo:X(n)||xA(n)?n:tW(n),c.remove(f)),t&&c.insert(t),r&&(f=tW(r),l.value.some(f)?c.remove(f):c.insert(r)),i)for(d in o)c.modify(i,d,o[d]);return 1}function q3e(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function H3e(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const nW={};function G3e(e,t){const n=nW[t]||(nW[t]=Lo(t));return X(e)?e.map(n):n(e)}function y$(e){return X(e)||ArrayBuffer.isView(e)?e:null}function UL(e){return y$(e)||(se(e)?e:null)}function V3e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y$(e).join(...n)}function X3e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return UL(e).indexOf(...n)}function K3e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return UL(e).lastIndexOf(...n)}function Y3e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return UL(e).slice(...n)}function Q3e(e,t,n){return Re(n)&&G("Function argument passed to replace."),!se(t)&&!pF(t)&&G("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function J3e(e){return y$(e).slice().reverse()}function Z3e(e){return y$(e).slice().sort(mm)}function eFe(e,t,n){return tj(e||0,t||0,n||0)}function tFe(e,t){const n=Ys(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function nFe(e,t){const n=Ys(e,(t||this).context);return n?n.copy():void 0}function rFe(e,t){const n=Ys(e,(t||this).context);return n?n.domain():[]}function iFe(e,t,n){const r=Ys(e,(n||this).context);return r?X(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function oFe(e,t){const n=Ys(e,(t||this).context);return n&&n.range?n.range():[]}function aFe(e,t,n){const r=Ys(e,(n||this).context);return r?r(t):void 0}function sFe(e,t,n,r,i){e=Ys(e,(i||this).context);const o=$re(t,n);let a=e.domain(),s=a[0],l=Ve(a),u=Rr;return l-s?u=pre(e,s,l):e=(e.interpolator?rt("sequential")().interpolator(e.interpolator()):rt("linear")().interpolate(e.interpolate()).range(e.range())).domain([s=0,l=1]),e.ticks&&(a=e.ticks(+r||15),s!==a[0]&&a.unshift(s),l!==Ve(a)&&a.push(l)),a.forEach(c=>o.stop(u(c),e(c))),o}function lFe(e,t,n){const r=Ys(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function uFe(e){let t=null;return function(n){return n?Nv(n,t=t||ug(e)):e}}const Dae=e=>e.data;function Iae(e,t){const n=Pae.call(t,e);return n.root&&n.root.lookup||{}}function cFe(e,t,n){const r=Iae(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(Dae):void 0}function fFe(e,t){const n=Iae(e,this)[t];return n?n.ancestors().map(Dae):void 0}const Fae=()=>typeof window<"u"&&window||null;function dFe(){const e=Fae();return e?e.screen:{}}function hFe(){const e=Fae();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function pFe(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function jae(e,t,n){if(!e)return[];const[r,i]=e,o=new Sn().set(r[0],r[1],i[0],i[1]),a=n||this.context.dataflow.scenegraph().root;return Sie(a,o,gFe(t))}function gFe(e){let t=null;if(e){const n=ue(e.marktype),r=ue(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function mFe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=ue(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function yFe(e){return ue(e).reduce((t,n,r)=>{let[i,o]=n;return t+=r==0?`M ${i},${o} `:r===e.length-1?" Z":`L ${i},${o} `},"")}function vFe(e,t,n){const{x:r,y:i,mark:o}=n,a=new Sn().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<a.x1&&(a.x1=l),l>a.x2&&(a.x2=l),u<a.y1&&(a.y1=u),u>a.y2&&(a.y2=u);return a.translate(r,i),jae([[a.x1,a.y1],[a.x2,a.y2]],e,o).filter(l=>bFe(l.x,l.y,t))}function bFe(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[a,s]=n[o],[l,u]=n[i];u>t!=s>t&&e<(a-l)*(t-u)/(s-u)+l&&r++}return r&1}const Hv={random(){return Uo()},cumulativeNormal:AA,cumulativeLogNormal:UF,cumulativeUniform:GF,densityNormal:FF,densityLogNormal:BF,densityUniform:HF,quantileNormal:$A,quantileLogNormal:WF,quantileUniform:VF,sampleNormal:_A,sampleLogNormal:zF,sampleUniform:qF,isArray:X,isBoolean:Gc,isDate:gc,isDefined(e){return e!==void 0},isNumber:tt,isObject:le,isRegExp:pF,isString:se,isTuple:xA,isValid(e){return e!=null&&e===e},toBoolean:mF,toDate(e){return yF(e)},toNumber:Or,toString:vF,indexof:X3e,join:V3e,lastindexof:K3e,replace:Q3e,reverse:J3e,sort:Z3e,slice:Y3e,flush:UZ,lerp:qZ,merge:B3e,pad:VZ,peek:Ve,pluck:G3e,span:J1,inrange:Jh,truncate:XZ,rgb:Tc,lab:OE,hcl:CE,hsl:AE,luminance:_R,contrast:z3e,sequence:vi,format:x3e,utcFormat:w3e,utcParse:E3e,utcOffset:Oee,utcSequence:Pee,timeFormat:Tae,timeParse:S3e,timeOffset:$ee,timeSequence:kee,timeUnitSpecifier:gee,monthFormat:_3e,monthAbbrevFormat:A3e,dayFormat:$3e,dayAbbrevFormat:O3e,quarter:jZ,utcquarter:LZ,week:yee,utcweek:xee,dayofyear:mee,utcdayofyear:bee,warn:F3e,info:j3e,debug:L3e,extent(e){return Rs(e)},inScope:I3e,intersect:jae,clampRange:zZ,pinchDistance:q3e,pinchAngle:H3e,screen:dFe,containerSize:pFe,windowSize:hFe,bandspace:eFe,setdata:v3e,pathShape:uFe,panLinear:RZ,panLog:DZ,panPow:IZ,panSymlog:FZ,zoomLinear:uF,zoomLog:cF,zoomPow:cE,zoomSymlog:fF,encode:b3e,modify:W3e,lassoAppend:mFe,lassoPath:yFe,intersectLasso:vFe},xFe=["view","item","group","xy","x","y"],wFe="event.vega.",Lae="this.",WL={},zae={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${re(Mae+e)}]`,functions:SFe,constants:Aae,visitors:WL},AR=Oae(zae);function SFe(e){const t=$ae(e);xFe.forEach(n=>t[n]=wFe+n);for(const n in Hv)t[n]=Lae+n;return Ne(t,T3e(e,Hv,WL)),t}function pn(e,t,n){return arguments.length===1?Hv[e]:(Hv[e]=t,n&&(WL[e]=n),AR&&(AR.functions[e]=Lae+e),this)}pn("bandwidth",tFe,ti);pn("copy",nFe,ti);pn("domain",rFe,ti);pn("range",oFe,ti);pn("invert",iFe,ti);pn("scale",aFe,ti);pn("gradient",sFe,ti);pn("geoArea",M3e,ti);pn("geoBounds",N3e,ti);pn("geoCentroid",R3e,ti);pn("geoShape",lFe,ti);pn("geoScale",D3e,ti);pn("indata",y3e,P3e);pn("data",Pae,LL);pn("treePath",cFe,LL);pn("treeAncestors",fFe,LL);pn("vlSelectionTest",u3e,jL);pn("vlSelectionIdTest",d3e,jL);pn("vlSelectionResolve",p3e,jL);pn("vlSelectionTuples",h3e);function Ls(e,t){const n={};let r;try{e=se(e)?e:re(e)+"",r=IL(e)}catch{G("Expression parse error: "+e)}r.visit(o=>{if(o.type!==vae)return;const a=o.callee.name,s=zae.visitors[a];s&&s(a,o.arguments,t,n)});const i=AR(r);return i.globals.forEach(o=>{const a=Mae+o;!de(n,a)&&t.getSignal(o)&&(n[a]=t.signalRef(o))}),{$expr:Ne({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function EFe(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const _Fe=Ma(["rule"]),rW=Ma(["group","image","rect"]);function AFe(e,t){let n="";return _Fe[t]||(e.x2&&(e.x?(rW[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(rW[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function qL(e){return(e+"").toLowerCase()}function $Fe(e){return qL(e)==="operator"}function OFe(e){return qL(e)==="collect"}function Ay(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function CFe(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var kFe={operator:(e,t)=>Ay(e,["_"],t.code),parameter:(e,t)=>Ay(e,["datum","_"],t.code),event:(e,t)=>Ay(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return Ay(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const a="o["+re(o)+"]";i+=`$=${r[o].code};if(${a}!==$)${a}=$,m=1;`}return i+=AFe(r,n),i+="return m;",Ay(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(re).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,a)=>{const s=t[a];let l,u;return o.path?(l=`a${o.path}`,u=`b${o.path}`):((n=n||{})["f"+a]=o,l=`this.f${a}(a)`,u=`this.f${a}(b)`),CFe(l,u,-s,s)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function PFe(e){const t=this;$Fe(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function TFe(e){const t=this;if(e.params){const n=t.get(e.id);n||G("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function MFe(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=X(i)?i.map(o=>iW(o,n,t)):iW(i,n,t)}return t}function iW(e,t,n){if(!e||!le(e))return e;for(let r=0,i=oW.length,o;r<i;++r)if(o=oW[r],de(e,o.key))return o.parse(e,t,n);return e}var oW=[{key:"$ref",parse:NFe},{key:"$key",parse:DFe},{key:"$expr",parse:RFe},{key:"$field",parse:IFe},{key:"$encode",parse:jFe},{key:"$compare",parse:FFe},{key:"$context",parse:LFe},{key:"$subflow",parse:zFe},{key:"$tupleid",parse:BFe}];function NFe(e,t){return t.get(e.$ref)||G("Operator not defined: "+e.$ref)}function RFe(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=Ti(t.parameterExpression(e.$expr),e.$fields))}function DFe(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=gF(e.$key,e.$flat,t.expr.codegen))}function IFe(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Lo(e.$field,e.$name,t.expr.codegen))}function FFe(e,t){const n="c:"+e.$compare+"_"+e.$order,r=ue(e.$compare).map(i=>i&&i.$tupleid?xe:i);return t.fn[n]||(t.fn[n]=dF(r,e.$order,t.expr.codegen))}function jFe(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=Ti(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function LFe(e,t){return t}function zFe(e,t){const n=e.$subflow;return function(r,i,o){const a=t.fork().parse(n),s=a.get(n.operators[0].id),l=a.signals.parent;return l&&l.set(o),s.detachSubflow=()=>t.detach(a),s}}function BFe(){return xe}function UFe(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&G("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function WFe(e){var t=this,n=le(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,a=void 0;r||G("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(a=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,a)}const qFe={skip:!0};function HFe(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const a=t.signals[o];e.signals(o,a)&&(r[o]=a.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const a=t.data[o];e.data(o,a)&&(i[o]=a.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function GFe(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],qFe)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(zo).insert(r[o]))}),(e.subcontext||[]).forEach((o,a)=>{const s=t.subcontext[a];s&&s.setState(o)})}function Bae(e,t,n,r){return new Uae(e,t,n,r)}function Uae(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||kFe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function aW(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}Uae.prototype=aW.prototype={fork(){const e=new aW(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),OFe(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const a=n.data[o]||(n.data[o]={});e.data[o].forEach(s=>a[s]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[qL(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:EFe,parseOperator:PFe,parseOperatorParameters:TFe,parseParameters:MFe,parseStream:UFe,parseUpdate:WFe,getState:HFe,setState:GFe};function VFe(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),Wae(t,e.description()))}function Wae(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function XFe(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const PP="default";function KFe(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:PP,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?se(i)?i:i.user:PP,a=r.item&&r.item.cursor||null;return i&&o===i.user&&a==i.item?i:{user:o,item:a}}),e.add(null,function(n){let r=n.cursor,i=this.value;return se(r)||(i=r.item,r=r.user),$R(e,r&&r!==PP?r:i||r),i},{cursor:t})}function $R(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function S2(e,t){var n=e._runtime.data;return de(n,t)||G("Unrecognized data set: "+t),n[t]}function YFe(e,t){return arguments.length<2?S2(this,e).values.value:v$.call(this,e,Yd().remove(zo).insert(t))}function v$(e,t){rte(t)||G("Second argument to changes must be a changeset.");const n=S2(this,e);return n.modified=!0,this.pulse(n.input,t)}function QFe(e,t){return v$.call(this,e,Yd().insert(t))}function JFe(e,t){return v$.call(this,e,Yd().remove(t))}function qae(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function Hae(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function b$(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function ZFe(e){var t=b$(e),n=qae(e),r=Hae(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function e5e(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,a,s;return i&&(s=b$(e),a=t.changedTouches?t.changedTouches[0]:t,o=n$(a,i),o[0]-=s[0],o[1]-=s[1]),t.dataflow=e,t.item=n,t.vega=t5e(e,n,o),t}function t5e(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(a){var s=r,l;if(a){for(l=t;l;l=l.mark.group)if(l.mark.name===a){s=l;break}}return s&&s.mark&&s.mark.interactive?s:{}}function o(a){if(!a)return n;se(a)&&(a=i(a));const s=n.slice();for(;a;)s[0]-=a.x||0,s[1]-=a.y||0,a=a.mark&&a.mark.group;return s}return{view:Dr(e),item:Dr(t||{}),group:i,xy:o,x:a=>o(a)[0],y:a=>o(a)[1]}}const sW="view",n5e="timer",r5e="window",i5e={trap:!1};function o5e(e){const t=Ne({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{X(r[o])&&(r[o]=Ma(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function Gae(e,t,n,r){e._eventListeners.push({type:n,sources:ue(t),handler:r})}function a5e(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function cw(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||le(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function s5e(e,t,n){var r=this,i=new EA(n),o=function(u,c){r.runAsync(null,()=>{e===sW&&a5e(r,t)&&u.preventDefault(),i.receive(e5e(r,u,c))})},a;if(e===n5e)cw(r,"timer",t)&&r.timer(o,t);else if(e===sW)cw(r,"view",t)&&r.addEventListener(t,o,i5e);else if(e===r5e?cw(r,"window",t)&&typeof window<"u"&&(a=[window]):typeof document<"u"&&cw(r,"selector",t)&&(a=Array.from(document.querySelectorAll(e))),!a)r.warn("Can not resolve event source: "+e);else{for(var s=0,l=a.length;s<l;++s)a[s].addEventListener(t,o);Gae(r,a,t,o)}return i}function lW(e){return e.item}function uW(e){return e.item.mark.source}function cW(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function l5e(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",lW),uW,cW(e)),this.on(this.events("view","pointerout",lW),uW,cW(t)),this}function u5e(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,o,a,s,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(a=r[i],o=a.sources.length;--o>=0;)a.sources[o].removeEventListener(a.type,a.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,s=n[i].handler,this._handler.off(l,s);return this}function Zi(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const c5e="vega-bind",f5e="vega-bind-name",d5e="vega-bind-radio";function h5e(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:a=>{a!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,a)})}},r.debounce&&(i.update=hF(r.debounce,i.update))),(r.input==null&&r.element?p5e:m5e)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function p5e(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),Gae(r,t,i,o),e.set=a=>{t.value=a,t.dispatchEvent(g5e(i))}}function g5e(e){return typeof Event<"u"?new Event(e):{type:e}}function m5e(e,t,n,r){const i=r.signal(n.signal),o=Zi("div",{class:c5e}),a=n.input==="radio"?o:o.appendChild(Zi("label"));a.appendChild(Zi("span",{class:f5e},n.name||n.signal)),t.appendChild(o);let s=y5e;switch(n.input){case"checkbox":s=v5e;break;case"select":s=b5e;break;case"radio":s=x5e;break;case"range":s=w5e;break}s(e,a,n,i)}function y5e(e,t,n,r){const i=Zi("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function v5e(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=Zi("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=a=>o.checked=!!a||null}function b5e(e,t,n,r){const i=Zi("select",{name:n.signal}),o=n.labels||[];n.options.forEach((a,s)=>{const l={value:a};E2(a,r)&&(l.selected=!0),i.appendChild(Zi("option",l,(o[s]||a)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=a=>{for(let s=0,l=n.options.length;s<l;++s)if(E2(n.options[s],a)){i.selectedIndex=s;return}}}function x5e(e,t,n,r){const i=Zi("span",{class:d5e}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((a,s)=>{const l={type:"radio",name:n.signal,value:a};E2(a,r)&&(l.checked=!0);const u=Zi("input",l);u.addEventListener("change",()=>e.update(a));const c=Zi("label",{},(o[s]||a)+"");return c.prepend(u),i.appendChild(c),u}),e.set=a=>{const s=e.elements,l=s.length;for(let u=0;u<l;++u)E2(s[u].value,a)&&(s[u].checked=!0)}}function w5e(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,a=n.step||Oc(o,i,100),s=Zi("input",{type:"range",name:n.signal,min:o,max:i,step:a});s.value=r;const l=Zi("span",{},+r);t.appendChild(s),t.appendChild(l);const u=()=>{l.textContent=s.value,e.update(+s.value)};s.addEventListener("input",u),s.addEventListener("change",u),e.elements=[s],e.set=c=>{s.value=c,l.textContent=c}}function E2(e,t){return e===t||e+""==t+""}function Vae(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,qae(e),Hae(e),b$(e),i,o).background(e.background())}function HL(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function S5e(e,t,n,r){const i=new r(e.loader(),HL(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,b$(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function E5e(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=r$(r);e=n._el=e?TP(n,e,!0):null,VFe(n),o||n.error("Unrecognized renderer type: "+r);const a=o.handler||wb,s=e?o.renderer:o.headless;return n._renderer=s?Vae(n,n._renderer,e,s):null,n._handler=S5e(n,n._handler,e,a),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=TP(n,t,!0):e.appendChild(Zi("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=TP(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{h5e(n,l.element||t,l)})),n}function TP(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const $y=e=>+e||0,_5e=e=>({top:e,bottom:e,left:e,right:e});function fW(e){return le(e)?{top:$y(e.top),bottom:$y(e.bottom),left:$y(e.left),right:$y(e.right)}:_5e($y(e))}async function GL(e,t,n,r){const i=r$(t),o=i&&i.headless;return o||G("Unrecognized renderer type: "+t),await e.runAsync(),Vae(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function A5e(e,t){e!==Zu.Canvas&&e!==Zu.SVG&&e!==Zu.PNG&&G("Unrecognized image type: "+e);const n=await GL(this,e,t);return e===Zu.SVG?$5e(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function $5e(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function O5e(e,t){return(await GL(this,Zu.Canvas,e,t)).canvas()}async function C5e(e){return(await GL(this,Zu.SVG,e)).svg()}function k5e(e,t,n){return Bae(e,rg,Hv,n).parse(t)}function P5e(e){var t=this._runtime.scales;return de(t,e)||G("Unrecognized scale or projection: "+e),t[e].value}var Xae="width",Kae="height",VL="padding",dW={skip:!0};function Yae(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===VL?r.left+r.right:0)}function Qae(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===VL?r.top+r.bottom:0)}function T5e(e){var t=e._signals,n=t[Xae],r=t[Kae],i=t[VL];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,s=>{e._width=s.size,e._viewWidth=Yae(e,s.size),o()},{size:n}),e._resizeHeight=e.add(null,s=>{e._height=s.size,e._viewHeight=Qae(e,s.size),o()},{size:r});const a=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}function M5e(e,t,n,r,i,o){this.runAfter(a=>{let s=0;a._autosize=0,a.width()!==n&&(s=1,a.signal(Xae,n,dW),a._resizeWidth.skip(!0)),a.height()!==r&&(s=1,a.signal(Kae,r,dW),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),(a._origin[0]!==i[0]||a._origin[1]!==i[1])&&(a._resize=1,a._origin=i),s&&a.run("enter"),o&&a.runAfter(l=>l.resize())},!1,1)}function N5e(e){return this._runtime.getState(e||{data:R5e,signals:D5e,recurse:!0})}function R5e(e,t){return t.modified&&X(t.input.value)&&!e.startsWith("_:vega:_")}function D5e(e,t){return!(e==="parent"||t instanceof rg.proxy)}function I5e(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function F5e(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(lNe(n,t))}function j5e(e,t,n,r){const i=e.element();i&&i.setAttribute("title",L5e(r))}function L5e(e){return e==null?"":X(e)?Jae(e):le(e)&&!gc(e)?z5e(e):e+""}function z5e(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(X(n)?Jae(n):Zae(n))}).join(`
`)}function Jae(e){return"["+e.map(Zae).join(", ")+"]"}function Zae(e){return X(e)?"[]":le(e)&&!gc(e)?"{}":e}function B5e(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function ese(e,t){const n=this;if(t=t||{},yp.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=Ne({},e.locale,t.locale);n.locale(Vee(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Zu.Canvas,n._scenegraph=new Kre;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||j5e,n._redraw=!0,n._handler=new wb().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=o5e(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=k5e(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:Ne({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=Yae(n,n._width),n._viewHeight=Qae(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,T5e(n),XFe(n),KFe(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function fw(e,t){return de(e._signals,t)?e._signals[t]:G("Unrecognized signal name: "+re(t))}function tse(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function hW(e,t,n,r){let i=tse(n,r);return i||(i=HL(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function pW(e,t,n){const r=tse(t,n);return r&&t._targets.remove(r),e}ie(ese,yp,{async evaluate(e,t,n){if(await yp.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,ZFe(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&eS(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&Wae(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=fw(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",fW(e)):fW(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(r$(e)||G("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(yp.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(fw(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:M5e,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=HL(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return hW(this,e,fw(this,e),t)},removeSignalListener(e,t){return pW(this,fw(this,e),t)},addDataListener(e,t){return hW(this,e,S2(this,e).values,t)},removeDataListener(e,t){return pW(this,S2(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=$R(this,null);this._globalCursor=!!e,t&&$R(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:F5e,events:s5e,finalize:u5e,hover:l5e,data:YFe,change:v$,insert:QFe,remove:JFe,scale:P5e,initialize:E5e,toImageURL:A5e,toCanvas:O5e,toSVG:C5e,getState:N5e,setState:I5e,_watchPixelRatio:B5e});const U5e="view",_2="[",A2="]",nse="{",rse="}",W5e=":",ise=",",q5e="@",H5e=">",G5e=/[[\]{}]/,V5e={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let ose,ase;function Jc(e,t,n){return ose=t||U5e,ase=n||V5e,sse(e.trim()).map(OR)}function X5e(e){return ase[e]}function U0(e,t,n,r,i){const o=e.length;let a=0,s;for(;t<o;++t){if(s=e[t],!a&&s===n)return t;i&&i.includes(s)?--a:r&&r.includes(s)&&++a}return t}function sse(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=U0(e,i,ise,_2+nse,A2+rse),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function OR(e){return e[0]==="["?K5e(e):Y5e(e)}function K5e(e){const t=e.length;let n=1,r;if(n=U0(e,n,A2,_2,A2),n===t)throw"Empty between selector: "+e;if(r=sse(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==H5e)throw"Expected '>' after between selector: "+e;r=r.map(OR);const i=OR(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function Y5e(e){const t={source:ose},n=[];let r=[0,0],i=0,o=0,a=e.length,s=0,l,u;if(e[a-1]===rse){if(s=e.lastIndexOf(nse),s>=0){try{r=Q5e(e.substring(s+1,a-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,s).trim(),a=e.length}else throw"Unmatched right brace: "+e;s=0}if(!a)throw e;if(e[0]===q5e&&(i=++s),l=U0(e,s,W5e),l<a&&(n.push(e.substring(o,l).trim()),o=s=++l),s=U0(e,s,_2),s===a)n.push(e.substring(o,a).trim());else if(n.push(e.substring(o,s).trim()),u=[],o=++s,o===a)throw"Unmatched left bracket: "+e;for(;s<a;){if(s=U0(e,s,A2),s===a)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,s).trim()),s<a-1&&e[++s]!==_2)throw"Expected left bracket: "+e;o=++s}if(!(a=n.length)||G5e.test(n[a-1]))throw"Invalid event selector: "+e;return a>1?(t.type=n[1],i?t.markname=n[0].slice(1):X5e(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function Q5e(e){const t=e.split(ise);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function J5e(e){return le(e)?e:{type:e||"pad"}}const Oy=e=>+e||0,Z5e=e=>({top:e,bottom:e,left:e,right:e});function eje(e){return le(e)?e.signal?e:{top:Oy(e.top),bottom:Oy(e.bottom),left:Oy(e.left),right:Oy(e.right)}:Z5e(Oy(e))}const Un=e=>le(e)&&!X(e)?Ne({},e):{value:e};function gW(e,t,n,r){return n!=null?(le(n)&&!X(n)||X(n)&&n.length&&le(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function cr(e,t,n){for(const r in t)gW(e,r,t[r]);for(const r in n)gW(e,r,n[r],"update")}function Cm(e,t,n){for(const r in t)n&&de(n,r)||(e[r]=Ne(e[r]||{},t[r]));return e}function Fh(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const XL="mark",KL="frame",YL="scope",tje="axis",nje="axis-domain",rje="axis-grid",ije="axis-label",oje="axis-tick",aje="axis-title",sje="legend",lje="legend-band",uje="legend-entry",cje="legend-gradient",lse="legend-label",fje="legend-symbol",dje="legend-title",hje="title",pje="title-text",gje="title-subtitle";function mje(e,t,n,r,i){const o={},a={};let s,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!Fh(l,e)&&MP(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===KL?i.group:n===XL?Ne({},i.mark,i[t]):null;for(l in c)u=Fh(l,e)||(l==="fill"||l==="stroke")&&(Fh("fill",e)||Fh("stroke",e)),u||MP(o,l,c[l]);ue(r).forEach(f=>{const d=i.style&&i.style[f];for(const h in d)Fh(h,e)||MP(o,h,d[h])}),e=Ne({},e);for(l in o)c=o[l],c.signal?(s=s||{})[l]=c:a[l]=c;return e.enter=Ne(a,e.enter),s&&(e.update=Ne(s,e.update)),e}function MP(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const use=e=>se(e)?re(e):e.signal?`(${e.signal})`:cse(e);function x$(e){if(e.gradient!=null)return vje(e);let t=e.signal?`(${e.signal})`:e.color?yje(e.color):e.field!=null?cse(e.field):e.value!==void 0?re(e.value):void 0;return e.scale!=null&&(t=bje(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${vS(e.exponent)})`),e.mult!=null&&(t+=`*${vS(e.mult)}`),e.offset!=null&&(t+=`+${vS(e.offset)}`),e.round&&(t=`round(${t})`),t}const dw=(e,t,n,r)=>`(${e}(${[t,n,r].map(x$).join(",")})+'')`;function yje(e){return e.c?dw("hcl",e.h,e.c,e.l):e.h||e.s?dw("hsl",e.h,e.s,e.l):e.l||e.a?dw("lab",e.l,e.a,e.b):e.r||e.g||e.b?dw("rgb",e.r,e.g,e.b):null}function vje(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:re(n));for(;t.length&&Ve(t)==null;)t.pop();return t.unshift(use(e.gradient)),`gradient(${t.join(",")})`}function vS(e){return le(e)?"("+x$(e)+")":e}function cse(e){return fse(le(e)?e:{datum:e})}function fse(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):G("Invalid field reference: "+re(e));return e.signal||(r=se(r)?Hs(r).map(re).join("]["):fse(r)),t+"["+r+"]"}function bje(e,t){const n=use(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+vS(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function xje(e){let t="";return e.forEach(n=>{const r=x$(n);t+=n.test?`(${n.test})?${r}:`:r}),Ve(t)===":"&&(t+="null"),t}function dse(e,t,n,r,i,o){const a={};o=o||{},o.encoders={$encode:a},e=mje(e,t,n,r,i.config);for(const s in e)a[s]=wje(e[s],t,o,i);return o}function wje(e,t,n,r){const i={},o={};for(const a in e)e[a]!=null&&(i[a]=Eje(Sje(e[a]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function Sje(e){return X(e)?xje(e):x$(e)}function Eje(e,t,n,r){const i=Ls(e,t);return i.$fields.forEach(o=>r[o]=1),Ne(n,i.$params),i.$expr}const _je="outer",Aje=["value","update","init","react","bind"];function mW(e,t){G(e+' for "outer" push: '+re(t))}function hse(e,t){const n=e.name;if(e.push===_je)t.signals[n]||mW("No prior signal definition",n),Aje.forEach(r=>{e[r]!==void 0&&mW("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function CR(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function w$(e,t,n,r){return new CR(e,t,n,r)}function $2(e,t){return w$("operator",e,t)}function be(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function Gv(e,t){return t?{$field:e,$name:t}:{$field:e}}const kR=Gv("key");function yW(e,t){return{$compare:e,$order:t}}function $je(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const Oje="ascending",Cje="descending";function kje(e){return le(e)?(e.order===Cje?"-":"+")+S$(e.op,e.field):""}function S$(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const QL="scope",PR="view";function Nn(e){return e&&e.signal}function Pje(e){return e&&e.expr}function bS(e){if(Nn(e))return!0;if(le(e)){for(const t in e)if(bS(e[t]))return!0}return!1}function fa(e,t){return e??t}function nd(e){return e&&e.signal||e}const vW="timer";function Vv(e,t){return(e.merge?Mje:e.stream?Nje:e.type?Rje:G("Invalid stream specification: "+re(e)))(e,t)}function Tje(e){return e===QL?PR:e||PR}function Mje(e,t){const n=e.merge.map(i=>Vv(i,t)),r=JL({merge:n},e,t);return t.addStream(r).id}function Nje(e,t){const n=Vv(e.stream,t),r=JL({stream:n},e,t);return t.addStream(r).id}function Rje(e,t){let n;e.type===vW?(n=t.event(vW,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(Tje(e.source),e.type);const r=JL({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function JL(e,t,n){let r=t.between;return r&&(r.length!==2&&G('Stream "between" parameter must have 2 entries: '+re(t)),e.between=[Vv(r[0],n),Vv(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(Dje(t.marktype,t.markname,t.markrole)),t.source===QL&&r.push("inScope(event.item)"),r.length&&(e.filter=Ls("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function Dje(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const Ije={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Fje(e,t,n){const r=e.encode,i={target:n};let o=e.events,a=e.update,s=[];o||G("Signal update missing events specification."),se(o)&&(o=Jc(o,t.isSubscope()?QL:PR)),o=ue(o).filter(l=>l.signal||l.scale?(s.push(l),0):1),s.length>1&&(s=[Lje(s)]),o.length&&s.push(o.length>1?{merge:o}:o[0]),r!=null&&(a&&G("Signal encode and update are mutually exclusive."),a="encode(item(),"+re(r)+")"),i.update=se(a)?Ls(a,t):a.expr!=null?Ls(a.expr,t):a.value!=null?a.value:a.signal!=null?{$expr:Ije,$params:{$value:t.signalRef(a.signal)}}:G("Invalid signal update specification."),e.force&&(i.options={force:!0}),s.forEach(l=>t.addUpdate(Ne(jje(l,t),i)))}function jje(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):Vv(e,t)}}function Lje(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function zje(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?G("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Ls(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>Fje(i,t,n.id))}const xt=e=>(t,n,r)=>w$(e,n,t||void 0,r),pse=xt("aggregate"),Bje=xt("axisticks"),gse=xt("bound"),za=xt("collect"),bW=xt("compare"),Uje=xt("datajoin"),mse=xt("encode"),Wje=xt("expression"),qje=xt("facet"),Hje=xt("field"),Gje=xt("key"),Vje=xt("legendentries"),Xje=xt("load"),Kje=xt("mark"),Yje=xt("multiextent"),Qje=xt("multivalues"),Jje=xt("overlap"),Zje=xt("params"),yse=xt("prefacet"),eLe=xt("projection"),tLe=xt("proxy"),nLe=xt("relay"),vse=xt("render"),rLe=xt("scale"),Zd=xt("sieve"),iLe=xt("sortitems"),bse=xt("viewlayout"),oLe=xt("values");let aLe=0;const xse={min:"min",max:"max",count:"sum"};function sLe(e,t){const n=e.type||"linear";lre(n)||G("Unrecognized scale type: "+re(n)),t.addScale(e.name,{type:n,domain:void 0})}function lLe(e,t){const n=t.getScale(e.name).params;let r;n.domain=wse(e.domain,e,t),e.range!=null&&(n.range=Ese(e,t,n)),e.interpolate!=null&&vLe(e.interpolate,n),e.nice!=null&&(n.nice=yLe(e.nice,t)),e.bins!=null&&(n.bins=mLe(e.bins,t));for(r in e)de(n,r)||r==="name"||(n[r]=Po(e[r],t))}function Po(e,t){return le(e)?e.signal?t.signalRef(e.signal):G("Unsupported object: "+re(e)):e}function xS(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Po(n,t))}function E$(e){G("Can not find data set: "+re(e))}function wse(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&G("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(X(e)?uLe:e.fields?fLe:cLe)(e,t,n)}function uLe(e,t,n){return e.map(r=>Po(r,n))}function cLe(e,t,n){const r=n.getData(e.data);return r||E$(e.data),lg(t.type)?r.valuesRef(n,e.field,Sse(e.sort,!1)):fre(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function fLe(e,t,n){const r=e.data,i=e.fields.reduce((o,a)=>(a=se(a)?{data:r,field:a}:X(a)||a.signal?dLe(a,n):a,o.push(a),o),[]);return(lg(t.type)?hLe:fre(t.type)?pLe:gLe)(e,n,i)}function dLe(e,t){const n="_:vega:_"+aLe++,r=za({});if(X(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+re(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,Zd({})]),{data:n,field:"data"}}function hLe(e,t,n){const r=Sse(e.sort,!0);let i,o;const a=n.map(u=>{const c=t.getData(u.data);return c||E$(u.data),c.countsRef(t,u.field,r)}),s={groupby:kR,pulse:a};r&&(i=r.op||"count",o=r.field?S$(i,r.field):"count",s.ops=[xse[i]],s.fields=[t.fieldRef(o)],s.as=[o]),i=t.add(pse(s));const l=t.add(za({pulse:be(i)}));return o=t.add(oLe({field:kR,sort:t.sortRef(r),pulse:be(l)})),be(o)}function Sse(e,t){return e&&(!e.field&&!e.op?le(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?G("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!xse[e.op]&&G("Multiple domain scales can not be sorted using "+e.op)),e}function pLe(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||E$(i.data),o.domainRef(t,i.field)});return be(t.add(Qje({values:r})))}function gLe(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||E$(i.data),o.extentRef(t,i.field)});return be(t.add(Yje({extents:r})))}function mLe(e,t){return e.signal||X(e)?xS(e,t):t.objectProperty(e)}function yLe(e,t){return e.signal?t.signalRef(e.signal):le(e)?{interval:Po(e.interval),step:Po(e.step)}:Po(e)}function vLe(e,t){t.interpolate=Po(e.type||e),e.gamma!=null&&(t.interpolateGamma=Po(e.gamma))}function Ese(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(se(i)){if(r&&de(r,i))return e=Ne({},e,{range:r[i]}),Ese(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=lg(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:G("Unrecognized scale range value: "+re(i))}else if(i.scheme){n.scheme=X(i.scheme)?xS(i.scheme,t):Po(i.scheme,t),i.extent&&(n.schemeExtent=xS(i.extent,t)),i.count&&(n.schemeCount=Po(i.count,t));return}else if(i.step){n.rangeStep=Po(i.step,t);return}else{if(lg(e.type)&&!X(i))return wse(i,e,t);X(i)||G("Unsupported range type: "+re(i))}return i.map(o=>(X(o)?xS:Po)(o,t))}function bLe(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=TR(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=TR(n[i],i,t));t.addProjection(e.name,r)}function TR(e,t,n){return X(e)?e.map(r=>TR(r,t,n)):le(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:G("Unsupported parameter object: "+re(e)):e}const Ba="top",km="left",Pm="right",Ic="bottom",_se="center",xLe="vertical",wLe="start",SLe="middle",ELe="end",MR="index",ZL="label",_Le="offset",yg="perc",ALe="perc2",No="value",Pb="guide-label",e4="guide-title",$Le="group-title",OLe="group-subtitle",xW="symbol",wS="gradient",NR="discrete",RR="size",CLe="shape",kLe="fill",PLe="stroke",TLe="strokeWidth",MLe="strokeDash",NLe="opacity",t4=[RR,CLe,kLe,PLe,TLe,MLe,NLe],Tb={name:1,style:1,interactive:1},Ke={value:0},Ro={value:1},_$="group",Ase="rect",n4="rule",RLe="symbol",eh="text";function Xv(e){return e.type=_$,e.interactive=e.interactive||!1,e}function Mi(e,t){const n=(r,i)=>fa(e[r],fa(t[r],i));return n.isVertical=r=>xLe===fa(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>fa(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>fa(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>fa(e.columns,fa(t.columns,+n.isVertical(!0))),n}function $se(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function DLe(e,t,n){const r=t.config.style[n];return r&&r[e]}function A$(e,t,n){return`item.anchor === '${wLe}' ? ${e} : item.anchor === '${ELe}' ? ${t} : ${n}`}const r4=A$(re(km),re(Pm),re(_se));function ILe(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},le(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function Ose(e,t){return t?e?le(e)?Object.assign({},e,{offset:Ose(e.offset,t)}):{value:e,offset:t}:t:e}function uo(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=Cm(e.encode,t,Tb)):e.interactive=!1,e}function FLe(e,t,n,r){const i=Mi(e,n),o=i.isVertical(),a=i.gradientThickness(),s=i.gradientLength();let l,u,c,f,d;o?(u=[0,1],c=[0,0],f=a,d=s):(u=[0,0],c=[1,0],f=s,d=a);const h={enter:l={opacity:Ke,x:Ke,y:Ke,width:Un(f),height:Un(d)},update:Ne({},l,{opacity:Ro,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:Ke}};return cr(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),uo({type:Ase,role:cje,encode:h},r)}function jLe(e,t,n,r,i){const o=Mi(e,n),a=o.isVertical(),s=o.gradientThickness(),l=o.gradientLength();let u,c,f,d,h="";a?(u="y",f="y2",c="x",d="width",h="1-"):(u="x",f="x2",c="y",d="height");const p={opacity:Ke,fill:{scale:t,field:No}};p[u]={signal:h+"datum."+yg,mult:l},p[c]=Ke,p[f]={signal:h+"datum."+ALe,mult:l},p[d]=Un(s);const g={enter:p,update:Ne({},p,{opacity:Ro}),exit:{opacity:Ke}};return cr(g,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),uo({type:Ase,role:lje,key:No,from:i,encode:g},r)}const LLe=`datum.${yg}<=0?"${km}":datum.${yg}>=1?"${Pm}":"${_se}"`,zLe=`datum.${yg}<=0?"${Ic}":datum.${yg}>=1?"${Ba}":"${SLe}"`;function wW(e,t,n,r){const i=Mi(e,t),o=i.isVertical(),a=Un(i.gradientThickness()),s=i.gradientLength();let l=i("labelOverlap"),u,c,f,d,h="";const p={enter:u={opacity:Ke},update:c={opacity:Ro,text:{field:ZL}},exit:{opacity:Ke}};return cr(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:fa(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:zLe},f="y",d="x",h="1-"):(u.align=c.align={signal:LLe},u.baseline={value:"top"},f="x",d="y"),u[f]=c[f]={signal:h+"datum."+yg,mult:s},u[d]=c[d]=a,a.offset=fa(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+MR}:void 0,uo({type:eh,role:lse,style:Pb,key:No,from:r,encode:p,overlap:l},n)}function BLe(e,t,n,r,i){const o=Mi(e,t),a=n.entries,s=!!(a&&a.interactive),l=a?a.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${_Le} : datum.${RR}`,h=u?Un(u):{field:RR},p=`datum.${MR}`,g=`max(1, ${i})`;let m,y,v,b,x;h.mult=.5,m={enter:y={opacity:Ke,x:{signal:d,mult:.5,offset:c},y:h},update:v={opacity:Ro,x:y.x,y:y.y},exit:{opacity:Ke}};let w=null,E=null;e.fill||(w=t.symbolBaseFillColor,E=t.symbolBaseStrokeColor),cr(m,{fill:o("symbolFillColor",w),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",E),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),t4.forEach(_=>{e[_]&&(v[_]=y[_]={scale:e[_],field:No})});const S=uo({type:RLe,role:fje,key:No,from:f,clip:u?!0:void 0,encode:m},n.symbols),A=Un(c);A.offset=o("labelOffset"),m={enter:y={opacity:Ke,x:{signal:d,offset:A},y:h},update:v={opacity:Ro,text:{field:ZL},x:y.x,y:y.y},exit:{opacity:Ke}},cr(m,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const $=uo({type:eh,role:lse,style:Pb,key:No,from:f,encode:m},n.labels);return m={enter:{noBound:{value:!u},width:Ke,height:u?Un(u):Ke,opacity:Ke},exit:{opacity:Ke},update:v={opacity:Ro,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(b=`ceil(item.mark.items.length / ${g})`,v.row.signal=`${p}%${b}`,v.column.signal=`floor(${p} / ${b})`,x={field:["row",p]}):(v.row.signal=`floor(${p} / ${g})`,v.column.signal=`${p} % ${g}`,x={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:MR}},Xv({role:YL,from:r,encode:Cm(m,a,Tb),marks:[S,$],name:l,interactive:s,sort:x})}function ULe(e,t){const n=Mi(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const i4='item.orient === "left"',o4='item.orient === "right"',$$=`(${i4} || ${o4})`,WLe=`datum.vgrad && ${$$}`,qLe=A$('"top"','"bottom"','"middle"'),HLe=A$('"right"','"left"','"center"'),GLe=`datum.vgrad && ${o4} ? (${HLe}) : (${$$} && !(datum.vgrad && ${i4})) ? "left" : ${r4}`,VLe=`item._anchor || (${$$} ? "middle" : "start")`,XLe=`${WLe} ? (${i4} ? -90 : 90) : 0`,KLe=`${$$} ? (datum.vgrad ? (${o4} ? "bottom" : "top") : ${qLe}) : "top"`;function YLe(e,t,n,r){const i=Mi(e,t),o={enter:{opacity:Ke},update:{opacity:Ro,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ke}};return cr(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:VLe},angle:{signal:XLe},align:{signal:GLe},baseline:{signal:KLe},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),uo({type:eh,role:dje,style:e4,from:r,encode:o},n)}function QLe(e,t){let n;return le(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+SW(e.path)+")":e.sphere&&(n="geoShape("+SW(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function SW(e){return le(e)&&e.signal?e.signal:re(e)}function Cse(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===_$?YL:t||XL}function JLe(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Cse(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function ZLe(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function a4(e,t){const n=ate(e.type);n||G("Unrecognized transform type: "+re(e.type));const r=w$(n.type.toLowerCase(),null,kse(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function kse(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const a=e.params[o];r[a.name]=e4e(a,t,n)}return r}function e4e(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return t4e(e,t,n);if(i===void 0){e.required&&G("Missing required "+re(t.type)+" parameter: "+re(e.name));return}else{if(r==="param")return n4e(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Nn(i)?i.map(o=>EW(e,o,n)):EW(e,i,n)}function EW(e,t,n){const r=e.type;if(Nn(t))return AW(r)?G("Expression references can not be signals."):NP(r)?n.fieldRef(t):$W(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||NP(r);return i&&r4e(t)?n.exprRef(t.expr,t.as):i&&i4e(t)?Gv(t.field,t.as):AW(r)?Ls(t,n):o4e(r)?be(n.getData(t).values):NP(r)?Gv(t):$W(r)?n.compareRef(t):t}}function t4e(e,t,n){return se(t.from)||G('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function n4e(e,t,n){const r=t[e.name];return e.array?(X(r)||G("Expected an array of sub-parameters. Instead: "+re(r)),r.map(i=>_W(e,i,n))):_W(e,r,n)}function _W(e,t,n){const r=e.params.length;let i;for(let a=0;a<r;++a){i=e.params[a];for(const s in i.key)if(i.key[s]!==t[s]){i=null;break}if(i)break}i||G("Unsupported parameter: "+re(t));const o=Ne(kse(i,t,n),i.key);return be(n.add(Zje(o)))}const r4e=e=>e&&e.expr,i4e=e=>e&&e.field,o4e=e=>e==="data",AW=e=>e==="expr",NP=e=>e==="field",$W=e=>e==="compare";function a4e(e,t,n){let r,i,o,a,s;return e?(r=e.facet)&&(t||G("Only group marks can be faceted."),r.field!=null?a=s=SS(r,n):(e.data?s=be(n.getData(e.data).aggregate):(o=a4(Ne({type:"aggregate",groupby:ue(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=SS(r,n),a=s=be(n.add(o))),i=n.keyRef(r.groupby,!0))):a=be(n.add(za(null,[{}]))),a||(a=SS(e,n)),{key:i,pulse:a,parent:s}}function SS(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:be(t.getData(e.data).output)}function kd(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}kd.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],a=null,s=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);s<n;++s)t[s].params.pulse=be(t[s-1]),e.add(t[s]),t[s].type==="aggregate"&&(a=t[s]);return new kd(e,o,i,r,a)};function Pse(e){return se(e)?e:null}function OW(e,t,n){const r=S$(n.op,n.field);let i;if(t.ops){for(let o=0,a=t.as.length;o<a;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function Cy(e,t,n,r,i,o,a){const s=t[n]||(t[n]={}),l=kje(o);let u=Pse(i),c,f;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=s[u]),!c){const d=o?{field:kR,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:be(t.output)};l&&(d.sort=e.sortRef(o)),f=e.add(w$(r,void 0,d)),a&&(t.index[i]=f),c=be(f),u!=null&&(s[u]=c)}return c}kd.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=Pse(t);let a,s,l;return o!=null&&(e=r.scope,a=i[o]),a?n&&n.field&&OW(e,a.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:be(r.output)},n&&n.field&&OW(e,l,n),s=e.add(pse(l)),a=e.add(za({pulse:be(s)})),a={agg:s,ref:be(a)},o!=null&&(i[o]=a)),a.ref},tuplesRef(){return be(this.values)},extentRef(e,t){return Cy(e,this,"extent","extent",t,!1)},domainRef(e,t){return Cy(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return Cy(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return Cy(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return Cy(e,this,"indata","tupleindex",t,!0,!0)}};function s4e(e,t,n){const r=e.from.facet,i=r.name,o=SS(r,t);let a;r.name||G("Facet must have a name: "+re(r)),r.data||G("Facet must reference a data set: "+re(r)),r.field?a=t.add(yse({field:t.fieldRef(r.field),pulse:o})):r.groupby?a=t.add(qje({key:t.keyRef(r.groupby),group:be(t.proxy(n.parent)),pulse:o})):G("Facet must specify groupby or field: "+re(r));const s=t.fork(),l=s.add(za()),u=s.add(Zd({pulse:be(l)}));s.addData(i,new kd(s,l,l,u)),s.addSignal("parent",null),a.params.subflow={$subflow:s.parse(e).toRuntime()}}function l4e(e,t,n){const r=t.add(yse({pulse:n.pulse})),i=t.fork();i.add(Zd()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function Tse(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,a=e.modify,s=e.values,l=t.add($2()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,o,a,s].map(f=>f??"null").join(",")+"),0)",c=Ls(u,t);l.update=c.$expr,l.params=c.$params}function O$(e,t){const n=Cse(e),r=e.type===_$,i=e.from&&e.from.facet,o=e.overlap;let a=e.layout||n===YL||n===KL,s,l,u,c,f,d,h;const p=n===XL||a||i,g=a4e(e.from,r,t);l=t.add(Uje({key:g.key||(e.key?Gv(e.key):void 0),pulse:g.pulse,clean:!r}));const m=be(l);l=u=t.add(za({pulse:m})),l=t.add(Kje({markdef:JLe(e),interactive:ZLe(e.interactive,t),clip:QLe(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:be(l)}));const y=be(l);l=c=t.add(mse(dse(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(E=>{const S=a4(E,t),A=S.metadata;(A.generates||A.changes)&&G("Mark transforms should not generate new data."),A.nomod||(c.params.mod=!0),S.params.pulse=be(l),t.add(l=S)}),e.sort&&(l=t.add(iLe({sort:t.compareRef(e.sort),pulse:be(l)})));const v=be(l);(i||a)&&(a=t.add(bse({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),d=be(a));const b=t.add(gse({mark:y,pulse:d||v}));h=be(b),r&&(p&&(s=t.operators,s.pop(),a&&s.pop()),t.pushState(v,d||h,m),i?s4e(e,t,g):p?l4e(e,t,g):t.parse(e),t.popState(),p&&(a&&s.push(a),s.push(b))),o&&(h=u4e(o,h,t));const x=t.add(vse({pulse:h})),w=t.add(Zd({pulse:be(x)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new kd(t,u,x,w)),e.on&&e.on.forEach(E=>{(E.insert||E.remove||E.toggle)&&G("Marks only support modify triggers."),Tse(E,t,f)}))}function u4e(e,t,n){const r=e.method,i=e.bound,o=e.separation,a={separation:Nn(o)?n.signalRef(o.signal):o,method:Nn(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(a.sort=n.compareRef({field:e.order})),i){const s=i.tolerance;a.boundTolerance=Nn(s)?n.signalRef(s.signal):+s,a.boundScale=n.scaleRef(i.scale),a.boundOrient=i.orient}return be(n.add(Jje(a)))}function c4e(e,t){const n=t.config.legend,r=e.encode||{},i=Mi(e,n),o=r.legend||{},a=o.name||void 0,s=o.interactive,l=o.style,u={};let c=0,f,d,h;t4.forEach(b=>e[b]?(u[b]=e[b],c=c||e[b]):0),c||G("Missing valid scale for legend.");const p=f4e(e,t.scaleType(c)),g={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&i.isVertical()},m=be(t.add(za(null,[g]))),y={enter:{x:{value:0},y:{value:0}}},v=be(t.add(Vje(d={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===wS?(h=[FLe(e,c,n,r.gradient),wW(e,n,r.labels,v)],d.count=d.count||t.signalRef(`max(2,2*floor((${nd(i.gradientLength())})/100))`)):p===NR?h=[jLe(e,c,n,r.gradient,v),wW(e,n,r.labels,v)]:(f=ULe(e,n),h=[BLe(e,n,r,v,nd(f.columns))],d.size=p4e(e,t,h[0].marks)),h=[Xv({role:uje,from:m,encode:y,marks:h,layout:f,interactive:s})],g.title&&h.push(YLe(e,n,r.title,m)),O$(Xv({role:sje,from:m,encode:Cm(h4e(i,e,n),o,Tb),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:a,interactive:s,style:l}),t)}function f4e(e,t){let n=e.type||xW;return!e.type&&d4e(e)===1&&(e.fill||e.stroke)&&(n=aj(t)?wS:AN(t)?NR:xW),n!==wS?n:AN(t)?NR:wS}function d4e(e){return t4.reduce((t,n)=>t+(e[n]?1:0),0)}function h4e(e,t,n){const r={enter:{},update:{}};return cr(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function p4e(e,t,n){const r=nd(CW("size",e,n)),i=nd(CW("strokeWidth",e,n)),o=nd(g4e(n[1].encode,t,Pb));return Ls(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function CW(e,t,n){return t[e]?`scale("${t[e]}",datum)`:$se(e,n[0].encode)}function g4e(e,t,n){return $se("fontSize",e)||DLe("fontSize",t,n)}const m4e=`item.orient==="${km}"?-90:item.orient==="${Pm}"?90:0`;function y4e(e,t){e=se(e)?{text:e}:e;const n=Mi(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,a=i.interactive,s=i.style,l=[],u={},c=be(t.add(za(null,[u])));return l.push(x4e(e,n,v4e(e),c)),e.subtitle&&l.push(w4e(e,n,r.subtitle,c)),O$(Xv({role:hje,from:c,encode:b4e(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:a,style:s}),t)}function v4e(e){const t=e.encode;return t&&t.title||Ne({name:e.name,interactive:e.interactive,style:e.style},t)}function b4e(e,t){const n={enter:{},update:{}};return cr(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:r4},angle:{signal:m4e},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),Cm(n,t,Tb)}function x4e(e,t,n,r){const i={value:0},o=e.text,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return cr(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),uo({type:eh,role:pje,style:$Le,from:r,encode:a},n)}function w4e(e,t,n,r){const i={value:0},o=e.subtitle,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return cr(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),uo({type:eh,role:gje,style:OLe,from:r,encode:a},n)}function S4e(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(a4(r,t))}),e.on&&e.on.forEach(r=>{Tse(r,t,e.name)}),t.addDataPipeline(e.name,E4e(e,t,n))}function E4e(e,t,n){const r=[];let i=null,o=!1,a=!1,s,l,u,c,f;for(e.values?Nn(e.values)||bS(e.format)?(r.push(kW(t,e)),r.push(i=df())):r.push(i=df({$ingest:e.values,$format:e.format})):e.url?bS(e.url)||bS(e.format)?(r.push(kW(t,e)),r.push(i=df())):r.push(i=df({$request:e.url,$format:e.format})):e.source&&(i=s=ue(e.source).map(d=>be(t.getData(d).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],f=c.metadata,!i&&!f.source&&r.push(i=df()),r.push(c),f.generates&&(a=!0),f.modifies&&!a&&(o=!0),f.source?i=c:f.changes&&(i=null);return s&&(u=s.length-1,r[0]=nLe({derive:o,pulse:u?s:s[0]}),(o||u)&&r.splice(1,0,df())),i||r.push(df()),r.push(Zd({})),r}function df(e){const t=za({},e);return t.metadata={source:!0},t}function kW(e,t){return Xje({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const Mse=e=>e===Ic||e===Ba,C$=(e,t,n)=>Nn(e)?O4e(e.signal,t,n):e===km||e===Ba?t:n,Wn=(e,t,n)=>Nn(e)?A4e(e.signal,t,n):Mse(e)?t:n,$a=(e,t,n)=>Nn(e)?$4e(e.signal,t,n):Mse(e)?n:t,Nse=(e,t,n)=>Nn(e)?C4e(e.signal,t,n):e===Ba?{value:t}:{value:n},_4e=(e,t,n)=>Nn(e)?k4e(e.signal,t,n):e===Pm?{value:t}:{value:n},A4e=(e,t,n)=>Rse(`${e} === '${Ba}' || ${e} === '${Ic}'`,t,n),$4e=(e,t,n)=>Rse(`${e} !== '${Ba}' && ${e} !== '${Ic}'`,t,n),O4e=(e,t,n)=>s4(`${e} === '${km}' || ${e} === '${Ba}'`,t,n),C4e=(e,t,n)=>s4(`${e} === '${Ba}'`,t,n),k4e=(e,t,n)=>s4(`${e} === '${Pm}'`,t,n),Rse=(e,t,n)=>(t=t!=null?Un(t):t,n=n!=null?Un(n):n,PW(t)&&PW(n)?(t=t?t.signal||re(t.value):null,n=n?n.signal||re(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Ne({test:e},t)].concat(n||[])),PW=e=>e==null||Object.keys(e).length===1,s4=(e,t,n)=>({signal:`${e} ? (${ip(t)}) : (${ip(n)})`}),P4e=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${km}' ? (${ip(r)}) : `:"")+(n!=null?`${e} === '${Ic}' ? (${ip(n)}) : `:"")+(i!=null?`${e} === '${Pm}' ? (${ip(i)}) : `:"")+(t!=null?`${e} === '${Ba}' ? (${ip(t)}) : `:"")+"(null)"}),ip=e=>Nn(e)?e.signal:e==null?null:re(e),T4e=(e,t)=>t===0?0:Nn(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},wp=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Eh(e,t,n,r){let i;if(t&&de(t,e))return t[e];if(de(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[e4][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[Pb][i]}return null}function TW(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function M4e(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,a=e.orient,s,l,u;if(Nn(a)){const f=TW([n.axisX,n.axisY]),d=TW([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);s={};for(u of f)s[u]=Wn(a,Eh(u,n.axisX,i,r),Eh(u,n.axisY,i,r));l={};for(u of d)l[u]=P4e(a.signal,Eh(u,n.axisTop,i,r),Eh(u,n.axisBottom,i,r),Eh(u,n.axisLeft,i,r),Eh(u,n.axisRight,i,r))}else s=a===Ba||a===Ic?n.axisX:n.axisY,l=n["axis"+a[0].toUpperCase()+a.slice(1)];return s||l||o?Ne({},i,s,l,o):i}function N4e(e,t,n,r){const i=Mi(e,t),o=e.orient;let a,s;const l={enter:a={opacity:Ke},update:s={opacity:Ro},exit:{opacity:Ke}};cr(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=MW(e,0),c=MW(e,1);return a.x=s.x=Wn(o,u,Ke),a.x2=s.x2=Wn(o,c),a.y=s.y=$a(o,u,Ke),a.y2=s.y2=$a(o,c),uo({type:n4,role:nje,from:r,encode:l},n)}function MW(e,t){return{scale:e.scale,range:t}}function R4e(e,t,n,r,i){const o=Mi(e,t),a=e.orient,s=e.gridScale,l=C$(a,1,-1),u=D4e(e.offset,l);let c,f,d;const h={enter:c={opacity:Ke},update:d={opacity:Ro},exit:f={opacity:Ke}};cr(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:No,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},g=Wn(a,{signal:"height"},{signal:"width"}),m=s?{scale:s,range:0,mult:l,offset:u}:{value:0,offset:u},y=s?{scale:s,range:1,mult:l,offset:u}:Ne(g,{mult:l,offset:u});return c.x=d.x=Wn(a,p,m),c.y=d.y=$a(a,p,m),c.x2=d.x2=$a(a,y),c.y2=d.y2=Wn(a,y),f.x=Wn(a,p),f.y=$a(a,p),uo({type:n4,role:rje,key:No,from:r,encode:h},n)}function D4e(e,t){if(t!==1)if(!le(e))e=Nn(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Ne({},e);for(;n.mult!=null;)if(le(n.mult))n=n.mult=Ne({},n.mult);else return n.mult=Nn(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function I4e(e,t,n,r,i,o){const a=Mi(e,t),s=e.orient,l=C$(s,-1,1);let u,c,f;const d={enter:u={opacity:Ke},update:f={opacity:Ro},exit:c={opacity:Ke}};cr(d,{stroke:a("tickColor"),strokeCap:a("tickCap"),strokeDash:a("tickDash"),strokeDashOffset:a("tickDashOffset"),strokeOpacity:a("tickOpacity"),strokeWidth:a("tickWidth")});const h=Un(i);h.mult=l;const p={scale:e.scale,field:No,band:o.band,extra:o.extra,offset:o.offset,round:a("tickRound")};return f.y=u.y=Wn(s,Ke,p),f.y2=u.y2=Wn(s,h),c.x=Wn(s,p),f.x=u.x=$a(s,Ke,p),f.x2=u.x2=$a(s,h),c.y=$a(s,p),uo({type:n4,role:oje,key:No,from:r,encode:d},n)}function RP(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function F4e(e,t,n,r,i,o){const a=Mi(e,t),s=e.orient,l=e.scale,u=C$(s,-1,1),c=nd(a("labelFlush")),f=nd(a("labelFlushOffset")),d=a("labelAlign"),h=a("labelBaseline");let p=c===0||!!c,g;const m=Un(i);m.mult=u,m.offset=Un(a("labelPadding")||0),m.offset.mult=u;const y={scale:l,field:No,band:.5,offset:Ose(o.offset,a("labelOffset"))},v=Wn(s,p?RP(l,c,'"left"','"right"','"center"'):{value:"center"},_4e(s,"left","right")),b=Wn(s,Nse(s,"bottom","top"),p?RP(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),x=RP(l,c,`-(${f})`,f,0);p=p&&f;const w={opacity:Ke,x:Wn(s,y,m),y:$a(s,y,m)},E={enter:w,update:g={opacity:Ro,text:{field:ZL},x:w.x,y:w.y,align:v,baseline:b},exit:{opacity:Ke,x:w.x,y:w.y}};cr(E,{dx:!d&&p?Wn(s,x):null,dy:!h&&p?$a(s,x):null}),cr(E,{angle:a("labelAngle"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontWeight:a("labelFontWeight"),fontStyle:a("labelFontStyle"),limit:a("labelLimit"),lineHeight:a("labelLineHeight")},{align:d,baseline:h});const S=a("labelBound");let A=a("labelOverlap");return A=A||S?{separation:a("labelSeparation"),method:A,order:"datum.index",bound:S?{scale:l,orient:s,tolerance:S}:null}:void 0,g.align!==v&&(g.align=wp(g.align,v)),g.baseline!==b&&(g.baseline=wp(g.baseline,b)),uo({type:eh,role:ije,style:Pb,key:No,from:r,encode:E,overlap:A},n)}function j4e(e,t,n,r){const i=Mi(e,t),o=e.orient,a=C$(o,-1,1);let s,l;const u={enter:s={opacity:Ke,anchor:Un(i("titleAnchor",null)),align:{signal:r4}},update:l=Ne({},s,{opacity:Ro,text:Un(e.title)}),exit:{opacity:Ke}},c={signal:`lerp(range("${e.scale}"), ${A$(0,1,.5)})`};return l.x=Wn(o,c),l.y=$a(o,c),s.angle=Wn(o,Ke,T4e(a,90)),s.baseline=Wn(o,Nse(o,Ic,Ba),{value:Ic}),l.angle=s.angle,l.baseline=s.baseline,cr(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),L4e(i,o,u,n),u.update.align=wp(u.update.align,s.align),u.update.angle=wp(u.update.angle,s.angle),u.update.baseline=wp(u.update.baseline,s.baseline),uo({type:eh,role:aje,style:e4,from:r,encode:u},n)}function L4e(e,t,n,r){const i=(s,l)=>s!=null?(n.update[l]=wp(Un(s),n.update[l]),!1):!Fh(l,r),o=i(e("titleX"),"x"),a=i(e("titleY"),"y");n.enter.auto=a===o?Un(a):Wn(t,Un(a),Un(o))}function z4e(e,t){const n=M4e(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,a=i.interactive,s=i.style,l=Mi(e,n),u=ILe(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=be(t.add(za({},[c]))),d=be(t.add(Bje({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(R4e(e,n,r.grid,d,u)),c.ticks&&(p=l("tickSize"),h.push(I4e(e,n,r.ticks,d,p,u))),c.labels&&(p=c.ticks?p:0,h.push(F4e(e,n,r.labels,d,p,u))),c.domain&&h.push(N4e(e,n,r.domain,f)),c.title&&h.push(j4e(e,n,r.title,f)),O$(Xv({role:tje,from:f,encode:Cm(B4e(l,e),i,Tb),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:a,style:s}),t)}function B4e(e,t){const n={enter:{},update:{}};return cr(n,{orient:e("orient"),offset:e("offset")||0,position:fa(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function Dse(e,t,n){const r=ue(e.signals),i=ue(e.scales);return n||r.forEach(o=>hse(o,t)),ue(e.projections).forEach(o=>bLe(o,t)),i.forEach(o=>sLe(o,t)),ue(e.data).forEach(o=>S4e(o,t)),i.forEach(o=>lLe(o,t)),(n||r).forEach(o=>zje(o,t)),ue(e.axes).forEach(o=>z4e(o,t)),ue(e.marks).forEach(o=>O$(o,t)),ue(e.legends).forEach(o=>c4e(o,t)),e.title&&y4e(e.title,t),t.parseLambdas(),t}const U4e=e=>Cm({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function W4e(e,t){const n=t.config,r=be(t.root=t.add($2())),i=q4e(e,n);i.forEach(u=>hse(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(za()),a=t.add(mse(dse(U4e(e.encode),_$,KL,e.style,t,{pulse:be(o)}))),s=t.add(bse({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:be(a)}));t.operators.pop(),t.pushState(be(a),be(s),null),Dse(e,t,i),t.operators.push(s);let l=t.add(gse({mark:r,pulse:be(s)}));return l=t.add(vse({pulse:be(l)})),l=t.add(Zd({pulse:be(l)})),t.addData("root",new kd(t,o,o,l)),t}function ky(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function q4e(e,t){const n=a=>fa(e[a],t[a]),r=[ky("background",n("background")),ky("autosize",J5e(n("autosize"))),ky("padding",eje(n("padding"))),ky("width",n("width")||0),ky("height",n("height")||0)],i=r.reduce((a,s)=>(a[s.name]=s,a),{}),o={};return ue(e.signals).forEach(a=>{de(i,a.name)?a=Ne(i[a.name],a):r.push(a),o[a.name]=a}),ue(t.signals).forEach(a=>{!de(o,a.name)&&!de(i,a.name)&&r.push(a)}),r}function Ise(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function NW(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}Ise.prototype=NW.prototype={parse(e){return Dse(e,this)},fork(){return new NW(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof CR?be(e):e;return this.add(tLe({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let a,s;r&&(a=r.data||(r.data={}),s=a[i]||(a[i]=[]),s.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(be(this.add(Zd({pulse:e})))),this._parent.push(t),this._lookup.push(n?be(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Ve(this._parent)},encode(){return Ve(this._encode)},lookup(){return Ve(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(se(e))return Gv(e,t);e.signal||G("Unsupported field reference: "+re(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=be(this.add(Hje(i)))}return r},compareRef(e){let t=!1;const n=o=>Nn(o)?(t=!0,this.signalRef(o.signal)):Pje(o)?(t=!0,this.exprRef(o.expr)):o,r=ue(e.field).map(n),i=ue(e.order).map(n);return t?be(this.add(bW({fields:r,orders:i}))):yW(r,i)},keyRef(e,t){let n=!1;const r=o=>Nn(o)?(n=!0,be(i[o.signal])):o,i=this.signals;return e=ue(e).map(r),n?be(this.add(Gje({fields:e,flat:t}))):$je(e,t)},sortRef(e){if(!e)return e;const t=S$(e.op,e.field),n=e.order||Oje;return n.signal?be(this.add(bW({fields:t,orders:this.signalRef(n.signal)}))):yW(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return de(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&G("Duplicate signal name: "+re(e));const n=t instanceof CR?t:this.add($2(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||G("Unrecognized signal name: "+re(e)),this.signals[e]},signalRef(e){return this.signals[e]?be(this.signals[e]):(de(this.lambdas,e)||(this.lambdas[e]=this.add($2(null))),be(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Ls(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!le(e)?e:this.signalRef(e.signal||l4(e))},exprRef(e,t){const n={expr:Ls(e,this)};return t&&(n.expr.$name=t),be(this.add(Wje(n)))},addBinding(e,t){this.bindings||G("Nested signals do not support binding: "+re(e)),this.bindings.push(Ne({signal:e},t))},addScaleProj(e,t){de(this.scales,e)&&G("Duplicate scale or projection name: "+re(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,rLe(t))},addProjection(e,t){this.addScaleProj(e,eLe(t))},getScale(e){return this.scales[e]||G("Unrecognized scale name: "+re(e)),this.scales[e]},scaleRef(e){return be(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return de(this.data,e)&&G("Duplicate data set name: "+re(e)),this.data[e]=t},getData(e){return this.data[e]||G("Undefined data set name: "+re(e)),this.data[e]},addDataPipeline(e,t){return de(this.data,e)&&G("Duplicate data set name: "+re(e)),this.addData(e,kd.fromEntries(this,t))}};function l4(e){return(X(e)?H4e:G4e)(e)}function H4e(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(le(i)?i.signal||l4(i):re(i))}return n+"]"}function G4e(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+re(r)+":"+(le(i)?i.signal||l4(i):re(i));return t+"}"}function V4e(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",a="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:a},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:a,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:a,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function X4e(e,t,n){return le(e)||G("Input Vega specification must be an object."),t=pm(V4e(),t,e.config),W4e(e,new Ise(t,n)).toRuntime()}var K4e="6.1.2";Ne(rg,N_e,gPe,VPe,MMe,$Ne,JRe,TRe,eDe,_De,RDe,BDe);const Y4e=K4e,Q4e=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Sn,CanvasHandler:wb,CanvasRenderer:BE,DATE:_i,DAY:$r,DAYOFYEAR:Fs,Dataflow:yp,Debug:kZ,Error:aF,EventStream:EA,Gradient:$re,GroupItem:KA,HOURS:ao,Handler:Tj,HybridHandler:mie,HybridRenderer:IN,Info:CZ,Item:XA,MILLISECONDS:Na,MINUTES:so,MONTH:Pr,Marks:lo,MultiPulse:MF,None:OZ,Operator:Et,Parameters:SA,Pulse:yc,QUARTER:Ei,RenderType:Zu,Renderer:xb,ResourceLoader:Mre,SECONDS:Bo,SVGHandler:rie,SVGRenderer:Fj,SVGStringRenderer:gie,Scenegraph:Kre,TIME_UNITS:SF,Transform:U,View:ese,WEEK:Pn,Warn:sF,YEAR:lr,accessor:Ti,accessorFields:kr,accessorName:un,array:ue,ascending:mm,bandwidthNRD:IF,bin:ute,bootstrapCI:cte,boundClip:$ie,boundContext:mb,boundItem:TN,boundMark:Hre,boundStroke:fu,changeset:Yd,clampRange:zZ,codegenExpression:Oae,compare:dF,constant:Dr,cumulativeLogNormal:UF,cumulativeNormal:AA,cumulativeUniform:GF,dayofyear:mee,debounce:hF,defaultLocale:OF,definition:ate,densityLogNormal:BF,densityNormal:FF,densityUniform:HF,domChild:Cn,domClear:_o,domCreate:Qu,domFind:Pj,dotbin:fte,error:G,expressionFunction:pn,extend:Ne,extent:Rs,extentIndex:BZ,falsy:Cu,fastmap:ym,field:Lo,flush:UZ,font:e$,fontFamily:bb,fontSize:Vs,format:Zw,formatLocale:yE,formats:PF,hasOwnProperty:de,id:Q1,identity:Rr,inferType:Kee,inferTypes:Yee,ingest:st,inherits:ie,inrange:Jh,interpolate:sj,interpolateColors:GA,interpolateRange:dre,intersect:Sie,intersectBoxLine:ep,intersectPath:gj,intersectPoint:mj,intersectRule:Rre,isArray:X,isBoolean:Gc,isDate:gc,isFunction:Re,isIterable:WZ,isNumber:tt,isObject:le,isRegExp:pF,isString:se,isTuple:xA,key:gF,lerp:qZ,lineHeight:Nc,loader:vA,locale:Vee,logger:lF,lruCache:HZ,markup:Ij,merge:GZ,mergeConfig:pm,multiLineOffset:Oj,one:hm,pad:VZ,panLinear:RZ,panLog:DZ,panPow:IZ,panSymlog:FZ,parse:X4e,parseExpression:IL,parseSelector:Jc,path:PA,pathCurves:dj,pathEqual:Oie,pathParse:ug,pathRectangle:kre,pathRender:Nv,pathSymbols:Cre,pathTrail:Pre,peek:Ve,point:n$,projection:nL,quantileLogNormal:WF,quantileNormal:$A,quantileUniform:VF,quantiles:RF,quantizeInterpolator:hre,quarter:jZ,quartiles:DF,get random(){return Uo},randomInteger:F2e,randomKDE:LF,randomLCG:I2e,randomLogNormal:hte,randomMixture:pte,randomNormal:jF,randomUniform:gte,read:Zee,regressionConstant:XF,regressionExp:yte,regressionLinear:KF,regressionLoess:xte,regressionLog:mte,regressionPoly:bte,regressionPow:vte,regressionQuad:YF,renderModule:r$,repeat:Xy,resetDefaultLocale:NEe,resetSVGDefIds:Nke,responseType:Jee,runtimeContext:Bae,sampleCurve:CA,sampleLogNormal:zF,sampleNormal:_A,sampleUniform:qF,scale:rt,sceneEqual:jj,sceneFromJSON:Vre,scenePickVisit:NE,sceneToJSON:Gre,sceneVisit:Ra,sceneZOrder:yj,scheme:lj,serializeXML:fie,setHybridRendererOptions:kke,setRandom:R2e,span:J1,splitAccessPath:Hs,stringValue:re,textMetrics:Ji,timeBin:Nee,timeFloor:Eee,timeFormatLocale:Av,timeInterval:wm,timeOffset:$ee,timeSequence:kee,timeUnitSpecifier:gee,timeUnits:EF,toBoolean:mF,toDate:yF,toNumber:Or,toSet:Ma,toString:vF,transform:ste,transforms:rg,truncate:XZ,truthy:zo,tupleid:xe,typeParsers:pN,utcFloor:_ee,utcInterval:Sm,utcOffset:Oee,utcSequence:Pee,utcdayofyear:bee,utcquarter:LZ,utcweek:xee,version:Y4e,visitArray:Nu,week:yee,writeConfig:gm,zero:Bu,zoomLinear:uF,zoomLog:cF,zoomPow:cE,zoomSymlog:fF},Symbol.toStringTag,{value:"Module"}));function J4e(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var Z4e={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},e6e={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},t6e={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const n6e=Array.prototype.slice,hf=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,n6e.call(t,1))},r6e=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0;return se(e)?new Date(e):new Date(e,t,n,r,i,o,a)};var i6e={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:r6e,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return hf("join",arguments)},indexof:function(){return hf("indexOf",arguments)},lastindexof:function(){return hf("lastIndexOf",arguments)},slice:function(){return hf("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(mm),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return hf("substring",arguments,String)},split:function(){return hf("split",arguments,String)},replace:function(){return hf("replace",arguments,String)},trim:e=>String(e).trim(),btoa:e=>btoa(e),atob:e=>atob(e),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const o6e=["view","item","group","xy","x","y"],DR=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&DR.add(setImmediate);const a6e={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:Z4e[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),DR.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||i6e[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>e6e[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>t6e[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,DR.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function Py(e,t,n,r,i,o){const a=s=>a6e[s.type](a,s);return a.memberDepth=0,a.fn=Object.create(t),a.params=n,a.datum=r,a.event=i,a.item=o,o6e.forEach(s=>a.fn[s]=function(){return i.vega[s](...arguments)}),a(e)}var s6e={operator(e,t){const n=t.ast,r=e.functions;return i=>Py(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>Py(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>Py(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const a=o.item&&o.item.datum;return Py(n,r,i,a,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(a,s)=>{const l=a.datum;let u=0,c;for(const f in r)c=Py(r[f].ast,i,s,l,void 0,a),a[f]!==c&&(a[f]=c,u=1);return n!=="rule"&&J4e(a,r,o),u}}},l6e="6.1.0",u6e={version:l6e};function u4(e){return Z(e,"or")}function c4(e){return Z(e,"and")}function f4(e){return Z(e,"not")}function ES(e,t){if(f4(e))ES(e.not,t);else if(c4(e))for(const n of e.and)ES(n,t);else if(u4(e))for(const n of e.or)ES(n,t);else t(e)}function Sp(e,t){return f4(e)?{not:Sp(e.not,t)}:c4(e)?{and:e.and.map(n=>Sp(n,t))}:u4(e)?{or:e.or.map(n=>Sp(n,t))}:t(e)}const Ce=structuredClone;function Fse(e){throw new Error(e)}function vg(e,t){const n={};for(const r of t)de(e,r)&&(n[r]=e[r]);return n}function eo(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>ut(e)).join(",")})`};function He(e){if(tt(e))return e;const t=se(e)?e:ut(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function IR(e){return e===!1||e===null}function Ue(e,t){return e.includes(t)}function bg(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function d4(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function jse(e,...t){for(const n of t)c6e(e,n??{});return e}function c6e(e,t){for(const n of J(t))gm(e,n,t[n],!0)}function vs(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function f6e(e,t){const n=J(e),r=J(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function Lse(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function h4(e,t){for(const n of e)if(t.has(n))return!0;return!1}function FR(e){const t=new Set;for(const n of e){const i=Hs(n).map((a,s)=>s===0?a:`[${a}]`),o=i.map((a,s)=>i.slice(0,s+1).join(""));for(const a of o)t.add(a)}return t}function p4(e,t){return e===void 0||t===void 0?!0:h4(FR(e),FR(t))}function At(e){return J(e).length===0}const J=Object.keys,xn=Object.values,Fc=Object.entries;function Kv(e){return e===!0||e===!1}function qt(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function W0(e,t){return f4(e)?`!(${W0(e.not,t)})`:c4(e)?`(${e.and.map(n=>W0(n,t)).join(") && (")})`:u4(e)?`(${e.or.map(n=>W0(n,t)).join(") || (")})`:t(e)}function O2(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&O2(e[n],t)&&delete e[n],At(e)}function Mb(e){return e.charAt(0).toUpperCase()+e.substr(1)}function g4(e,t="datum"){const n=Hs(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(re).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function zse(e,t="datum"){return`${t}[${re(Hs(e).join("."))}]`}function ft(e){return`datum['${e.replaceAll("'","\\'")}']`}function d6e(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function qo(e){return`${Hs(e).map(d6e).join("\\.")}`}function Pd(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function Tm(e){return`${Hs(e).join(".")}`}function xg(e){return e?Hs(e).length:0}function dn(...e){return e.find(t=>t!==void 0)}let Bse=42;function Use(e){const t=++Bse;return e?String(e)+t:t}function h6e(){Bse=42}function Wse(e){return qse(e)?e:`__${e}`}function qse(e){return e.startsWith("__")}function Yv(e){if(e!==void 0)return(e%360+360)%360}function k$(e){return tt(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const RW=Object.getPrototypeOf(structuredClone({}));function Xi(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Xi(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;for(const o of e.entries())if(!Xi(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==RW.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==RW.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!Xi(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function ut(e){const t=[];return function n(r){if(r!=null&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?`${r}`:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return`${o}]`}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const a=t.push(r)-1,s=Object.keys(r).sort();for(o="",i=0;i<s.length;i++){const l=s[i],u=n(r[l]);u&&(o&&(o+=","),o+=`${JSON.stringify(l)}:${u}`)}return t.splice(a,1),`{${o}}`}(e)}function Z(e,t){return le(e)&&de(e,t)&&e[t]!==void 0}const Il="row",Fl="column",P$="facet",Gt="x",Xn="y",Ua="x2",Qs="y2",Zc="xOffset",Mm="yOffset",Wa="radius",hu="radius2",Yo="theta",pu="theta2",qa="latitude",Ha="longitude",Ga="latitude2",Ho="longitude2",ef="time",$i="color",Js="fill",Zs="stroke",Oi="shape",gu="size",th="angle",mu="opacity",tf="fillOpacity",nf="strokeOpacity",rf="strokeWidth",of="strokeDash",Nb="text",wg="order",Rb="detail",T$="key",Td="tooltip",M$="href",N$="url",R$="description",p6e={x:1,y:1,x2:1,y2:1},Hse={theta:1,theta2:1,radius:1,radius2:1};function Gse(e){return de(Hse,e)}const m4={longitude:1,longitude2:1,latitude:1,latitude2:1};function Vse(e){switch(e){case qa:return"y";case Ga:return"y2";case Ha:return"x";case Ho:return"x2"}}function Xse(e){return de(m4,e)}const g6e=J(m4),y4={...p6e,...Hse,...m4,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Ep(e){return e===$i||e===Js||e===Zs}const Kse={row:1,column:1,facet:1},To=J(Kse),v4={...y4,...Kse},m6e=J(v4),{order:gAt,detail:mAt,tooltip:yAt,...y6e}=v4,{row:vAt,column:bAt,facet:xAt,...v6e}=y6e;function b6e(e){return de(v6e,e)}function Yse(e){return de(v4,e)}const x6e=[Ua,Qs,Ga,Ho,pu,hu];function Qse(e){return nh(e)!==e}function nh(e){switch(e){case Ua:return Gt;case Qs:return Xn;case Ga:return qa;case Ho:return Ha;case pu:return Yo;case hu:return Wa}return e}function jc(e){if(Gse(e))switch(e){case Yo:return"startAngle";case pu:return"endAngle";case Wa:return"outerRadius";case hu:return"innerRadius"}return e}function el(e){switch(e){case Gt:return Ua;case Xn:return Qs;case qa:return Ga;case Ha:return Ho;case Yo:return pu;case Wa:return hu}}function Ci(e){switch(e){case Gt:case Ua:return"width";case Xn:case Qs:return"height"}}function Jse(e){switch(e){case Gt:return"xOffset";case Xn:return"yOffset";case Ua:return"x2Offset";case Qs:return"y2Offset";case Yo:return"thetaOffset";case Wa:return"radiusOffset";case pu:return"theta2Offset";case hu:return"radius2Offset"}}function b4(e){switch(e){case Gt:return"xOffset";case Xn:return"yOffset"}}function w6e(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const S6e=J(y4),{x:wAt,y:SAt,x2:EAt,y2:_At,xOffset:AAt,yOffset:$At,latitude:OAt,longitude:CAt,latitude2:kAt,longitude2:PAt,theta:TAt,theta2:MAt,radius:NAt,radius2:RAt,...x4}=y4,E6e=J(x4),w4={x:1,y:1},yu=J(w4);function hn(e){return de(w4,e)}const S4={theta:1,radius:1},_6e=J(S4);function D$(e){return e==="width"?Gt:Xn}const Zse={xOffset:1,yOffset:1};function Db(e){return de(Zse,e)}const A6e={time:1};function DP(e){return e in A6e}const{text:DAt,tooltip:IAt,href:FAt,url:jAt,description:LAt,detail:zAt,key:BAt,order:UAt,...ele}=x4,$6e=J(ele);function O6e(e){return de(x4,e)}function C6e(e){switch(e){case $i:case Js:case Zs:case gu:case Oi:case mu:case rf:case of:return!0;case tf:case nf:case th:case ef:return!1}}const tle={...w4,...S4,...Zse,...ele},E4=J(tle);function tl(e){return de(tle,e)}function k6e(e,t){return T6e(e)[t]}const nle={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:WAt,...P6e}=nle;function T6e(e){switch(e){case $i:case Js:case Zs:case R$:case Rb:case T$:case Td:case M$:case wg:case mu:case tf:case nf:case rf:case P$:case Il:case Fl:return nle;case Gt:case Xn:case Zc:case Mm:case qa:case Ha:case ef:return P6e;case Ua:case Qs:case Ga:case Ho:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case gu:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case of:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Oi:return{point:"always",geoshape:"always"};case Nb:return{text:"always"};case th:return{point:"always",square:"always",text:"always"};case N$:return{image:"always"};case Yo:return{text:"always",arc:"always"};case Wa:return{text:"always",arc:"always"};case pu:case hu:return{arc:"always"}}}function IP(e){switch(e){case Gt:case Xn:case Yo:case Wa:case Zc:case Mm:case gu:case th:case rf:case mu:case tf:case nf:case ef:case Ua:case Qs:case pu:case hu:return;case P$:case Il:case Fl:case Oi:case of:case Nb:case Td:case M$:case N$:case R$:return"discrete";case $i:case Js:case Zs:return"flexible";case qa:case Ha:case Ga:case Ho:case Rb:case T$:case wg:return}}const M6e={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},N6e={count:1,min:1,max:1};function tu(e){return Z(e,"argmin")}function af(e){return Z(e,"argmax")}function _4(e){return se(e)&&de(M6e,e)}const R6e=new Set(["count","valid","missing","distinct"]);function I$(e){return se(e)&&R6e.has(e)}function D6e(e){return se(e)&&Ue(["min","max"],e)}const I6e=new Set(["count","sum","distinct","valid","missing"]),F6e=new Set(["mean","average","median","q1","q3","min","max"]);function rle(e){return Gc(e)&&(e=X$(e,void 0)),`bin${J(e).map(t=>F$(e[t])?qt(`_${t}_${Fc(e[t])}`):qt(`_${t}_${e[t]}`)).join("")}`}function Tt(e){return e===!0||rh(e)&&!e.binned}function Jn(e){return e==="binned"||rh(e)&&e.binned===!0}function rh(e){return le(e)}function F$(e){return Z(e,"param")}function DW(e){switch(e){case Il:case Fl:case gu:case $i:case Js:case Zs:case rf:case mu:case tf:case nf:case Oi:return 6;case of:return 4;default:return 10}}function Ib(e){return Z(e,"expr")}function Zn(e,{level:t}={level:0}){const n=J(e||{}),r={};for(const i of n)r[i]=t===0?qi(e[i]):Zn(e[i],{level:t-1});return r}function ile(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:a,color:s,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:h,subtitlePadding:p,...g}=e,m={...g,...s?{fill:s}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...a!==void 0?{limit:a}:{}},v={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},b=vg(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:m,subtitleMarkConfig:b,nonMarkTitleProperties:y,subtitle:v}}function Fu(e){return se(e)||X(e)&&se(e[0])}function ye(e){return Z(e,"signal")}function ih(e){return Z(e,"step")}function j6e(e){return X(e)?!1:Z(e,"fields")&&!Z(e,"data")}function L6e(e){return X(e)?!1:Z(e,"fields")&&Z(e,"data")}function Tl(e){return X(e)?!1:Z(e,"field")&&Z(e,"data")}const z6e={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},B6e=J(z6e),U6e={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},jR=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function ole(e){const t=X(e.condition)?e.condition.map(IW):IW(e.condition);return{...qi(e),condition:t}}function qi(e){if(Ib(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function IW(e){if(Ib(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Lt(e){if(Ib(e)){const{expr:t,...n}=e;return{signal:t,...n}}return ye(e)?e:e!==void 0?{value:e}:void 0}function W6e(e){return ye(e)?e.signal:re(e)}function FW(e){return ye(e)?e.signal:re(e.value)}function xa(e){return ye(e)?e.signal:e==null?null:re(e)}function q6e(e,t,n){for(const r of n){const i=zs(r,t.markDef,t.config);i!==void 0&&(e[r]=Lt(i))}return e}function ale(e){return[].concat(e.type,e.style??[])}function vt(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&Z(t,i)?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:zs(e,t,n,r)}function zs(e,t,n,{vgChannel:r}={}){const i=LR(e,t,n.style);return dn(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function LR(e,t,n){return sle(e,ale(t),n)}function sle(e,t,n){t=ue(t);let r;for(const i of t){const o=n[i];Z(o,e)&&(r=o[e])}return r}function lle(e,t){return ue(e).reduce((n,r)=>(n.field.push(oe(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function ule(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(Xi(i,r))return;n.push(r)}),n}function cle(e,t){return Xi(e,t)||!t?e:e?[...ue(e),...ue(t)].join(", "):t}function fle(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((Fu(n)||ye(n))&&(Fu(r)||ye(r)))return{explicit:e.explicit,value:cle(n,r)};if(Fu(n)||ye(n))return{explicit:e.explicit,value:n};if(Fu(r)||ye(r))return{explicit:e.explicit,value:r};if(!Fu(n)&&!ye(n)&&!Fu(r)&&!ye(r))return{explicit:e.explicit,value:ule(n,r)};throw new Error("It should never reach here")}function A4(e){return`Invalid specification ${ut(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const H6e='Autosize "fit" only works for single views and layered views.';function jW(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function LW(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function zW(e){return e?`Dropping "fit-${e}" because spec has discrete ${Ci(e)}.`:'Dropping "fit" because spec has discrete size.'}function $4(e){return`Unknown field for ${e}. Cannot calculate view size.`}function BW(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function G6e(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function V6e(e){return`The "nearest" transform is not supported for ${e} marks.`}function dle(e){return`Selection not supported for ${e} yet.`}function X6e(e){return`Cannot find a selection named "${e}".`}const K6e="Scale bindings are currently only supported for scales with unbinned, continuous domains.",Y6e="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",Q6e="Legend bindings are only supported for selections over an individual field or encoding channel.";function J6e(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function Z6e(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const eze="The same selection must be used to override scale domains in a layered view.",tze='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function nze(e){return`Unknown repeated value "${e}".`}function UW(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const rze="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",O4="Animation involving facet, layer, or concat is currently unsupported.";function ize(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${re(e)}.`}function oze(e,t,n,r){return`${e.length?"Multiple ":"No "}matching ${re(t)} encoding found for selection ${re(n.param)}. Using "field": ${re(r)}.`}const aze="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function sze(e){return`Unrecognized parse "${e}".`}function WW(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const lze="Attempt to add the same child twice.";function uze(e){return`Ignoring an invalid transform: ${ut(e)}.`}const cze='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function qW(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function fze(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${ut(t)} is overridden by a child projection ${ut(n)}.`}const dze="Arc marks uses theta channel rather than angle, replacing angle with theta.";function hze(e){return`${e}Offset dropped because ${e} is continuous`}function pze(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${ut(n)}}.`}function hle(e){return`Invalid field type "${e}".`}function gze(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function mze(e){return`Invalid aggregation operator "${e}".`}function ple(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function yze(e){return`Position range does not support relative band size for ${e}.`}function zR(e,t){return`Dropping ${ut(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const vze="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function j$(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function bze(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function xze(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function wze(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function Sze(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function FP(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function Eze(e){return`The ${e} for range marks cannot be an expression`}function _ze(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function Aze(e,t){return`Specified orient "${e}" overridden with "${t}".`}function $ze(e){return`Cannot use the scale property "${e}" with non-color channel.`}function Oze(e){return`Cannot use the relative band size with ${e} scale.`}function Cze(e){return`Using unaggregated domain with raw field has no effect (${ut(e)}).`}function kze(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function Pze(e){return`Unaggregated domain is currently unsupported for log scale (${ut(e)}).`}function Tze(e){return`Cannot apply size to non-oriented mark "${e}".`}function Mze(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function Nze(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function gle(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function mle(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function Rze(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${ut(n)} and ${ut(r)}). Using ${ut(n)}.`}function Dze(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${ut(n)} and ${ut(r)}). Using the union of the two domains.`}function Ize(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function Fze(e){return`Dropping sort property ${ut(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const HW="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",jze="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",Lze="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",zze="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function Bze(e){return`Cannot stack "${e}" if there is already "${e}2".`}function Uze(e){return`Stack is applied to a non-linear scale (${e}).`}function Wze(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function C2(e,t){return`Invalid ${e}: ${ut(t)}.`}function qze(e){return`Dropping day from datetime ${ut(e)} as day cannot be combined with other units.`}function Hze(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function Gze(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function Vze(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function GW(e){return`1D error band does not support ${e}.`}function yle(e){return`Channel ${e} is required for "binned" bin.`}function Xze(e){return`Channel ${e} should not be used with "binned" bin.`}function Kze(e){return`Domain for ${e} is required for threshold scale.`}const vle=lF(sF);let Md=vle;function Yze(e){return Md=e,Md}function Qze(){return Md=vle,Md}function C4(...e){Md.error(...e)}function ee(...e){Md.warn(...e)}function Jze(...e){Md.debug(...e)}function oh(e){if(e&&le(e)){for(const t of P4)if(Z(e,t))return!0}return!1}const ble=["january","february","march","april","may","june","july","august","september","october","november","december"],Zze=ble.map(e=>e.substr(0,3)),xle=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],e8e=xle.map(e=>e.substr(0,3));function t8e(e){if(k$(e)&&(e=+e),tt(e))return e>4&&ee(C2("quarter",e)),e-1;throw new Error(C2("quarter",e))}function n8e(e){if(k$(e)&&(e=+e),tt(e))return e-1;{const t=e.toLowerCase(),n=ble.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=Zze.indexOf(r);if(i!==-1)return i;throw new Error(C2("month",e))}}function r8e(e){if(k$(e)&&(e=+e),tt(e))return e%7;{const t=e.toLowerCase(),n=xle.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=e8e.indexOf(r);if(i!==-1)return i;throw new Error(C2("day",e))}}function k4(e,t){const n=[];if(t&&e.day!==void 0&&J(e).length>1&&(ee(qze(e)),e=Ce(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?n8e(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?t8e(e.quarter):e.quarter;n.push(tt(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?r8e(e.day):e.day;n.push(tt(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Nd(e){const n=k4(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function i8e(e){const n=k4(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function o8e(e){const t=k4(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const wle={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},P4=J(wle);function a8e(e){return de(wle,e)}function ah(e){return le(e)?e.binned:Sle(e)}function Sle(e){return e==null?void 0:e.startsWith("binned")}function T4(e){return e.startsWith("utc")}function s8e(e){return e.substring(3)}const l8e={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function L$(e){return P4.filter(t=>_le(e,t))}function Ele(e){const t=L$(e);return t[t.length-1]}function _le(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function u8e(e,t,{end:n}={end:!1}){const r=g4(t),i=T4(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let a;const s={};for(const l of P4)_le(e,l)&&(s[l]=o(l),a=l);return n&&(s[a]+="+1"),i8e(s)}function Ale(e){if(!e)return;const t=L$(e);return`timeUnitSpecifier(${ut(t)}, ${ut(l8e)})`}function c8e(e,t,n){if(!e)return;const r=Ale(e);return`${n||T4(e)?"utc":"time"}Format(${t}, ${r})`}function Hn(e){if(!e)return;let t;return se(e)?Sle(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:le(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),T4(t.unit)&&(t.utc=!0,t.unit=s8e(t.unit)),t}function f8e(e){const{utc:t,...n}=Hn(e);return n.unit?(t?"utc":"")+J(n).map(r=>qt(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):`${t?"utc":""}timeunit${J(n).map(r=>qt(`_${r}_${n[r]}`)).join("")}`}function $le(e,t=n=>n){const n=Hn(e),r=Ele(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:a}=Ole(r,n.step),s={...i,[a]:+i[a]+o};return`${t(Nd(s))} - ${t(Nd(i))}`}}const d8e={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function h8e(e){return de(d8e,e)}function Ole(e,t=1){if(h8e(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function p8e(e){return Z(e,"param")}function M4(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function N4(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function R4(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function D4(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function I4(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function F4(e){if(e!=null&&e.field){if(X(e.range)&&e.range.length===2)return!0;if(ye(e.range))return!0}return!1}function j4(e){return!!(e!=null&&e.field)&&(X(e.oneOf)||X(e.in))}function g8e(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function Cle(e){return j4(e)||M4(e)||F4(e)||N4(e)||D4(e)||R4(e)||I4(e)}function ns(e,t){return K$(e,{timeUnit:t,wrapTime:!0})}function m8e(e,t){return e.map(n=>ns(n,t))}function kle(e,t=!0){const{field:n}=e,r=Hn(e.timeUnit),{unit:i,binned:o}=r||{},a=oe(e,{expr:"datum"}),s=i?`time(${o?a:u8e(i,n)})`:a;if(M4(e))return`${s}===${ns(e.equal,i)}`;if(N4(e)){const l=e.lt;return`${s}<${ns(l,i)}`}else if(D4(e)){const l=e.gt;return`${s}>${ns(l,i)}`}else if(R4(e)){const l=e.lte;return`${s}<=${ns(l,i)}`}else if(I4(e)){const l=e.gte;return`${s}>=${ns(l,i)}`}else{if(j4(e))return`indexof([${m8e(e.oneOf,i).join(",")}], ${s}) !== -1`;if(g8e(e))return z$(s,e.valid);if(F4(e)){const{range:l}=Zn(e),u=ye(l)?{signal:`${l.signal}[0]`}:l[0],c=ye(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return`inrange(${s}, [${ns(u,i)}, ${ns(c,i)}])`;const f=[];return u!==null&&f.push(`${s} >= ${ns(u,i)}`),c!==null&&f.push(`${s} <= ${ns(c,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${ut(e)}`)}function z$(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function y8e(e){return Cle(e)&&e.timeUnit?{...e,timeUnit:Hn(e.timeUnit)}:e}const Fb={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function v8e(e){return e==="quantitative"||e==="temporal"}function Ple(e){return e==="ordinal"||e==="nominal"}const Rd=Fb.quantitative,L4=Fb.ordinal,Sg=Fb.temporal,z4=Fb.nominal,Nm=Fb.geojson;function b8e(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Rd:return"quantitative";case"t":case Sg:return"temporal";case"o":case L4:return"ordinal";case"n":case z4:return"nominal";case Nm:return"geojson"}}const tr={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},BR={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function x8e(e,t){const n=BR[e],r=BR[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const w8e={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function VW(e){return w8e[e]}const Tle=new Set(["linear","log","pow","sqrt","symlog"]),Mle=new Set([...Tle,"time","utc"]);function Nle(e){return Tle.has(e)}const Rle=new Set(["quantile","quantize","threshold"]),S8e=new Set([...Mle,...Rle,"sequential","identity"]),E8e=new Set(["ordinal","bin-ordinal","point","band"]);function Gn(e){return E8e.has(e)}function Da(e){return S8e.has(e)}function bs(e){return Mle.has(e)}function Eg(e){return Rle.has(e)}const _8e={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function A8e(e){return!se(e)&&Z(e,"name")}function Dle(e){return Z(e,"param")}function $8e(e){return Z(e,"unionWith")}function O8e(e){return le(e)&&"field"in e}const C8e={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:qAt,domain:HAt,range:GAt,rangeMax:VAt,rangeMin:XAt,scheme:KAt,...k8e}=C8e,P8e=J(k8e);function UR(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return bs(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return bs(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return bs(e);case"nice":return bs(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Da(e)&&!Ue(["log","time","utc","threshold","quantile"],e)}}function Ile(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Ep(e)?void 0:$ze(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function T8e(e,t){return Ue([L4,z4],t)?e===void 0||Gn(e):t===Sg?Ue([tr.TIME,tr.UTC,void 0],e):t===Rd?Nle(e)||Eg(e)||e===void 0:!0}function M8e(e,t,n=!1){if(!tl(e))return!1;switch(e){case Gt:case Xn:case Zc:case Mm:case Yo:case Wa:return bs(t)||t==="band"?!0:t==="point"?!n:!1;case ef:return Ue(["linear","band"],t);case gu:case rf:case mu:case tf:case nf:case th:return bs(t)||Eg(t)||Ue(["band","point","ordinal"],t);case $i:case Js:case Zs:return t!=="band";case of:case Oi:return t==="ordinal"||Eg(t)}}function N8e(e){return le(e)&&"value"in e}const li={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Fle=li.arc,B$=li.area,U$=li.bar,R8e=li.image,W$=li.line,q$=li.point,D8e=li.rect,k2=li.rule,jle=li.text,B4=li.tick,I8e=li.trail,U4=li.circle,W4=li.square,Lle=li.geoshape;function sf(e){return["line","area","trail"].includes(e)}function Qv(e){return["rect","bar","image","arc","tick"].includes(e)}const F8e=new Set(J(li));function Bs(e){return Z(e,"type")}const j8e=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],L8e=["fill","fillOpacity"],z8e=[...j8e,...L8e],B8e={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},XW=J(B8e),jP=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],U8e={area:["line","point"],bar:jP,rect:jP,line:["point"],tick:["bandSize","thickness",...jP]},W8e={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},q8e={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},zle=J(q8e);function Dd(e){return Z(e,"band")}const H8e={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},G8e=5,q4={binSpacing:0,continuousBandSize:G8e,minBandSize:.25,timeUnitBandPosition:.5},V8e={...q4,binSpacing:1},X8e={...q4,thickness:1};function K8e(e){return Bs(e)?e.type:e}function Ble(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function H4({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var s,l;if(!r||!Da(r)||i)return"always-valid";const o=Ble(vt("invalid",e,t),{isPath:sf(e.type)});return((l=(s=t.scale)==null?void 0:s.invalid)==null?void 0:l[n])!==void 0?"show":o}function Y8e(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function Ule({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,o=`peek(${r})`,a=t.domainHasZero();return a==="definitely"?{scale:e,value:0}:a==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:o})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:o})`}}function Wle({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:o}){var c;const a=n==null?void 0:n.get("type"),s=Fa(t),l=I$(s==null?void 0:s.aggregate),u=H4({scaleChannel:e,markDef:i,config:o,scaleType:a,isCountAggregate:l});if(s&&u==="show"){const f=((c=o.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:z$(oe(s,{expr:"datum"}),!1),...Q8e(f,n,r)}}}function Q8e(e,t,n){if(N8e(e)){const{value:r}=e;return ye(r)?{signal:r.signal}:{value:r}}return Ule({scale:t,scaleName:n,mode:"zeroOrMin"})}function G4(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:o,config:a}=e,s=nh(t),l=V4(e),u=Wle({scaleChannel:s,channelDef:n,scale:i,scaleName:o,markDef:r,config:a});return u!==void 0?[u,l]:l}function J8e(e){const{datum:t}=e;return oh(t)?Nd(t):`${ut(t)}`}function rd(e,t,n,r){const i={};if(t&&(i.scale=t),nl(e)){const{datum:o}=e;oh(o)?i.signal=Nd(o):ye(o)?i.signal=o.signal:Ib(o)?i.signal=o.expr:i.value=o}else i.field=oe(e,n);if(r){const{offset:o,band:a}=r;o&&(i.offset=o),a&&(i.band=a)}return i}function P2({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:a=.5}){const s=!ye(a)&&0<a&&a<1?"datum":void 0,l=oe(t,{expr:s,suffix:i}),u=n!==void 0?oe(n,{expr:s}):oe(t,{suffix:o,expr:s}),c={};if(a===0||a===1){c.scale=e;const f=a===0?l:u;c.field=f}else{const f=ye(a)?`(1-${a.signal}) * ${l} + ${a.signal} * ${u}`:`${1-a} * ${l} + ${a} * ${u}`;c.signal=`scale("${e}", ${f})`}return r&&(c.offset=r),c}function Z8e({scaleName:e,fieldDef:t}){const n=oe(t,{expr:"datum"}),r=oe(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function V4({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:a,stack:s,offset:l,defaultRef:u,bandPosition:c}){if(t){if(Pe(t)){const f=a==null?void 0:a.get("type");if(ii(t)){c??(c=Lc({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:d,timeUnit:h,type:p}=t;if(Tt(d)||c&&h&&p===Sg)return s!=null&&s.impute?rd(t,o,{binSuffix:"mid"},{offset:l}):c&&!Gn(f)?P2({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:l}):rd(t,o,Ub(t,e)?{binSuffix:"range"}:{},{offset:l});if(Jn(d)){if(te(n))return P2({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});ee(yle(e===Gt?Ua:Qs))}}return rd(t,o,Gn(f)?{binSuffix:"range"}:{},{offset:l,band:f==="band"?c??t.bandPosition??.5:void 0})}else if(Ia(t)){const f=t.value,d=l?{offset:l}:{};return{...q0(e,f),...d}}}return Re(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function q0(e,t){return Ue(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Ue(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Lt(t)}function Id(e){return e&&e!=="number"&&e!=="time"}function qle(e,t,n){return`${e}(${t}${n?`, ${ut(n)}`:""})`}const eBe="  ";function X4({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var l,u;if(Id(n))return wa({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const a=Hle(e,r,i),s=_g(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(s==="quantitative"){if(i&&o.normalizedNumberFormatType)return wa({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return wa({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(s==="temporal"&&o.timeFormatType&&te(e)&&e.timeUnit===void 0)return wa({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if($g(e)){const c=nBe({field:a,timeUnit:te(e)?(l=Hn(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:sh(e)&&((u=e.scale)==null?void 0:u.type)===tr.UTC});return c?{signal:c}:void 0}if(t=WR({type:s,specifiedFormat:t,config:o,normalizeStack:i}),te(e)&&Tt(e.bin)){const c=oe(e,{expr:r,binSuffix:"end"});return{signal:jb(a,c,t,n,o)}}else return t||_g(e)==="quantitative"?{signal:`${Xle(a,t)}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}function Hle(e,t,n){return te(e)?n?`${oe(e,{expr:t,suffix:"end"})}-${oe(e,{expr:t,suffix:"start"})}`:oe(e,{expr:t}):J8e(e)}function wa({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:a}){if(a??(a=Hle(e,r,i)),a!=="datum.value"&&te(e)&&Tt(e.bin)){const s=oe(e,{expr:r,binSuffix:"end"});return{signal:jb(a,s,t,n,o)}}return{signal:qle(n,a,t)}}function Gle(e,t,n,r,i,o){var a;if(!(se(r)&&Id(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&_g(e)==="quantitative"&&(i.normalizedNumberFormatType&&Ag(e)&&e.stack==="normalize"||i.numberFormatType))){if(Ag(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return WR({type:"quantitative",config:i,normalizeStack:!0});if($g(e)){const s=te(e)?(a=Hn(e.timeUnit))==null?void 0:a.unit:void 0;return s===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:tBe({specifiedFormat:n,timeUnit:s,config:i,omitTimeFormatConfig:o})}return WR({type:t,specifiedFormat:n,config:i})}}function Vle(e,t,n){var r;if(e&&(ye(e)||e==="number"||e==="time"))return e;if($g(t)&&n!=="time"&&n!=="utc")return te(t)&&((r=Hn(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function WR({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(se(t))return t;if(e===Rd)return r?n.normalizedNumberFormat:n.numberFormat}function tBe({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:Ale(t)}:r?void 0:n.timeFormat)}function Xle(e,t){return`format(${e}, "${t||""}")`}function KW(e,t,n,r){return Id(n)?qle(n,e,t):Xle(e,(se(t)?t:void 0)??r.numberFormat)}function jb(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return jb(e,t,i.numberFormat,i.numberFormatType,i);const o=KW(e,n,r,i),a=KW(t,n,r,i);return`${z$(e,!1)} ? "null" : ${o} + "${eBe}" + ${a}`}function nBe({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, ${ut(n)})`:(n=se(n)?n:i,`${o?"utc":"time"}Format(${e}, ${ut(n)})`):c8e(t,e,o)}const H$="min",rBe={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function YW(e){return de(rBe,e)}function iBe(e){return Z(e,"encoding")}function jl(e){return e&&(e.op==="count"||Z(e,"field"))}function Kle(e){return e&&X(e)}function Lb(e){return Z(e,"row")||Z(e,"column")}function K4(e){return Z(e,"header")}function G$(e){return Z(e,"facet")}function oBe(e){return Z(e,"param")}function aBe(e){return!se(e)&&Z(e,"repeat")}function QW(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function Y4(e){return Z(e,"sort")}function Lc({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Pe(e)&&e.bandPosition!==void 0)return e.bandPosition;if(te(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return zs("timeUnitBandPosition",n,r);if(Tt(o))return .5}}function Yle({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:a}){var u,c,f;const s=Ci(e),l=vt(a?"size":s,r,i,{vgChannel:s});if(l!==void 0)return l;if(te(t)){const{timeUnit:d,bin:h}=t;if(d&&!n)return{band:zs("timeUnitBandSize",r,i)};if(Tt(h)&&!Gn(o))return{band:1}}if(Qv(r.type))return o?Gn(o)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function Qle(e,t,n,r){return Tt(e.bin)||e.timeUnit&&ii(e)&&e.type==="temporal"?Lc({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function Jle(e){return Z(e,"sort")&&!Z(e,"field")}function zb(e){return Z(e,"condition")}function V$(e){const t=e==null?void 0:e.condition;return!!t&&!X(t)&&te(t)}function Bb(e){const t=e==null?void 0:e.condition;return!!t&&!X(t)&&Pe(t)}function sBe(e){const t=e==null?void 0:e.condition;return!!t&&(X(t)||Ia(t))}function te(e){return Z(e,"field")||(e==null?void 0:e.aggregate)==="count"}function _g(e){return e==null?void 0:e.type}function nl(e){return Z(e,"datum")}function ic(e){return ii(e)&&!M2(e)||T2(e)}function JW(e){return ii(e)&&e.type==="quantitative"&&!e.bin||T2(e)}function T2(e){return nl(e)&&tt(e.datum)}function Pe(e){return te(e)||nl(e)}function ii(e){return e&&(Z(e,"field")||e.aggregate==="count")&&Z(e,"type")}function Ia(e){return Z(e,"value")}function sh(e){return Z(e,"scale")||Z(e,"sort")}function Ag(e){return Z(e,"axis")||Z(e,"stack")||Z(e,"impute")}function Zle(e){return Z(e,"legend")}function eue(e){return Z(e,"format")||Z(e,"formatType")}function lBe(e){return eo(e,["legend","axis","header","scale"])}function uBe(e){return Z(e,"op")}function oe(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(fBe(e))n=Wse("count");else{let a;if(!t.nofn)if(uBe(e))a=e.op;else{const{bin:s,aggregate:l,timeUnit:u}=e;Tt(s)?(a=rle(s),i=(t.binSuffix??"")+(t.suffix??"")):l?af(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):tu(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):a=String(l):u&&!ah(u)&&(a=f8e(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}a&&(n=n?`${a}_${n}`:a)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?Tm(n):t.expr?zse(n,t.expr)+o:qo(n)+o}function M2(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return te(e)&&!!e.bin;case"temporal":return!1}throw new Error(hle(e.type))}function cBe(e){var t;return sh(e)&&Eg((t=e.scale)==null?void 0:t.type)}function fBe(e){return e.aggregate==="count"}function dBe(e,t){var a;const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(Tt(r))return`${n} (binned)`;if(i&&!ah(i)){const s=(a=Hn(i))==null?void 0:a.unit;if(s)return`${n} (${L$(s).join("-")})`}else if(o)return af(o)?`${n} for max ${o.argmax}`:tu(o)?`${n} for min ${o.argmin}`:`${Mb(o)} of ${n}`;return n}function hBe(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(af(t))return`${i} for argmax(${t.argmax})`;if(tu(t))return`${i} for argmin(${t.argmin})`;const o=r&&!ah(r)?Hn(r):void 0,a=t||(o==null?void 0:o.unit)||(o==null?void 0:o.maxbins)&&"timeunit"||Tt(n)&&"bin";return a?`${a.toUpperCase()}(${i})`:i}const tue=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return hBe(e);default:return dBe(e,t)}};let nue=tue;function rue(e){nue=e}function pBe(){rue(tue)}function _p(e,t,{allowDisabling:n,includeDefault:r=!0}){var s;const i=(s=Q4(e))==null?void 0:s.title;if(!te(e))return i??e.title;const o=e,a=r?J4(o,t):void 0;return n?dn(i,o.title,a):i??o.title??a}function Q4(e){if(Ag(e)&&e.axis)return e.axis;if(Zle(e)&&e.legend)return e.legend;if(K4(e)&&e.header)return e.header}function J4(e,t){return nue(e,t)}function N2(e){if(eue(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=Q4(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function gBe(e,t){var o;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Y4(e)&&X(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!af(n)&&!tu(n))return"quantitative";if(sh(e)&&((o=e.scale)!=null&&o.type))switch(BR[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Fa(e){if(te(e))return e;if(V$(e))return e.condition}function Tn(e){if(Pe(e))return e;if(Bb(e))return e.condition}function iue(e,t,n,r={}){if(se(e)||tt(e)||Gc(e)){const i=se(e)?"string":tt(e)?"number":"boolean";return ee(pze(t,i,e)),{value:e}}return Pe(e)?R2(e,t,n,r):Bb(e)?{...e,condition:R2(e.condition,t,n,r)}:e}function R2(e,t,n,r){if(eue(e)){const{format:i,formatType:o,...a}=e;if(Id(o)&&!n.customFormatTypes)return ee(qW(t)),R2(a,t,n,r)}else{const i=Ag(e)?"axis":Zle(e)?"legend":K4(e)?"header":null;if(i&&e[i]){const{format:o,formatType:a,...s}=e[i];if(Id(a)&&!n.customFormatTypes)return ee(qW(t)),R2({...e,[i]:s},t,n,r)}}return te(e)?Z4(e,t,r):mBe(e)}function mBe(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=tt(n)?"quantitative":se(n)?"nominal":oh(n)?"temporal":void 0,{...e,type:t}}function Z4(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:a}=e,s={...e};if(!n&&r&&!_4(r)&&!af(r)&&!tu(r)&&(ee(mze(r)),delete s.aggregate),i&&(s.timeUnit=Hn(i)),a&&(s.field=`${a}`),Tt(o)&&(s.bin=X$(o,t)),Jn(o)&&!hn(t)&&ee(Xze(t)),ii(s)){const{type:l}=s,u=b8e(l);l!==u&&(s.type=u),l!=="quantitative"&&I$(r)&&(ee(gze(l,r)),s.type="quantitative")}else if(!Qse(t)){const l=gBe(s,t);s.type=l}if(ii(s)){const{compatible:l,warning:u}=yBe(s,t)||{};l===!1&&ee(u)}if(Y4(s)&&se(s.sort)){const{sort:l}=s;if(YW(l))return{...s,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&YW(u))return{...s,sort:{encoding:u,order:"descending"}}}if(K4(s)){const{header:l}=s;if(l){const{orient:u,...c}=l;if(u)return{...s,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return s}function X$(e,t){return Gc(e)?{maxbins:DW(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:DW(t)}:e}const _h={compatible:!0};function yBe(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Il:case Fl:case P$:return M2(e)?_h:{compatible:!1,warning:xze(t)};case Gt:case Xn:case Zc:case Mm:case $i:case Js:case Zs:case Nb:case Rb:case T$:case Td:case M$:case N$:case th:case Yo:case Wa:case R$:return _h;case Ha:case Ho:case qa:case Ga:return n!==Rd?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:_h;case mu:case tf:case nf:case rf:case gu:case pu:case hu:case Ua:case Qs:case ef:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:_h;case Oi:case of:return!M2(e)&&!cBe(e)?{compatible:!1,warning:wze(t)}:_h;case wg:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:_h}}function $g(e){const{formatType:t}=N2(e);return t==="time"||!t&&vBe(e)}function vBe(e){return e&&(e.type==="temporal"||te(e)&&!!e.timeUnit)}function K$(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const o=t&&((l=Hn(t))==null?void 0:l.unit);let a=o||n==="temporal",s;return Ib(e)?s=e.expr:ye(e)?s=e.signal:oh(e)?(a=!0,s=Nd(e)):(se(e)||tt(e))&&a&&(s=`datetime(${ut(e)})`,a8e(o)&&(tt(e)&&e<1e4||se(e)&&isNaN(Date.parse(e)))&&(s=Nd({[o]:e}))),s?r&&a?`time(${s})`:s:i?void 0:ut(e)}function oue(e,t){const{type:n}=e;return t.map(r=>{const i=te(e)&&!ah(e.timeUnit)?e.timeUnit:void 0,o=K$(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function Ub(e,t){return Tt(e.bin)?tl(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const ZW={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Wb(e){return e==null?void 0:e.condition}const aue=["domain","grid","labels","ticks","title"],bBe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},sue={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},xBe={...sue,style:1,labelExpr:1,encoding:1};function eq(e){return de(xBe,e)}const wBe={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},lue=J(wBe);function vu(e){return Z(e,"mark")}class Y${constructor(t,n){K(this,"name");K(this,"run");this.name=t,this.run=n}hasMatchingType(t){return vu(t)?K8e(t.mark)===this.name:!1}}function id(e,t){const n=e==null?void 0:e[t];return n?X(n)?bg(n,r=>!!r.field):te(n)||V$(n):!1}function uue(e,t){const n=e==null?void 0:e[t];return n?X(n)?bg(n,r=>!!r.field):te(n)||nl(n)||Bb(n):!1}function cue(e,t){if(hn(t)){const n=e[t];if((te(n)||nl(n))&&(Ple(n.type)||te(n)&&n.timeUnit)){const r=b4(t);return uue(e,r)}}return!1}function fue(e){return bg(m6e,t=>{if(id(e,t)){const n=e[t];if(X(n))return bg(n,r=>!!r.aggregate);{const r=Fa(n);return r&&!!r.aggregate}}return!1})}function due(e,t){const n=[],r=[],i=[],o=[],a={};return e6(e,(s,l)=>{if(te(s)){const{field:u,aggregate:c,bin:f,timeUnit:d,...h}=s;if(c||d||f){const p=Q4(s),g=p==null?void 0:p.title;let m=oe(s,{forAs:!0});const y={...g?[]:{title:_p(s,t,{allowDisabling:!0})},...h,field:m};if(c){let v;if(af(c)?(v="argmax",m=oe({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${m}.${u}`):tu(c)?(v="argmin",m=oe({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${m}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const b={op:v,as:m};u&&(b.field=u),o.push(b)}}else if(n.push(m),ii(s)&&Tt(f)){if(r.push({bin:f,field:u,as:m}),n.push(oe(s,{binSuffix:"end"})),Ub(s,l)&&n.push(oe(s,{binSuffix:"range"})),hn(l)){const v={field:`${m}_end`};a[`${l}2`]=v}y.bin="binned",Qse(l)||(y.type=Rd)}else if(d&&!ah(d)){i.push({timeUnit:d,field:u,as:m});const v=ii(s)&&s.type!==Sg&&"time";v&&(l===Nb||l===Td?y.formatType=v:O6e(l)?y.legend={formatType:v,...y.legend}:hn(l)&&(y.axis={formatType:v,...y.axis}))}a[l]=y}else n.push(u),a[l]=e[l]}else a[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:a}}function SBe(e,t,n){const r=k6e(t,n);if(r){if(r==="binned"){const i=e[t===Ua?Gt:Xn];return!!(te(i)&&te(e[t])&&Jn(i.bin))}}else return!1;return!0}function EBe(e,t,n,r){const i={};for(const o of J(e))Yse(o)||ee(bze(o));for(let o of S6e){if(!e[o])continue;const a=e[o];if(Db(o)){const s=w6e(o),l=i[s];if(te(l)&&v8e(l.type)&&te(a)&&!l.timeUnit){ee(hze(s));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(ee(dze),o=Yo),!SBe(e,o,t)){ee(j$(o,t));continue}if(o===gu&&t==="line"){const s=Fa(e[o]);if(s!=null&&s.aggregate){ee(vze);continue}}if(o===$i&&(n?"fill"in e:"stroke"in e)){ee(ple("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===Rb||o===wg&&!X(a)&&!Ia(a)||o===Td&&X(a)){if(a){if(o===wg){const s=e[o];if(Jle(s)){i[o]=s;continue}}i[o]=ue(a).reduce((s,l)=>(te(l)?s.push(Z4(l,o)):ee(zR(l,o)),s),[])}}else{if(o===Td&&a===null)i[o]=null;else if(!te(a)&&!nl(a)&&!Ia(a)&&!zb(a)&&!ye(a)){ee(zR(a,o));continue}i[o]=iue(a,o,r)}}return i}function Q$(e,t){const n={};for(const r of J(e)){const i=iue(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function _Be(e){const t=[];for(const n of J(e))if(id(e,n)){const r=e[n],i=ue(r);for(const o of i)te(o)?t.push(o):V$(o)&&t.push(o.condition)}return t}function e6(e,t,n){if(e)for(const r of J(e)){const i=e[r];if(X(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function ABe(e,t,n,r){return e?J(e).reduce((i,o)=>{const a=e[o];return X(a)?a.reduce((s,l)=>t.call(r,s,l,o),i):t.call(r,i,a,o)},n):n}function hue(e,t){return J(t).reduce((n,r)=>{switch(r){case Gt:case Xn:case M$:case R$:case N$:case Ua:case Qs:case Zc:case Mm:case Yo:case pu:case Wa:case hu:case ef:case qa:case Ha:case Ga:case Ho:case Nb:case Oi:case th:case Td:return n;case wg:if(e==="line"||e==="trail")return n;case Rb:case T$:{const i=t[r];if(X(i)||te(i))for(const o of ue(i))o.aggregate||n.push(oe(o,{}));return n}case gu:if(e==="trail")return n;case $i:case Js:case Zs:case mu:case tf:case nf:case of:case rf:{const i=Fa(t[r]);return i&&!i.aggregate&&n.push(oe(i,{})),n}}},[])}function $Be(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(X(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return X(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function qR(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:a,titlePrefix:s})=>{const l=r?` of ${t6(t)}`:"";return{field:a+t.field,type:t.type,title:ye(s)?{signal:`${s}"${escape(l)}"`}:s+l}}),o=_Be(n).map(lBe);return{tooltip:[...i,...vs(o,He)]}}function t6(e){const{title:t,field:n}=e;return dn(t,n)}function n6(e,t,n,r,i){const{scale:o,axis:a}=n;return({partName:s,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:f={}})=>{const d=t6(n);return pue(e,s,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...d!==void 0?{title:d}:{},...o!==void 0?{scale:o}:{},...a!==void 0?{axis:a}:{}},...se(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...f}})}}function pue(e,t,n,r){const{clip:i,color:o,opacity:a}=e,s=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...a?{opacity:a}:{},...Bs(r.mark)?r.mark:{type:r.mark},style:`${s}-${String(t)}`,...Gc(e[t])?{}:e[t]}}]:[]}function gue(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],a=r[`${i}2`],s=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:hw(o,n),continuousAxisChannelDef2:hw(a,n),continuousAxisChannelDefError:hw(s,n),continuousAxisChannelDefError2:hw(l,n),continuousAxis:i}}function hw(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&ee(Vze(n,t)),r}else return e}function mue(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(Bs(n)&&n.orient)return n.orient;if(ic(i)){if(ic(o)){const a=te(i)&&i.aggregate,s=te(o)&&o.aggregate;if(!a&&s===t)return"vertical";if(!s&&a===t)return"horizontal";if(a===t&&s===t)throw new Error("Both x and y cannot have aggregate");return $g(o)&&!$g(i)?"horizontal":"vertical"}return"horizontal"}else{if(ic(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const D2="boxplot",OBe=["box","median","outliers","rule","ticks"],CBe=new Y$(D2,vue);function yue(e){return tt(e)?"tukey":e}function vue(e,{config:t}){e={...e,encoding:Q$(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...a}=e,s=Bs(n)?n:{type:n};i&&ee(dle("boxplot"));const l=s.extent??t.boxplot.extent,u=vt("size",s,t),c=s.invalid,f=yue(l),{bins:d,timeUnits:h,transform:p,continuousAxisChannelDef:g,continuousAxis:m,groupby:y,aggregate:v,encodingWithoutContinuousAxis:b,ticksOrient:x,boxOrient:w,customTooltipWithoutAggregatedField:E}=kBe(e,l,t),S=Tm(g.field),{color:A,size:$,..._}=b,O=En=>n6(s,m,g,En,t.boxplot),P=O(_),R=O(b),k=(le(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",C=O({..._,...$?{size:$}:{},color:{condition:{test:`${ft(`lower_box_${g.field}`)} >= ${ft(`upper_box_${g.field}`)}`,...A||{value:k}}}}),M=qR([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],g,b),I={type:"tick",color:"black",opacity:1,orient:x,invalid:c,aria:!1},N=f==="min-max"?M:qR([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,b),F=[...P({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:N}),...P({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:N}),...P({partName:"ticks",mark:I,positionPrefix:"lower_whisker",extraEncoding:N}),...P({partName:"ticks",mark:I,positionPrefix:"upper_whisker",extraEncoding:N})],L=[...f!=="tukey"?F:[],...R({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:w,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:M}),...C({partName:"median",mark:{type:"tick",invalid:c,...le(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:x,aria:!1},positionPrefix:"mid_box",extraEncoding:M})];if(f==="min-max")return{...a,transform:(a.transform??[]).concat(p),layer:L};const z=ft(`lower_box_${g.field}`),B=ft(`upper_box_${g.field}`),V=`(${B} - ${z})`,ce=`${z} - ${l} * ${V}`,fe=`${B} + ${l} * ${V}`,Ee=ft(g.field),Xe={joinaggregate:bue(g.field),groupby:y},Mt={transform:[{filter:`(${ce} <= ${Ee}) && (${Ee} <= ${fe})`},{aggregate:[{op:"min",field:g.field,as:`lower_whisker_${S}`},{op:"max",field:g.field,as:`upper_whisker_${S}`},{op:"min",field:`lower_box_${g.field}`,as:`lower_box_${S}`},{op:"max",field:`upper_box_${g.field}`,as:`upper_box_${S}`},...v],groupby:y}],layer:F},{tooltip:ae,...ve}=_,{scale:$e,axis:Q}=g,Je=t6(g),De=pue(s,"outliers",t.boxplot,{transform:[{filter:`(${Ee} < ${ce}) || (${Ee} > ${fe})`}],mark:"point",encoding:{[m]:{field:g.field,type:g.type,...Je!==void 0?{title:Je}:{},...$e!==void 0?{scale:$e}:{},...Q!==void 0?{axis:Q}:{}},...ve,...A?{color:A}:{},...E?{tooltip:E}:{}}})[0];let ct;const Ze=[...d,...h,Xe];return De?ct={transform:Ze,layer:[De,Mt]}:(ct=Mt,ct.transform.unshift(...Ze)),{...a,layer:[ct,{transform:p,layer:L}]}}function bue(e){const t=Tm(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function kBe(e,t,n){const r=mue(e,D2),{continuousAxisChannelDef:i,continuousAxis:o}=gue(e,r,D2),a=i.field,s=Tm(a),l=yue(t),u=[...bue(a),{op:"median",field:a,as:`mid_box_${s}`},{op:"min",field:a,as:(l==="min-max"?"lower_whisker_":"min_")+s},{op:"max",field:a,as:(l==="min-max"?"upper_whisker_":"max_")+s}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`${ft(`upper_box_${s}`)} - ${ft(`lower_box_${s}`)}`,as:`iqr_${s}`},{calculate:`min(${ft(`upper_box_${s}`)} + ${ft(`iqr_${s}`)} * ${t}, ${ft(`max_${s}`)})`,as:`upper_whisker_${s}`},{calculate:`max(${ft(`lower_box_${s}`)} - ${ft(`iqr_${s}`)} * ${t}, ${ft(`min_${s}`)})`,as:`lower_whisker_${s}`}],{[o]:f,...d}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=$Be(d),{bins:g,timeUnits:m,aggregate:y,groupby:v,encoding:b}=due(p,n),x=r==="vertical"?"horizontal":"vertical",w=r,E=[...g,...m,{aggregate:[...y,...u],groupby:v},...c];return{bins:g,timeUnits:m,transform:E,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:b,ticksOrient:x,boxOrient:w,customTooltipWithoutAggregatedField:h}}const r6="errorbar",PBe=["ticks","rule"],TBe=new Y$(r6,xue);function xue(e,{config:t}){e={...e,encoding:Q$(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:a,markDef:s,outerSpec:l,tooltipEncoding:u}=wue(e,r6,t);delete o.size;const c=n6(s,i,r,o,t.errorbar),f=s.thickness,d=s.size,h={type:"tick",orient:a,aria:!1,...f!==void 0?{thickness:f}:{},...d!==void 0?{size:d}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function MBe(e,t){const{encoding:n}=e;if(NBe(n))return{orient:mue(e,t),inputType:"raw"};const r=RBe(n),i=DBe(n),o=n.x,a=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const s=n.x2,l=n.y2;if(Pe(s)&&Pe(l))throw new Error(`${t} cannot have both x2 and y2`);if(Pe(s)){if(ic(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Pe(l)){if(ic(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const s=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(Pe(l)&&!Pe(s))throw new Error(`${t} cannot have xError2 without xError`);if(Pe(c)&&!Pe(u))throw new Error(`${t} cannot have yError2 without yError`);if(Pe(s)&&Pe(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Pe(s)){if(ic(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Pe(u)){if(ic(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function NBe(e){return(Pe(e.x)||Pe(e.y))&&!Pe(e.x2)&&!Pe(e.y2)&&!Pe(e.xError)&&!Pe(e.xError2)&&!Pe(e.yError)&&!Pe(e.yError2)}function RBe(e){return Pe(e.x2)||Pe(e.y2)}function DBe(e){return Pe(e.xError)||Pe(e.xError2)||Pe(e.yError)||Pe(e.yError2)}function wue(e,t,n){const{mark:r,encoding:i,params:o,projection:a,...s}=e,l=Bs(r)?r:{type:r};o&&ee(dle(t));const{orient:u,inputType:c}=MBe(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:g}=gue(e,u,t),{errorBarSpecificAggregate:m,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:b}=IBe(l,f,d,h,p,c,t,n),{[g]:x,[g==="x"?"x2":"y2"]:w,[g==="x"?"xError":"yError"]:E,[g==="x"?"xError2":"yError2"]:S,...A}=i,{bins:$,timeUnits:_,aggregate:O,groupby:P,encoding:R}=due(A,n),k=[...O,...m],C=c!=="raw"?[]:P,M=qR(v,f,R,b);return{transform:[...s.transform??[],...$,..._,...k.length===0?[]:[{aggregate:k,groupby:C}],...y],groupby:C,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:R,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:s,tooltipEncoding:M}}function IBe(e,t,n,r,i,o,a,s){let l=[],u=[];const c=t.field;let f,d=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":s.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&ee(Gze(h,p,a)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],u=[{calculate:`${ft(`center_${c}`)} + ${ft(`extent_${c}`)}`,as:`upper_${c}`},{calculate:`${ft(`center_${c}`)} - ${ft(`extent_${c}`)}`,as:`lower_${c}`}],f=[{fieldPrefix:"center_",titlePrefix:Mb(h)},{fieldPrefix:"upper_",titlePrefix:tq(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:tq(h,p,"-")}],d=!0;else{let g,m,y;p==="ci"?(g="mean",m="ci0",y="ci1"):(g="median",m="q1",y="q3"),l=[{op:m,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:g,field:c,as:`center_${c}`}],f=[{fieldPrefix:"upper_",titlePrefix:_p({field:c,aggregate:y,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:_p({field:c,aggregate:m,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:_p({field:c,aggregate:g,type:"quantitative"},s,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&ee(Hze(e.center,e.extent)),o==="aggregated-upper-lower"?(f=[],u=[{calculate:ft(n.field),as:`upper_${c}`},{calculate:ft(c),as:`lower_${c}`}]):o==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`${ft(c)} + ${ft(r.field)}`,as:`upper_${c}`}],i?u.push({calculate:`${ft(c)} + ${ft(i.field)}`,as:`lower_${c}`}):u.push({calculate:`${ft(c)} - ${ft(r.field)}`,as:`lower_${c}`}));for(const h of u)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:Pd(Pd(h.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}function tq(e,t,n){return`${Mb(e)} ${n} ${t}`}const i6="errorband",FBe=["band","borders"],jBe=new Y$(i6,Sue);function Sue(e,{config:t}){e={...e,encoding:Q$(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:a,outerSpec:s,tooltipEncoding:l}=wue(e,i6,t),u=a,c=n6(u,i,r,o,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const p={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return f?(d={...d,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):u.interpolate?ee(GW("interpolate")):u.tension&&ee(GW("tension")),{...s,transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const Eue={};function o6(e,t,n){const r=new Y$(e,t);Eue[e]={normalizer:r,parts:n}}function LBe(){return J(Eue)}o6(D2,vue,OBe);o6(r6,xue,PBe);o6(i6,Sue,FBe);const zBe=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],_ue={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Aue={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},BBe=J(_ue),UBe=J(Aue),WBe={header:1,headerRow:1,headerColumn:1,headerFacet:1},$ue=J(WBe),Oue=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],qBe={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},HBe={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},ja="_vgsid_",GBe={point:{on:"click",fields:[ja],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function a6(e){return e==="legend"||!!(e!=null&&e.legend)}function LP(e){return a6(e)&&le(e)}function s6(e){return!!(e!=null&&e.select)}function Cue(e){const t=[];for(const n of e||[]){if(s6(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const a={...o,bind:i,init:r};t.push(a)}else{const a={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(a)}}return t}function VBe(e){return J$(e)||u6(e)||l6(e)}function l6(e){return Z(e,"concat")}function J$(e){return Z(e,"vconcat")}function u6(e){return Z(e,"hconcat")}function kue({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Us(e){return Z(e,"step")}function nq(e){return Z(e,"view")||Z(e,"width")||Z(e,"height")}const rq=20,XBe={align:1,bounds:1,center:1,columns:1,spacing:1},KBe=J(XBe);function YBe(e,t,n){const r=n[t],i={},{spacing:o,columns:a}=r;o!==void 0&&(i.spacing=o),a!==void 0&&(G$(e)&&!Lb(e.facet)||l6(e))&&(i.columns=a),J$(e)&&(i.columns=1);for(const s of KBe)if(e[s]!==void 0)if(s==="spacing"){const l=e[s];i[s]=tt(l)?l:{row:l.row??o,column:l.column??o}}else i[s]=e[s];return i}function HR(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function GR(e,t){const n=I2(e,t);return Us(n)?n.step:Pue}function I2(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return dn(n,{step:e.step})}const Pue=20,QBe={continuousWidth:300,continuousHeight:300,step:Pue},JBe={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:QBe,mark:W8e,arc:{},area:{},bar:V8e,circle:{},geoshape:{},image:{},line:{},point:{},rect:q4,rule:{color:"black"},square:{},text:{color:"black"},tick:X8e,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:_8e,projection:{},legend:qBe,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:GBe,style:{},title:{},facet:{spacing:rq},concat:{spacing:rq},normalizedNumberFormat:".0%"},ul=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],iq={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},oq={blue:ul[0],orange:ul[1],red:ul[2],teal:ul[3],green:ul[4],yellow:ul[5],purple:ul[6],pink:ul[7],brown:ul[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function ZBe(e={}){return{signals:[{name:"color",value:le(e)?{...oq,...e}:oq}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function e9e(e){return{signals:[{name:"fontSize",value:le(e)?{...iq,...e}:iq}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function t9e(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function Tue(e){const t=J(e||{}),n={};for(const r of t){const i=e[r];n[r]=Wb(i)?ole(i):qi(i)}return n}function n9e(e){const t=J(e),n={};for(const r of t)n[r]=Tue(e[r]);return n}const r9e=[...zle,...lue,...$ue,"background","padding","legend","lineBreak","scale","style","title","view"];function Mue(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,a=pm({},Ce(JBe),n?t9e(n):{},t?ZBe(t):{},r?e9e(r):{},o||{});i&&gm(a,"selection",i,!0);const s=eo(a,r9e);for(const l of["background","lineBreak","padding"])a[l]&&(s[l]=qi(a[l]));for(const l of zle)a[l]&&(s[l]=Zn(a[l]));for(const l of lue)a[l]&&(s[l]=Tue(a[l]));for(const l of $ue)a[l]&&(s[l]=Zn(a[l]));if(a.legend&&(s.legend=Zn(a.legend)),a.scale){const{invalid:l,...u}=a.scale,c=Zn(l,{level:1});s.scale={...Zn(u),...J(c).length>0?{invalid:c}:{}}}return a.style&&(s.style=n9e(a.style)),a.title&&(s.title=Zn(a.title)),a.view&&(s.view=Zn(a.view)),s}const i9e=new Set(["view",...F8e]),o9e=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],a9e={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...U8e};function s9e(e){e=Ce(e);for(const t of o9e)delete e[t];if(e.axis)for(const t in e.axis)Wb(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of zBe)delete e.legend[t];if(e.mark){for(const t of XW)delete e.mark[t];e.mark.tooltip&&le(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(Cue(e.params)),delete e.params);for(const t of i9e){for(const r of XW)delete e[t][r];const n=a9e[t];if(n)for(const r of n)delete e[t][r];u9e(e,t)}for(const t of LBe())delete e[t];l9e(e);for(const t in e)le(e[t])&&At(e[t])&&delete e[t];return At(e)?void 0:e}function l9e(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=ile(e.title);At(t)||(e.style["group-title"]={...e.style["group-title"],...t}),At(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),At(r)?delete e.title:e.title=r}function u9e(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};At(o)||(e.style[n??t]=o),delete e[t]}function Z$(e){return Z(e,"layer")}function c9e(e){return Z(e,"repeat")}function f9e(e){return!X(e.repeat)&&Z(e.repeat,"layer")}class c6{map(t,n){return G$(t)?this.mapFacet(t,n):c9e(t)?this.mapRepeat(t,n):u6(t)?this.mapHConcat(t,n):J$(t)?this.mapVConcat(t,n):l6(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(Z$(t))return this.mapLayer(t,n);if(vu(t))return this.mapUnit(t,n);throw new Error(A4(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const d9e={zero:1,center:1,normalize:1};function h9e(e){return de(d9e,e)}const p9e=new Set([Fle,U$,B$,k2,q$,U4,W4,W$,jle,B4]),g9e=new Set([U$,B$,Fle]);function Ah(e){return te(e)&&_g(e)==="quantitative"&&!e.bin}function aq(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),a=e[t],s=e[i];if(te(a)&&te(s))if(Ah(a)&&Ah(s)){if(a.stack)return t;if(s.stack)return i;const l=te(a)&&!!a.aggregate,u=te(s)&&!!s.aggregate;if(l!==u)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(Ah(a))return t;if(Ah(s))return i}else{if(Ah(a))return o&&n==="vertical"?void 0:t;if(Ah(s))return o&&n==="horizontal"?void 0:i}}function m9e(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function Nue(e,t){var g,m;const n=Bs(e)?e:{type:e},r=n.type;if(!p9e.has(r))return null;const i=aq(t,"x",n)||aq(t,"theta",n);if(!i)return null;const o=t[i],a=te(o)?oe(o,{}):void 0,s=m9e(i),l=[],u=new Set;if(t[s]){const y=t[s],v=te(y)?oe(y,{}):void 0;v&&v!==a&&(l.push(s),u.add(v))}const c=s==="x"?"xOffset":"yOffset",f=t[c],d=te(f)?oe(f,{}):void 0;d&&d!==a&&(l.push(c),u.add(d));const h=E6e.reduce((y,v)=>{if(v!=="tooltip"&&id(t,v)){const b=t[v];for(const x of ue(b)){const w=Fa(x);if(w.aggregate)continue;const E=oe(w,{});(!E||!u.has(E))&&y.push({channel:v,fieldDef:w})}}return y},[]);let p;return o.stack!==void 0?Gc(o.stack)?p=o.stack?"zero":null:p=o.stack:g9e.has(r)&&(p="zero"),!p||!h9e(p)||fue(t)&&h.length===0?null:((g=o==null?void 0:o.scale)!=null&&g.type&&((m=o==null?void 0:o.scale)==null?void 0:m.type)!==tr.LINEAR&&o!=null&&o.stack&&ee(Uze(o.scale.type)),Pe(t[el(i)])?(o.stack!==void 0&&ee(Bze(i)),null):(te(o)&&o.aggregate&&!I6e.has(o.aggregate)&&ee(Wze(o.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:o.impute===null?!1:sf(r),stackBy:h,offset:p}))}function Rue(e,t,n){const r=Zn(e),i=vt("orient",r,n);if(r.orient=x9e(r.type,t,i),i!==void 0&&i!==r.orient&&ee(Aze(r.orient,i)),r.type==="bar"&&r.orient){const l=vt("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:H8e[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const o=vt("opacity",r,n),a=vt("fillOpacity",r,n);return o===void 0&&a===void 0&&(r.opacity=v9e(r.type,t)),vt("cursor",r,n)===void 0&&(r.cursor=y9e(r,t,n)),r}function y9e(e,t,n){return t.href||e.href||vt("href",e,n)?"pointer":e.cursor}function v9e(e,t){if(Ue([q$,B4,U4,W4],e)&&!fue(t))return .7}function b9e(e,t,{graticule:n}){if(n)return!1;const r=zs("filled",e,t),i=e.type;return dn(r,i!==q$&&i!==W$&&i!==k2)}function x9e(e,t,n){switch(e){case q$:case U4:case W4:case jle:case D8e:case R8e:return}const{x:r,y:i,x2:o,y2:a}=t;switch(e){case U$:if(te(r)&&(Jn(r.bin)||te(i)&&i.aggregate&&!r.aggregate))return"vertical";if(te(i)&&(Jn(i.bin)||te(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(a||o){if(n)return n;if(!o)return(te(r)&&r.type===Rd&&!Tt(r.bin)||T2(r))&&te(i)&&Jn(i.bin)?"horizontal":"vertical";if(!a)return(te(i)&&i.type===Rd&&!Tt(i.bin)||T2(i))&&te(r)&&Jn(r.bin)?"vertical":"horizontal"}case k2:if(o&&!(te(r)&&Jn(r.bin))&&a&&!(te(i)&&Jn(i.bin)))return;case B$:if(a)return te(i)&&Jn(i.bin)?"horizontal":"vertical";if(o)return te(r)&&Jn(r.bin)?"vertical":"horizontal";if(e===k2){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case W$:case B4:{const s=JW(r),l=JW(i);if(n)return n;if(s&&!l)return e!=="tick"?"horizontal":"vertical";if(!s&&l)return e!=="tick"?"vertical":"horizontal";if(s&&l)return"vertical";{const u=ii(r)&&r.type===Sg,c=ii(i)&&i.type===Sg;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function w9e(e){const{point:t,line:n,...r}=e;return J(r).length>1?r:r.type}function S9e(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:eo(e[t],["point","line"])});return e}function zP(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?le(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?le(t.point)?t.point:{}:void 0}function sq(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class E9e{constructor(){K(this,"name","path-overlay")}hasMatchingType(t,n){if(vu(t)){const{mark:r,encoding:i}=t,o=Bs(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!zP(o,n[o.type],i);case"area":return!!zP(o,n[o.type],i)||!!sq(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:a,mark:s,name:l,encoding:u,...c}=t,f=Q$(u,i),d=Bs(s)?s:{type:s},h=zP(d,i[d.type],f),p=d.type==="area"&&sq(d,i[d.type]),g=[{name:l,...o?{params:o}:{},mark:w9e({...d.type==="area"&&d.opacity===void 0&&d.fillOpacity===void 0?{opacity:.7}:{},...d}),encoding:eo(f,["shape"])}],m=Nue(Rue(d,f,i),f);let y=f;if(m){const{fieldChannel:v,offset:b}=m;y={...f,[v]:{...f[v],...b?{stack:b}:{}}}}return y=eo(y,["y2","x2"]),p&&g.push({...a?{projection:a}:{},mark:{type:"line",...vg(d,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),h&&g.push({...a?{projection:a}:{},mark:{type:"point",opacity:1,filled:!0,...vg(d,["clip","tooltip"]),...h},encoding:y}),r({...c,layer:g},{...n,config:S9e(i)})}}function _9e(e,t){return t?Lb(e)?Iue(e,t):Due(e,t):e}function BP(e,t){return t?Iue(e,t):e}function VR(e,t,n){const r=t[e];if(aBe(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};ee(nze(r.repeat));return}return t}function Due(e,t){if(e=VR("field",e,t),e!==void 0){if(e===null)return null;if(Y4(e)&&jl(e.sort)){const n=VR("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function lq(e,t){if(te(e))return Due(e,t);{const n=VR("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function uq(e,t){if(Pe(e)){const n=lq(e,t);if(n)return n;if(zb(e))return{condition:e.condition}}else{if(Bb(e)){const n=lq(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function Iue(e,t){const n={};for(const r in e)if(Z(e,r)){const i=e[r];if(X(i))n[r]=i.map(o=>uq(o,t)).filter(o=>o);else{const o=uq(i,t);o!==void 0&&(n[r]=o)}}return n}class A9e{constructor(){K(this,"name","RuleForRangedLine")}hasMatchingType(t){if(vu(t)){const{encoding:n,mark:r}=t;if(r==="line"||Bs(r)&&r.type==="line")for(const i of x6e){const o=nh(i),a=n[o];if(n[i]&&(te(a)&&!Jn(a.bin)||nl(a)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return ee(_ze(!!i.x2,!!i.y2)),r({...t,mark:le(o)?{...o,type:"rule"}:"rule"},n)}}class $9e extends c6{constructor(){super(...arguments);K(this,"nonFacetUnitNormalizers",[CBe,TBe,jBe,new E9e,new A9e])}map(n,r){if(vu(n)){const i=id(n.encoding,Il),o=id(n.encoding,Fl),a=id(n.encoding,P$);if(i||o||a)return this.mapFacetedUnit(n,r)}return super.map(n,r)}mapUnit(n,r){const{parentEncoding:i,parentProjection:o}=r,a=BP(n.encoding,r.repeater),s={...n,...n.name?{name:[r.repeaterPrefix,n.name].filter(u=>u).join("_")}:{},...a?{encoding:a}:{}};if(i||o)return this.mapUnitWithParentEncodingOrProjection(s,r);const l=this.mapLayerOrUnit.bind(this);for(const u of this.nonFacetUnitNormalizers)if(u.hasMatchingType(s,r.config))return u.run(s,r,l);return s}mapRepeat(n,r){return f9e(n)?this.mapLayerRepeat(n,r):this.mapNonLayerRepeat(n,r)}mapLayerRepeat(n,r){const{repeat:i,spec:o,...a}=n,{row:s,column:l,layer:u}=i,{repeater:c={},repeaterPrefix:f=""}=r;return s||l?this.mapRepeat({...n,repeat:{...s?{row:s}:{},...l?{column:l}:{}},spec:{repeat:{layer:u},spec:o}},r):{...a,layer:u.map(d=>{const h={...c,layer:d},p=`${(o.name?`${o.name}_`:"")+f}child__layer_${qt(d)}`,g=this.mapLayerOrUnit(o,{...r,repeater:h,repeaterPrefix:p});return g.name=p,g})}}mapNonLayerRepeat(n,r){const{repeat:i,spec:o,data:a,...s}=n;!X(i)&&n.columns&&(n=eo(n,["columns"]),ee(UW("repeat")));const l=[],{repeater:u={},repeaterPrefix:c=""}=r,f=!X(i)&&i.row||[u?u.row:null],d=!X(i)&&i.column||[u?u.column:null],h=X(i)&&i||[u?u.repeat:null];for(const g of h)for(const m of f)for(const y of d){const v={repeat:g,row:m,column:y,layer:u.layer},b=`${(o.name?`${o.name}_`:"")+c}child__${X(i)?`${qt(g)}`:(i.row?`row_${qt(m)}`:"")+(i.column?`column_${qt(y)}`:"")}`,x=this.map(o,{...r,repeater:v,repeaterPrefix:b});x.name=b,l.push(eo(x,["data"]))}const p=X(i)?n.columns:i.column?i.column.length:1;return{data:o.data??a,align:"all",...s,columns:p,concat:l}}mapFacet(n,r){const{facet:i}=n;return Lb(i)&&n.columns&&(n=eo(n,["columns"]),ee(UW("facet"))),super.mapFacet(n,r)}mapUnitWithParentEncodingOrProjection(n,r){const{encoding:i,projection:o}=n,{parentEncoding:a,parentProjection:s,config:l}=r,u=fq({parentProjection:s,projection:o}),c=cq({parentEncoding:a,encoding:BP(i,r.repeater)});return this.mapUnit({...n,...u?{projection:u}:{},...c?{encoding:c}:{}},{config:l})}mapFacetedUnit(n,r){const{row:i,column:o,facet:a,...s}=n.encoding,{mark:l,width:u,projection:c,height:f,view:d,params:h,encoding:p,...g}=n,{facetMapping:m,layout:y}=this.getFacetMappingAndLayout({row:i,column:o,facet:a},r),v=BP(s,r.repeater);return this.mapFacet({...g,...y,facet:m,spec:{...u?{width:u}:{},...f?{height:f}:{},...d?{view:d}:{},...c?{projection:c}:{},mark:l,encoding:v,...h?{params:h}:{}}},r)}getFacetMappingAndLayout(n,r){const{row:i,column:o,facet:a}=n;if(i||o){a&&ee(Sze([...i?[Il]:[],...o?[Fl]:[]]));const s={},l={};for(const u of[Il,Fl]){const c=n[u];if(c){const{align:f,center:d,spacing:h,columns:p,...g}=c;s[u]=g;for(const m of["align","center","spacing"])c[m]!==void 0&&(l[m]??(l[m]={}),l[m][u]=c[m])}}return{facetMapping:s,layout:l}}else{const{align:s,center:l,spacing:u,columns:c,...f}=a;return{facetMapping:_9e(f,r.repeater),layout:{...s?{align:s}:{},...l?{center:l}:{},...u?{spacing:u}:{},...c?{columns:c}:{}}}}}mapLayer(n,{parentEncoding:r,parentProjection:i,...o}){const{encoding:a,projection:s,...l}=n,u={...o,parentEncoding:cq({parentEncoding:r,encoding:a,layer:!0}),parentProjection:fq({parentProjection:i,projection:s})};return super.mapLayer({...l,...n.name?{name:[u.repeaterPrefix,n.name].filter(c=>c).join("_")}:{}},u)}}function cq({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...J(e),...J(t)]);for(const o of i){const a=t[o],s=e[o];if(Pe(a)){const l={...s,...a};r[o]=l}else Bb(a)?r[o]={...a,condition:{...s,...a.condition}}:a||a===null?r[o]=a:(n||Ia(s)||ye(s)||Pe(s)||X(s))&&(r[o]=s)}}else r=t;return!r||At(r)?void 0:r}function fq(e){const{parentProjection:t,projection:n}=e;return t&&n&&ee(fze({parentProjection:t,projection:n})),n??t}function f6(e){return Z(e,"filter")}function O9e(e){return Z(e,"stop")}function Fue(e){return Z(e,"lookup")}function C9e(e){return Z(e,"data")}function k9e(e){return Z(e,"param")}function P9e(e){return Z(e,"pivot")}function T9e(e){return Z(e,"density")}function M9e(e){return Z(e,"quantile")}function N9e(e){return Z(e,"regression")}function R9e(e){return Z(e,"loess")}function D9e(e){return Z(e,"sample")}function I9e(e){return Z(e,"window")}function F9e(e){return Z(e,"joinaggregate")}function j9e(e){return Z(e,"flatten")}function L9e(e){return Z(e,"calculate")}function jue(e){return Z(e,"bin")}function z9e(e){return Z(e,"impute")}function B9e(e){return Z(e,"timeUnit")}function U9e(e){return Z(e,"aggregate")}function W9e(e){return Z(e,"stack")}function q9e(e){return Z(e,"fold")}function H9e(e){return Z(e,"extent")&&!Z(e,"density")&&!Z(e,"regression")}function G9e(e){return e.map(t=>f6(t)?{filter:Sp(t.filter,y8e)}:t)}class V9e extends c6{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=dq(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=dq(t,n),t.encoding){const r={};for(const[i,o]of Fc(t.encoding))r[i]=Lue(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Fc(r).map(([o,a])=>{const{init:s,bind:l,empty:u,...c}=a;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[o]=u!=="none";for(const f of xn(n.selectionPredicates[o]??{}))f.empty=u!=="none";return{name:o,value:s,select:c,bind:l}})}:t}}function dq(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(f6(o))return{filter:XR(o,t)};if(jue(o)&&rh(o.bin))return{...o,bin:zue(o.bin)};if(Fue(o)){const{selection:a,...s}=o.from;return a?{...o,from:{param:a,...s}}:o}return o});return{...r,transform:i}}return e}function Lue(e,t){var r,i;const n=Ce(e);if(te(n)&&rh(n.bin)&&(n.bin=zue(n.bin)),sh(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:o,...a}=n.scale.domain;n.scale.domain={...a,...o?{param:o}:{}}}if(zb(n))if(X(n.condition))n.condition=n.condition.map(o=>{const{selection:a,param:s,test:l,...u}=o;return s?o:{...u,test:XR(o,t)}});else{const{selection:o,param:a,test:s,...l}=Lue(n.condition,t);n.condition=a?n.condition:{...l,test:XR(n.condition,t)}}return n}function zue(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function XR(e,t){const n=r=>Sp(r,i=>{var s;const o=t.emptySelections[i]??!0,a={param:i,empty:o};return(s=t.selectionPredicates)[i]??(s[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):Sp(e.test||e.filter,r=>r.selection?n(r.selection):r)}class KR extends c6{map(t,n){const r=n.selections??[];if(t.params&&!vu(t)){const i=[];for(const o of t.params)s6(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const a of r)if(!a.views||!a.views.length)o.push(a);else for(const s of a.views)(se(s)&&(s===t.name||i.includes(s))||X(s)&&s.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&o.push(a);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=KR.prototype[e];KR.prototype[e]=function(n,r){return t.call(this,n,X9e(n,r))}}function X9e(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function Bue(e,t){t===void 0&&(t=Mue(e.config));const n=J9e(e,t),{width:r,height:i}=e,o=Z9e(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const K9e=new $9e,Y9e=new V9e,Q9e=new KR;function J9e(e,t={}){const n={config:t};return Q9e.map(K9e.map(Y9e.map(e,n),n),n)}function hq(e){return se(e)?{type:e}:e??{}}function Z9e(e,t,n){let{width:r,height:i}=t;const o=vu(e)||Z$(e),a={};o?r=="container"&&i=="container"?(a.type="fit",a.contains="padding"):r=="container"?(a.type="fit-x",a.contains="padding"):i=="container"&&(a.type="fit-y",a.contains="padding"):(r=="container"&&(ee(jW("width")),r=void 0),i=="container"&&(ee(jW("height")),i=void 0));const s={type:"pad",...a,...n?hq(n.autosize):{},...hq(e.autosize)};if(s.type==="fit"&&!o&&(ee(H6e),s.type="pad"),r=="container"&&!(s.type=="fit"||s.type=="fit-x")&&ee(LW("width")),i=="container"&&!(s.type=="fit"||s.type=="fit-y")&&ee(LW("height")),!Xi(s,{type:"pad"}))return s}function e7e(e){return["fit","fit-x","fit-y"].includes(e)}function t7e(e){return e?`fit-${D$(e)}`:"fit"}const n7e=["background","padding"];function pq(e,t){const n={};for(const r of n7e)e&&e[r]!==void 0&&(n[r]=qi(e[r]));return t&&(n.params=e.params),n}class bu{constructor(t={},n={}){K(this,"explicit");K(this,"implicit");this.explicit=t,this.implicit=n}clone(){return new bu(Ce(this.explicit),Ce(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return dn(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of J(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function as(e){return{explicit:!0,value:e}}function Di(e){return{explicit:!1,value:e}}function Uue(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:eO(t,n,r,i)}}function eO(e,t,n,r){return e.explicit&&t.explicit&&ee(Rze(n,r,e.value,t.value)),e}function zc(e,t,n,r,i=eO){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:Xi(e.value,t.value)?e:i(e,t,n,r)}class r7e extends bu{constructor(n={},r={},i=!1){super(n,r);K(this,"explicit");K(this,"implicit");K(this,"parseNothing");this.explicit=n,this.implicit=r,this.parseNothing=i}clone(){const n=super.clone();return n.parseNothing=this.parseNothing,n}}function Og(e){return Z(e,"url")}function Jv(e){return Z(e,"values")}function Wue(e){return Z(e,"name")&&!Og(e)&&!Jv(e)&&!xc(e)}function xc(e){return e&&(que(e)||Hue(e)||d6(e))}function que(e){return Z(e,"sequence")}function Hue(e){return Z(e,"sphere")}function d6(e){return Z(e,"graticule")}var Yt;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(Yt||(Yt={}));function Gue({invalid:e,isPath:t}){switch(Ble(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function i7e(e){const{marks:t,scales:n}=Gue(e);return t===n?Yt.Main:n==="include-invalid-values"?Yt.PreFilterInvalid:Yt.PostFilterInvalid}class pt{constructor(t,n){K(this,"debugName");K(this,"_children",[]);K(this,"_parent",null);K(this,"_hash");this.debugName=n,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){ee(lze);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Si extends pt{constructor(n,r,i,o){super(n,r);K(this,"type");K(this,"refCounts");K(this,"_source");K(this,"_name");this.type=i,this.refCounts=o,this._source=this._name=r,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const n=new this.constructor;return n.debugName=`clone_${this.debugName}`,n._source=this._source,n._name=`clone_${this._name}`,n.type=this.type,n.refCounts=this.refCounts,n.refCounts[n._name]=0,n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${Use()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(n){this._source=n}}function UP(e){return e.as!==void 0}function gq(e){return`${e}_end`}class Os extends pt{constructor(n,r){super(n);K(this,"timeUnits");this.timeUnits=r}clone(){return new Os(null,Ce(this.timeUnits))}static makeFromEncoding(n,r){const i=r.reduceFieldDef((o,a,s)=>{const{field:l,timeUnit:u}=a;if(u){let c;if(ah(u)){if(Kt(r)){const{mark:f,markDef:d,config:h}=r,p=Lc({fieldDef:a,markDef:d,config:h});(Qv(f)||p)&&(c={timeUnit:Hn(u),field:l})}}else c={as:oe(a,{forAs:!0}),field:l,timeUnit:u};if(Kt(r)){const{mark:f,markDef:d,config:h}=r,p=Lc({fieldDef:a,markDef:d,config:h});Qv(f)&&hn(s)&&p!==.5&&(c.rectBandPosition=p)}c&&(o[He(c)]=c)}return o},{});return At(i)?null:new Os(n,i)}static makeFromTransform(n,r){const{timeUnit:i,...o}={...r},a=Hn(i),s={...o,timeUnit:a};return new Os(n,{[He(s)]:s})}merge(n){this.timeUnits={...this.timeUnits};for(const r in n.timeUnits)this.timeUnits[r]||(this.timeUnits[r]=n.timeUnits[r]);for(const r of n.children)n.removeChild(r),r.parent=this;n.remove()}removeFormulas(n){const r={};for(const[i,o]of Fc(this.timeUnits)){const a=UP(o)?o.as:`${o.field}_end`;n.has(a)||(r[i]=o)}this.timeUnits=r}producedFields(){return new Set(xn(this.timeUnits).map(n=>UP(n)?n.as:gq(n.field)))}dependentFields(){return new Set(xn(this.timeUnits).map(n=>n.field))}hash(){return`TimeUnit ${He(this.timeUnits)}`}assemble(){const n=[];for(const r of xn(this.timeUnits)){const{rectBandPosition:i}=r,o=Hn(r.timeUnit);if(UP(r)){const{field:a,as:s}=r,{unit:l,utc:u,...c}=o,f=[s,`${s}_end`];n.push({field:qo(a),type:"timeunit",...l?{units:L$(l)}:{},...u?{timezone:"utc"}:{},...c,as:f}),n.push(...mq(f,i,o))}else if(r){const{field:a}=r,s=a.replaceAll("\\.","."),l=Vue({timeUnit:o,field:s}),u=gq(s);n.push({type:"formula",expr:l,as:u}),n.push(...mq([s,u],i,o))}}return n}}const tO="offsetted_rect_start",nO="offsetted_rect_end";function Vue({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=Ele(r),{part:a,step:s}=Ole(o,e.step);return`${i?"utcOffset":"timeOffset"}('${a}', ${ft(t)}, ${n?-s:s})`}function mq([e,t],n,r){if(n!==void 0&&n!==.5){const i=ft(e),o=ft(t);return[{type:"formula",expr:yq([Vue({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${tO}`},{type:"formula",expr:yq([i,o],n+.5),as:`${e}_${nO}`}]}return[]}function yq([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const qb="_tuple_fields";class o7e{constructor(...t){K(this,"hasChannel");K(this,"hasField");K(this,"hasSelectionId");K(this,"timeUnit");K(this,"items");this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const a7e={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new o7e),o={},a={},s=new Set,l=(p,g)=>{const m=g==="visual"?p.channel:p.field;let y=qt(`${r}_${m}`);for(let v=1;s.has(y);v++)y=qt(`${r}_${m}_${v}`);return s.add(y),{[g]:y}},u=t.type,c=e.config.selection[u],f=n.value!==void 0?ue(n.value):null;let{fields:d,encodings:h}=le(n.select)?n.select:{};if(!d&&!h&&f){for(const p of f)if(le(p))for(const g of J(p))b6e(g)?(h||(h=[])).push(g):u==="interval"?(ee(tze),h=c.encodings):(d??(d=[])).push(g)}!d&&!h&&(h=c.encodings,"fields"in c&&(d=c.fields));for(const p of h??[]){const g=e.fieldDef(p);if(g){let m=g.field;if(g.aggregate){ee(G6e(p,g.aggregate));continue}else if(!m){ee(BW(p));continue}if(g.timeUnit&&!ah(g.timeUnit)){m=e.vgField(p);const y={timeUnit:g.timeUnit,as:m,field:g.field};a[He(y)]=y}if(!o[m]){const y=u==="interval"&&tl(p)&&Da(e.getScaleComponent(p).get("type"))?"R":g.bin?"R-RE":"E",v={field:m,channel:p,type:y,index:i.items.length};v.signals={...l(v,"data"),...l(v,"visual")},i.items.push(o[m]=v),i.hasField[m]=o[m],i.hasSelectionId=i.hasSelectionId||m===ja,Xse(p)?(v.geoChannel=p,v.channel=Vse(p),i.hasChannel[v.channel]=o[m]):i.hasChannel[p]=o[m]}}else ee(BW(p))}for(const p of d??[]){if(i.hasField[p])continue;const g={type:"E",field:p,index:i.items.length};g.signals={...l(g,"data")},i.items.push(g),i.hasField[p]=g,i.hasSelectionId=i.hasSelectionId||p===ja}f&&(t.init=f.map(p=>i.items.map(g=>le(p)?p[g.geoChannel||g.channel]!==void 0?p[g.geoChannel||g.channel]:p[g.field]:p))),At(a)||(i.timeUnit=new Os(null,a))},signals:(e,t,n)=>{const r=t.name+qb;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(Que)})}},Xue="_curr",_S="anim_value",jh="anim_clock",YR="eased_anim_clock",Kue="min_extent",Yue="max_range_extent",WP="last_tick_at",qP="is_playing",s7e=1/60*1e3,l7e=(e,t)=>[{name:YR,update:jh},{name:`${e}_domain`,init:`domain('${t}')`},{name:Kue,init:`extent(${e}_domain)[0]`},{name:Yue,init:`extent(range('${t}'))[1]`},{name:_S,update:`invert('${t}', ${YR})`}],u7e={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(Cs(t)&&(n=n.concat([{name:jh,init:"0",on:[{events:{type:"timer",throttle:s7e},update:`${qP} ? (${jh} + (now() - ${WP}) > ${Yue} ? 0 : ${jh} + (now() - ${WP})) : ${jh}`}]},{name:WP,init:"now()",on:[{events:[{signal:jh},{signal:qP}],update:"now()"}]},{name:qP,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+qb,o=t.project,a="(item().isVoronoi ? datum.datum : datum)",s=xn(e.component.selection??{}).reduce((c,f)=>f.type==="interval"?c.concat(f.name+Ap):c,[]).map(c=>`indexof(item().mark.name, '${c}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${s?` && ${s}`:""}`;let u=`unit: ${od(e)}, `;if(t.project.hasSelectionId)u+=`${ja}: ${a}[${re(ja)}]`;else if(Cs(t))u+=`fields: ${i}, values: [${_S} ? ${_S} : ${Kue}]`;else{const c=o.items.map(f=>{const d=e.fieldDef(f.channel);return d!=null&&d.bin?`[${a}[${re(e.vgField(f.channel,{}))}], ${a}[${re(e.vgField(f.channel,{binSuffix:"end"}))}]]`:`${a}[${re(f.field)}]`}).join(", ");u+=`fields: ${i}, values: [${c}]`}if(Cs(t))return n.concat(l7e(t.name,e.scaleName(ef)),[{name:r+ru,on:[{events:[{signal:YR},{signal:_S}],update:`{${u}}`,force:!0}]}]);{const c=t.events;return n.concat([{name:r+ru,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}}};function Que(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=qo(i.field),i}function Fd(e,t=!0,n=Rr){if(X(e)){const r=e.map(i=>Fd(i,t,n));return t?`[${r.join(", ")}]`:r}else if(oh(e))return n(t?Nd(e):o8e(e));return t?n(ut(e)):e}function c7e(e,t){for(const n of xn(e.component.selection??{})){const r=n.name;let i=`${r}${ru}, ${n.resolve==="global"?"true":`{unit: ${od(e)}}`}`;for(const o of iO)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+F7e,on:[{events:{signal:n.name+ru},update:`modify(${re(n.name+jd)}, ${i})`}]})}return h6(t)}function f7e(e,t){if(e.component.selection&&J(e.component.selection).length){const n=re(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Jc("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return h6(t)}function d7e(e,t){let n=!1;for(const r of xn(e.component.selection??{})){const i=r.name,o=re(i+jd);if(t.filter(s=>s.name===i).length===0){const s=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${pce}(${o}, ${re(s)}${l}`})}n=!0;for(const s of iO)s.defined(r)&&s.topLevelSignals&&(t=s.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),h6(t)}function h7e(e,t){const n=[],r=[],i=od(e,{escape:!1});for(const o of xn(e.component.selection??{})){const a={name:o.name+jd};if(o.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:ja}}]),o.init){const l=o.project.items.map(Que);a.values=o.project.hasSelectionId?o.init.map(u=>({unit:i,[ja]:Fd(u,!1)[0]})):o.init.map(u=>({unit:i,fields:l,values:Fd(u,!1)}))}if([...n,...t].filter(l=>l.name===o.name+jd).length||n.push(a),Cs(o)&&t.length){const l=e.lookupDataSource(e.getDataName(Yt.Main)),u=t.find(f=>f.name===l),c=u.transform.find(f=>f.type==="filter"&&f.expr.includes("vlSelectionTest"));if(c){u.transform=u.transform.filter(d=>d!==c);const f={name:u.name+Xue,source:u.name,transform:[c]};r.push(f)}}}return n.concat(t,r)}function Jue(e,t){for(const n of xn(e.component.selection??{}))for(const r of iO)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function p7e(e,t){for(const n of e.children)Kt(n)&&(t=Jue(n,t));return t}function g7e(e,t,n,r){const i=bce(e,t.param,t);return{signal:Da(n.get("type"))&&X(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function h6(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const Ll={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!tl(i))continue;const o=e.getScaleComponent(i),a=o?o.get("type"):void 0;if(a=="sequential"&&ee(Y6e),!o||!Da(a)){ee(K6e);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(a=>n.filter(s=>s.name===a.signals.data).length===0);if(!e.parent||JR(e)||r.length===0)return n;const i=n.find(a=>a.name===t.name);let o=i.update;if(o.includes(pce))i.update=`{${r.map(a=>`${re(qo(a.field))}: ${a.signals.data}`).join(", ")}}`;else{for(const a of r){const s=`${re(qo(a.field))}: ${a.signals.data}`;o.includes(s)||(o=`${o.substring(0,o.length-1)}, ${s}}`)}i.update=o}return n.concat(r.map(a=>({name:a.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!JR(e))for(const r of t.scales){const i=n.find(o=>o.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function QR(e,t){return`domain(${re(e.scaleName(t))})`}function JR(e){return e.parent&&jm(e.parent)&&(!e.parent.parent||JR(e.parent.parent))}const Ap="_brush",Zue="_scale_trigger",Ty="geo_interval_init_tick",ece="_init",m7e="_center",y7e={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...le(n.select)?n.select:{}};i.fields=[ja],i.encodings||(i.encodings=n.value?J(n.value):[Ha,qa]),n.select={type:"interval",...i}}if(t.translate&&!Ll.defined(t)){const i=`!event.item || event.item.mark.name !== ${re(t.name+Ap)}`;for(const o of t.events){if(!o.between){ee(`${o} is not an ordered event stream for interval selections.`);continue}const a=ue((r=o.between[0]).filter??(r.filter=[]));a.includes(i)||a.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+ru,o=xn(t.project.hasChannel).filter(s=>s.channel===Gt||s.channel===Xn),a=t.init?t.init[0]:null;if(n.push(...o.reduce((s,l)=>s.concat(v7e(e,t,l,a==null?void 0:a[l.index])),[])),e.hasProjection){const s=re(e.projectionName()),l=e.projectionName()+m7e,{x:u,y:c}=t.project.hasChannel,f=u==null?void 0:u.signals.visual,d=c==null?void 0:c.signals.visual,h=u?a==null?void 0:a[u.index]:`${l}[0]`,p=c?a==null?void 0:a[c.index]:`${l}[1]`,g=w=>e.getSizeSignalRef(w).signal,m=`[[${f?`${f}[0]`:"0"}, ${d?`${d}[0]`:"0"}],[${f?`${f}[1]`:g("width")}, ${d?`${d}[1]`:g("height")}]]`;a&&(n.unshift({name:r+ece,init:`[scale(${s}, [${u?h[0]:h}, ${c?p[0]:p}]), scale(${s}, [${u?h[1]:h}, ${c?p[1]:p}])]`}),(!u||!c)&&(n.find(E=>E.name===l)||n.unshift({name:l,update:`invert(${s}, [${g("width")}/2, ${g("height")}/2])`})));const y=`intersect(${m}, {markname: ${re(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${od(e)}}`,b=`vlSelectionTuples(${y}, ${v})`,x=o.map(w=>w.signals.visual);return n.concat({name:i,on:[{events:[...x.length?[{signal:x.join(" || ")}]:[],...a?[{signal:Ty}]:[]],update:b}]})}else{if(!Ll.defined(t)){const u=r+Zue,c=o.map(f=>{const d=f.channel,{data:h,visual:p}=f.signals,g=re(e.scaleName(d)),m=e.getScaleComponent(d).get("type"),y=Da(m)?"+":"";return`(!isArray(${h}) || (${y}invert(${g}, ${p})[0] === ${y}${h}[0] && ${y}invert(${g}, ${p})[1] === ${y}${h}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:o.map(f=>({scale:e.scaleName(f.channel)})),update:`${c.join(" && ")} ? ${u} : {}`}]})}const s=o.map(u=>u.signals.data),l=`unit: ${od(e)}, fields: ${r+qb}, values`;return n.concat({name:i,...a?{init:`{${l}: ${Fd(a)}}`}:{},...s.length?{on:[{events:[{signal:s.join(" || ")}],update:`${s.join(" && ")} ? {${l}: [${s}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(Kt(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===Ty).length||n.unshift({name:Ty,value:null,on:[{events:"timer{1}",update:`${Ty} === null ? {} : ${Ty}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,a=i==null?void 0:i.signals.visual,s=o==null?void 0:o.signals.visual,l=`data(${re(t.name+jd)})`;if(Ll.defined(t)||!i&&!o)return n;const u={x:i!==void 0?{signal:`${a}[0]`}:{value:0},y:o!==void 0?{signal:`${s}[0]`}:{value:0},x2:i!==void 0?{signal:`${a}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${s}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const m of J(u))u[m]=[{test:`${l}.length && ${l}[0].unit === ${od(e)}`,...u[m]},{value:0}];const{fill:c,fillOpacity:f,cursor:d,...h}=t.mark,p=J(h).reduce((m,y)=>(m[y]=[{test:[i!==void 0&&`${a}[0] !== ${a}[1]`,o!==void 0&&`${s}[0] !== ${s}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],m),{}),g=d??(t.translate?"move":null);return[{name:`${r+Ap}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:f}},update:u}},...n,{name:r+Ap,type:"rect",clip:!0,encode:{enter:{...g?{cursor:{value:g}}:{},fill:{value:"transparent"}},update:{...u,...p}}}]}};function v7e(e,t,n,r){const i=!e.hasProjection,o=n.channel,a=n.signals.visual,s=re(i?e.scaleName(o):e.projectionName()),l=d=>`scale(${s}, ${d})`,u=e.getSizeSignalRef(o===Gt?"width":"height").signal,c=`${o}(unit)`,f=t.events.reduce((d,h)=>[...d,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${a}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const d=n.signals.data,h=Ll.defined(t),p=e.getScaleComponent(o),g=p?p.get("type"):void 0,m=r?{init:Fd(r,!0,l)}:{value:[]};return f.push({events:{signal:t.name+Zue},update:Da(g)?`[${l(`${d}[0]`)}, ${l(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[{name:a,...m,on:f},{name:d,...r?{init:Fd(r)}:{},on:[{events:{signal:a},update:`${a}[0] === ${a}[1] ? null : invert(${s}, ${a})`}]}]}else{const d=o===Gt?0:1,h=t.name+ece,p=r?{init:`[${h}[0][${d}], ${h}[1][${d}]]`}:{value:[]};return[{name:a,...p,on:f}]}}function Rm({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const o=zb(t)&&t.condition;let a=[];o&&(a=ue(o).map(u=>{const c=i(u);if(oBe(u)){const{param:f,empty:d}=u;return{test:vce(e,{param:f,empty:d}),...c}}else return{test:L2(e,u.test),...c}})),r!==void 0&&a.push(r);const s=i(t);return s!==void 0&&a.push(s),a.length>1||a.length===1&&a[0].test?{[n]:a}:a.length===1?{[n]:a[0]}:{}}function p6(e,t="text"){const n=e.encoding[t];return Rm({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>rO(r,e.config),invalidValueRef:void 0})}function rO(e,t,n="datum"){if(e){if(Ia(e))return Lt(e.value);if(Pe(e)){const{format:r,formatType:i}=N2(e);return X4({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function tce(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,a=n.tooltip;if(X(a))return{tooltip:vq({tooltip:a},o,i,t)};{const s=t.reactiveGeom?"datum.datum":"datum";return Rm({model:e,channelDef:a,vgChannel:"tooltip",mainRefFn:u=>{const c=rO(u,i,s);if(c)return c;if(u===null)return;let f=vt("tooltip",r,i);if(f===!0&&(f={content:"encoding"}),se(f))return{value:f};if(le(f))return ye(f)?f:f.content==="encoding"?vq(n,o,i,t):{signal:s}},invalidValueRef:void 0})}}function nce(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o=new Set,a=r?"datum.datum":"datum",s=[];function l(c,f){const d=nh(f),h=ii(c)?c:{...c,type:e[d].type},p=h.title||J4(h,i),g=ue(p).join(", ").replaceAll(/"/g,'\\"');let m;if(hn(f)){const y=f==="x"?"x2":"y2",v=Fa(e[y]);if(Jn(h.bin)&&v){const b=oe(h,{expr:a}),x=oe(v,{expr:a}),{format:w,formatType:E}=N2(h);m=jb(b,x,w,E,i),o.add(y)}}if((hn(f)||f===Yo||f===Wa)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:y,formatType:v}=N2(h);m=X4({fieldOrDatumDef:h,format:y,formatType:v,expr:a,config:i,normalizeStack:!0}).signal}m??(m=rO(h,i,a).signal),s.push({channel:f,key:g,value:m})}e6(e,(c,f)=>{te(c)?l(c,f):V$(c)&&l(c.condition,f)});const u={};for(const{channel:c,key:f,value:d}of s)!o.has(c)&&!u[f]&&(u[f]=d);return u}function vq(e,t,n,{reactiveGeom:r}={}){const i=nce(e,t,n,{reactiveGeom:r}),o=Fc(i).map(([a,s])=>`"${a}": ${s}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function b7e(e){const{markDef:t,config:n}=e,r=vt("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...x7e(e),...w7e(e)}}function x7e(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=vt("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:de(U6e,t)?{}:{ariaRoleDescription:{value:t}}}function w7e(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return Rm({model:e,channelDef:o,vgChannel:"description",mainRefFn:l=>rO(l,e.config),invalidValueRef:void 0});const a=vt("description",n,r);if(a!=null)return{description:Lt(a)};if(r.aria===!1)return{};const s=nce(t,i,r);if(!At(s))return{description:{signal:Fc(s).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function rr(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:a}=n;let{defaultRef:s,defaultValue:l}=n;const u=i[e];s===void 0&&(l??(l=vt(e,r,o,{vgChannel:a,ignoreVgConfig:!zb(u)})),l!==void 0&&(s=Lt(l)));const c={markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},f=Wle({...c,scaleChannel:e,channelDef:u});return Rm({model:t,channelDef:u,vgChannel:a??e,invalidValueRef:f,mainRefFn:h=>V4({...c,channel:e,channelDef:h,stack:null,defaultRef:s})})}function rce(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,a=t.filled??vt("filled",n,i),s=Ue(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=vt(a===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[a===!0&&"color"]??s,u=vt(a===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[a===!1&&"color"],c=a?"fill":"stroke",f={...l?{fill:Lt(l)}:{},...u?{stroke:Lt(u)}:{}};return n.color&&(a?n.fill:n.stroke)&&ee(ple("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...rr("color",e,{vgChannel:c,defaultValue:a?l:u}),...rr("fill",e,{defaultValue:r.fill?l:void 0}),...rr("stroke",e,{defaultValue:r.stroke?u:void 0})}}function S7e(e){const{encoding:t,mark:n}=e,r=t.order;return!sf(n)&&Ia(r)?Rm({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>Lt(i.value),invalidValueRef:void 0}):{}}function Cg({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,a=t[o],s=n[o];if((o==="xOffset"||o==="yOffset")&&s)return{offsetType:"encoding",offset:V4({channel:o,channelDef:s,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:Lt(a),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function Jr(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:a,stack:s}=t,l=i[e],u=i[el(e)],c=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:h}=Cg({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),p=g6({model:t,defaultPos:n,channel:e,scaleName:c,scale:f}),g=!l&&hn(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:E7e({channel:e,channelDef:l,channel2Def:u,markDef:o,config:a,scaleName:c,scale:f,stack:s,offset:d,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return g?{[r||e]:g}:void 0}function E7e(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:a}=e;if(Pe(n)&&i&&t===i.fieldChannel){if(te(n)){let s=n.bandPosition;if(s===void 0&&a.type==="text"&&(t==="radius"||t==="theta")&&(s=.5),s!==void 0)return P2({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:s,offset:o})}return rd(n,r,{suffix:"end"},{offset:o})}return G4(e)}function g6({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:a}=e;return()=>{const s=nh(n),l=jc(n),u=vt(n,o,a,{vgChannel:l});if(u!==void 0)return q0(n,u);switch(t){case"zeroOrMin":return bq({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:s,config:a});case"zeroOrMax":return bq({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:s,config:a});case"mid":return{...e[Ci(n)],mult:.5}}}}function bq({mainChannel:e,config:t,...n}){const r=Ule(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:o,heightSignal:a}=i.zeroOrMax;return{signal:`min(${o},${a})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const _7e={left:"x",center:"xc",right:"x2"},A7e={top:"y",middle:"yc",bottom:"y2"};function ice(e,t,n,r="middle"){if(e==="radius"||e==="theta")return jc(e);const i=e==="x"?"align":"baseline",o=vt(i,t,n);let a;return ye(o)?(ee(Eze(i)),a=void 0):a=o,e==="x"?_7e[a||(r==="top"?"left":"center")]:A7e[a||r]}function F2(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?oce(e,t,{defaultPos:n,defaultPos2:r}):Jr(e,t,{defaultPos:n})}function oce(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,a=el(e),s=Ci(e),l=$7e(t,r,a),u=l[s]?ice(e,i,o):jc(e);return{...Jr(e,t,{defaultPos:n,vgChannel:u}),...l}}function $7e(e,t,n){const{encoding:r,mark:i,markDef:o,stack:a,config:s}=e,l=nh(n),u=Ci(n),c=jc(n),f=r[l],d=e.scaleName(l),h=e.getScaleComponent(l),{offset:p}=n in r||n in o?Cg({channel:n,markDef:o,encoding:r,model:e}):Cg({channel:l,markDef:o,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const m=Ci(n),y=e.markDef[m];return y!=null?{[m]:{value:y}}:{[c]:{field:e.getName(n)}}}const g=O7e({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:s,scaleName:d,scale:h,stack:a,offset:p,defaultRef:void 0});return g!==void 0?{[c]:g}:pw(n,o)||pw(n,{[n]:LR(n,o,s.style),[u]:LR(u,o,s.style)})||pw(n,s[i])||pw(n,s.mark)||{[c]:g6({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function O7e({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:a,stack:s,offset:l,defaultRef:u}){return Pe(t)&&s&&e.charAt(0)===s.fieldChannel.charAt(0)?rd(t,o,{suffix:"start"},{offset:l}):G4({channel:e,channelDef:n,scaleName:o,scale:a,stack:s,markDef:r,config:i,offset:l,defaultRef:u})}function pw(e,t){const n=Ci(e),r=jc(e);if(t[r]!==void 0)return{[r]:q0(e,t[r])};if(t[e]!==void 0)return{[r]:q0(e,t[e])};if(t[n]){const i=t[n];if(Dd(i))ee(yze(n));else return{[n]:q0(e,i)}}}function nu(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,a=el(t),s=Ci(t),l=r[t],u=r[a],c=e.getScaleComponent(t),f=c?c.get("type"):void 0,d=i.orient,h=r[s]??r.size??vt("size",i,n,{vgChannel:s}),p=Jse(t),g=o==="bar"&&(t==="x"?d==="vertical":d==="horizontal")||o==="tick"&&(t==="y"?d==="vertical":d==="horizontal");return te(l)&&(Tt(l.bin)||Jn(l.bin)||l.timeUnit&&!u)&&!(h&&!Dd(h))&&!r[p]&&!Gn(f)?P7e({fieldDef:l,fieldDef2:u,channel:t,model:e}):(Pe(l)&&Gn(f)||g)&&!u?k7e(l,t,e):oce(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function C7e(e,t,n,r,i,o,a){if(Dd(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=zs("minBandSize",{type:a},r);return{signal:c?`max(${xa(c)}, ${u})`:u}}else i.band!==1&&(ee(Oze(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(ye(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(ih(l)&&tt(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:f}=r.scale,d=dn(l,a==="tick"?f:a==="bar"?u:c);if(ye(d))return{signal:`(1 - (${d.signal})) * ${e}`};if(tt(d))return{signal:`${1-d} * ${e}`}}return{value:GR(r.view,e)-2}}function k7e(e,t,n){var $,_;const{markDef:r,encoding:i,config:o,stack:a}=n,s=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=Ci(t),f=el(t),d=Jse(t),h=n.scaleName(d),p=n.getScaleComponent(b4(t)),g=r.type==="tick"||s==="horizontal"&&t==="y"||s==="vertical"&&t==="x";let m;(i.size||r.size)&&(g?m=rr("size",n,{vgChannel:c,defaultRef:Lt(r.size)}):ee(Tze(r.type)));const y=!!m,v=Yle({channel:t,fieldDef:e,markDef:r,config:o,scaleType:($=u||p)==null?void 0:$.get("type"),useVlSizeChannel:g});m=m||{[c]:C7e(c,h||l,p||u,o,v,!!e,r.type)};const b=((_=u||p)==null?void 0:_.get("type"))==="band"&&Dd(v)&&!y?"top":"middle",x=ice(t,r,o,b),w=x==="xc"||x==="yc",{offset:E,offsetType:S}=Cg({channel:t,markDef:r,encoding:i,model:n,bandPosition:w?.5:0}),A=G4({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:u,stack:a,offset:E,defaultRef:g6({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:w?S==="encoding"?0:.5:ye(v)?{signal:`(1-${v})/2`}:Dd(v)?(1-v.band)/2:0});if(c)return{[x]:A,...m};{const O=jc(f),P=m[c],R=E?{...P,offset:E}:P;return{[x]:A,[O]:X(A)?[A[0],{...A[1],offset:R}]:{...A,offset:R}}}}function xq(e,t,n,r,i,o,a){if(Gse(e))return 0;const s=e==="x"||e==="y2",l=s?-t/2:t/2;if(ye(n)||ye(i)||ye(r)||o){const u=xa(n),c=xa(i),f=xa(r),d=xa(o),p=o?`(${a} < ${d} ? ${s?"":"-"}0.5 * (${d} - (${a})) : ${l})`:l,g=f?`${f} + `:"",m=u?`(${u} ? -1 : 1) * `:"",y=c?`(${c} + ${p})`:p;return{signal:g+m+y}}else return i=i||0,r+(n?-i-l:+i+l)}function P7e({fieldDef:e,fieldDef2:t,channel:n,model:r}){var _;const{config:i,markDef:o,encoding:a}=r,s=r.getScaleComponent(n),l=r.scaleName(n),u=s?s.get("type"):void 0,c=s.get("reverse"),f=Yle({channel:n,fieldDef:e,markDef:o,config:i,scaleType:u}),d=(_=r.component.axes[n])==null?void 0:_[0],h=(d==null?void 0:d.get("translate"))??.5,p=hn(n)?vt("binSpacing",o,i)??0:0,g=el(n),m=jc(n),y=jc(g),v=zs("minBandSize",o,i),{offset:b}=Cg({channel:n,markDef:o,encoding:a,model:r,bandPosition:0}),{offset:x}=Cg({channel:g,markDef:o,encoding:a,model:r,bandPosition:0}),w=Z8e({fieldDef:e,scaleName:l}),E=xq(n,p,c,h,b,v,w),S=xq(g,p,c,h,x??b,v,w),A=ye(f)?{signal:`(1-${f.signal})/2`}:Dd(f)?(1-f.band)/2:.5,$=Lc({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(Tt(e.bin)||e.timeUnit){const O=e.timeUnit&&$!==.5;return{[y]:wq({fieldDef:e,scaleName:l,bandPosition:A,offset:S,useRectOffsetField:O}),[m]:wq({fieldDef:e,scaleName:l,bandPosition:ye(A)?{signal:`1-${A.signal}`}:1-A,offset:E,useRectOffsetField:O})}}else if(Jn(e.bin)){const O=rd(e,l,{},{offset:S});if(te(t))return{[y]:O,[m]:rd(t,l,{},{offset:E})};if(rh(e.bin)&&e.bin.step)return{[y]:O,[m]:{signal:`scale("${l}", ${oe(e,{expr:"datum"})} + ${e.bin.step})`,offset:E}}}ee(yle(g))}function wq({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return P2({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:tO,endSuffix:nO}:{}})}const T7e=new Set(["aria","width","height"]);function Qo(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?rce(e):{};return{...M7e(e.markDef,t),...Sq("fill",n),...Sq("stroke",r),...rr("opacity",e),...rr("fillOpacity",e),...rr("strokeOpacity",e),...rr("strokeWidth",e),...rr("strokeDash",e),...S7e(e),...tce(e),...p6(e,"href"),...b7e(e)}}function Sq(e,t){return t?{[e]:t}:{}}function M7e(e,t){return B6e.reduce((n,r)=>(!T7e.has(r)&&Z(e,r)&&t[r]!=="ignore"&&(n[r]=Lt(e[r])),n),{})}function m6(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,o)=>{var u;let a;if(!tl(o)||!(a=e.getScaleType(o)))return;const s=I$(i.aggregate),l=H4({scaleChannel:o,markDef:n,config:t,scaleType:a,isCountAggregate:s});if(Y8e(l)){const c=e.vgField(o,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(o=>z$(o,!0)).join(" && ")}}}function Eq(e,t){if(t!==void 0)return{[e]:Lt(t)}}const HP="voronoi",ace={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(HP)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(sf(o))return ee(V6e(o)),n;const a={name:e.getName(HP),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...tce(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let s=0,l=!1;return n.forEach((u,c)=>{const f=u.name??"";f===e.component.mark[0].name?s=c:f.includes(HP)&&(l=!0)}),l||n.splice(s+1,0,a),n}},sce={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!a6(e.bind),parse:(e,t,n)=>gce(t,n),topLevelSignals:(e,t,n)=>{var l;const r=t.name,i=t.project,o=t.bind,a=(l=t.init)==null?void 0:l[0],s=ace.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((u,c)=>{const f=qt(`${r}_${u.field}`);n.filter(h=>h.name===f).length||n.unshift({name:f,...a?{init:Fd(a[c])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${s}[${re(u.field)}] : null`}]:[],bind:o[u.field]??o[u.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(u=>u.name===r+ru),a=r+qb,s=i.items.map(u=>qt(`${r}_${u.field}`)),l=s.map(u=>`${u} !== null`).join(" && ");return s.length&&(o.update=`${l} ? {fields: ${a}, values: [${s.join(", ")}]} : null`),delete o.value,delete o.on,n}},j2="_toggle",lce={defined:e=>e.type==="point"&&!Cs(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+j2,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+ru,r=t.name+j2;return`${r} ? null : ${n}, ${t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${od(e)}}, `}${r} ? ${n} : null`}},N7e={defined:e=>e.clear!==void 0&&e.clear!==!1&&!Cs(e),parse:(e,t)=>{t.clear&&(t.clear=se(t.clear)?Jc(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(sce.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===qt(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(a=>a.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const a=n.findIndex(s=>s.name===i.signals.data);r(a,"null")}}else{let i=n.findIndex(o=>o.name===t.name+ru);r(i,"null"),lce.defined(t)&&(i=n.findIndex(o=>o.name===t.name+j2),r(i,"false"))}return n}},uce={defined:e=>{const t=e.resolve==="global"&&e.bind&&a6(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==ja;return t&&!n&&ee(Q6e),t&&n},parse:(e,t,n)=>{const r=Ce(n);if(r.select=se(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},gce(t,r),le(n.select)&&(n.select.on||n.select.clear)){const a='event.item && indexof(event.item.mark.role, "legend") < 0';for(const s of t.events)s.filter=ue(s.filter??[]),s.filter.includes(a)||s.filter.push(a)}const i=LP(t.bind)?t.bind.legend:"click",o=se(i)?Jc(i,"view"):ue(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=LP(t.bind)&&t.bind.legend,o=a=>s=>{const l=Ce(s);return l.markname=a,l};for(const a of t.project.items){if(!a.hasLegend)continue;const s=`${qt(a.field)}_legend`,l=`${r}_${s}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(o(`${s}_symbols`)).concat(i.merge.map(o(`${s}_labels`))).concat(i.merge.map(o(`${s}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(d=>d.name===r+ru),a=r+qb,s=i.items.filter(d=>d.hasLegend).map(d=>qt(`${r}_${qt(d.field)}_legend`)),u=`${s.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${a}, values: [${s.join(", ")}]} : null`;t.events&&s.length>0?o.on.push({events:s.map(d=>({signal:d})),update:u}):s.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(d=>d.name===r+j2),f=LP(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:f}):c.on[0].events=f),n}};function R7e(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const o of xn(e.component.selection??{})){const a=o.project.hasField[r]??o.project.hasChannel[t];if(a&&uce.defined(o)){const s=n.get("selections")??[];s.push(o.name),n.set("selections",s,!1),a.hasLegend=!0}}}const cce="_translate_anchor",fce="_translate_delta",D7e={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Ll.defined(t),o=r+cce,{x:a,y:s}=t.project.hasChannel;let l=Jc(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+Ap,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:`{x: x(unit), y: y(unit)${a!==void 0?`, extent_x: ${i?QR(e,Gt):`slice(${a.signals.visual})`}`:""}${s!==void 0?`, extent_y: ${i?QR(e,Xn):`slice(${s.signals.visual})`}`:""}}`}]},{name:r+fce,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),a!==void 0&&_q(e,t,a,"width",n),s!==void 0&&_q(e,t,s,"height",n),n}};function _q(e,t,n,r,i){const o=t.name,a=o+cce,s=o+fce,l=n.channel,u=Ll.defined(t),c=i.find(w=>w.name===n.signals[u?"data":"visual"]),f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(l),h=d==null?void 0:d.get("type"),p=d==null?void 0:d.get("reverse"),g=u?l===Gt?p?"":"-":p?"-":"":"",m=`${a}.extent_${l}`,y=`${g}${s}.${l} / ${u?`${f}`:`span(${m})`}`,v=!u||!d?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",b=u?h==="pow"?`, ${d.get("exponent")??1}`:h==="symlog"?`, ${d.get("constant")??1}`:"":"",x=`${v}(${m}, ${y}${b})`;c.on.push({events:{signal:s},update:u?x:`clampRange(${x}, 0, ${f})`})}const dce="_zoom_anchor",hce="_zoom_delta",I7e={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Ll.defined(t),o=r+hce,{x:a,y:s}=t.project.hasChannel,l=re(e.scaleName(Gt)),u=re(e.scaleName(Xn));let c=Jc(t.zoom,"scope");return i||(c=c.map(f=>(f.markname=r+Ap,f))),n.push({name:r+dce,on:[{events:c,update:i?`{${[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(f=>f).join(", ")}}`:"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),a!==void 0&&Aq(e,t,a,"width",n),s!==void 0&&Aq(e,t,s,"height",n),n}};function Aq(e,t,n,r,i){const o=t.name,a=n.channel,s=Ll.defined(t),l=i.find(v=>v.name===n.signals[s?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(a),f=c==null?void 0:c.get("type"),d=s?QR(e,a):l.name,h=o+hce,p=`${o}${dce}.${a}`,g=!s||!c?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",m=s?f==="pow"?`, ${c.get("exponent")??1}`:f==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${g}(${d}, ${p}, ${h}${m})`;l.on.push({events:{signal:h},update:s?y:`clampRange(${y}, 0, ${u})`})}const jd="_store",ru="_tuple",F7e="_modify",pce="vlSelectionResolve",iO=[u7e,y7e,a7e,lce,sce,Ll,uce,N7e,D7e,I7e,ace];function j7e(e){let t=e.parent;for(;t&&!to(t);)t=t.parent;return t}function od(e,{escape:t}={escape:!0}){let n=t?re(e.name):e.name;const r=j7e(e);if(r){const{facet:i}=r;for(const o of To)i[o]&&(n+=` + '__facet_${o}_' + (facet[${re(r.vgField(o))}])`)}return n}function y6(e){return xn(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function gce(e,t){(se(t.select)||!t.select.on)&&delete e.events,(se(t.select)||!t.select.clear)&&delete e.clear,(se(t.select)||!t.select.toggle)&&delete e.toggle}function Cs(e){var t;return(t=e.events)==null?void 0:t.find(n=>"type"in n&&n.type==="timer")}function ZR(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...ZR(e.object)),t.push(...ZR(e.property))),t)}function mce(e){return e.object.type==="MemberExpression"?mce(e.object):e.object.name==="datum"}function yce(e){const t=IL(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&mce(r)&&n.add(ZR(r).slice(1).join("."))}),n}class Dm extends pt{constructor(n,r,i){super(n);K(this,"model");K(this,"filter");K(this,"expr");K(this,"_dependentFields");this.model=r,this.filter=i,this.expr=L2(this.model,this.filter,this),this._dependentFields=yce(this.expr)}clone(){return new Dm(null,this.model,Ce(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function L7e(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const o of t){const a=qt(o.name),s=o.select,l=se(s)?s:s.type,u=le(s)?Ce(s):{type:l},c=r[l];for(const h in c)h==="fields"||h==="encodings"||(h==="mark"&&(u.mark={...c.mark,...u.mark}),(u[h]===void 0||u[h]===!0)&&(u[h]=Ce(c[h]??u[h])));const f=n[a]={...u,name:a,type:l,init:o.value,bind:o.bind,events:se(u.on)?Jc(u.on,"scope"):ue(Ce(u.on))};if(Cs(f)&&(i++,i>1)){delete n[a];continue}const d=Ce(o);for(const h of iO)h.defined(f)&&h.parse&&h.parse(e,f,d)}return i>1&&ee(rze),n}function vce(e,t,n,r="datum"){const i=se(t)?t:t.param,o=qt(i),a=re(o+jd);let s;try{s=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(s.project.timeUnit){const d=n??e.component.data.raw,h=s.project.timeUnit.clone();d.parent?h.insertAsParentOf(d):d.parent=h}const l=s.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=s.resolve==="global"?")":`, ${re(s.resolve)})`,c=`${l}${a}, ${r}${u}`,f=`length(data(${a}))`;return t.empty===!1?`${f} && ${c}`:`!${f} || ${c}`}function bce(e,t,n){const r=qt(t),i=n.encoding;let o=n.field,a;try{a=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=a.project.items[0].field,a.project.items.length>1&&ee(ize(o));else if(i&&!o){const s=a.project.items.filter(l=>l.channel===i);!s.length||s.length>1?(o=a.project.items[0].field,ee(oze(s,i,n,o))):o=s[0].field}return`${a.name}[${re(qo(o))}]`}function z7e(e,t){for(const[n,r]of Fc(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new Si(new Dm(t,e,{param:n}),i,Yt.Lookup,e.component.data.outputNodeRefCounts)}}function L2(e,t,n){return W0(t,r=>se(r)?r:p8e(r)?vce(e,r,n):kle(r))}function B7e(e,t){if(e)return X(e)&&!Fu(e)?e.map(n=>J4(n,t)).join(", "):e}function GP(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function g0(e,t,n,r={header:!1}){var f,d;const{disable:i,orient:o,scale:a,labelExpr:s,title:l,zindex:u,...c}=e.combine();if(!i){for(const h in c){const p=h,g=bBe[p],m=c[p];if(g&&g!==t&&g!=="both")delete c[p];else if(Wb(m)){const{condition:y,...v}=m,b=ue(y),x=ZW[p];if(x){const{vgProp:w,part:E}=x,S=[...b.map(A=>{const{test:$,..._}=A;return{test:L2(null,$),..._}}),v];GP(c,E,w,S),delete c[p]}else if(x===null){const w={signal:b.map(E=>{const{test:S,...A}=E;return`${L2(null,S)} ? ${FW(A)} : `}).join("")+FW(v)};c[p]=w}}else if(ye(m)){const y=ZW[p];if(y){const{vgProp:v,part:b}=y;GP(c,b,v,m),delete c[p]}}Ue(["labelAlign","labelBaseline"],p)&&c[p]===null&&delete c[p]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:h}=c.encode;c.encode={...h?{grid:h}:{}},At(c.encode)&&delete c.encode}return{scale:a,orient:o,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:dn(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(s!==void 0){let p=s;(d=(f=c.encode)==null?void 0:f.labels)!=null&&d.update&&ye(c.encode.labels.update.text)&&(p=Pd(s,"datum.label",c.encode.labels.update.text.signal)),GP(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of aue)e.hasAxisPart(p)||delete c.encode[p];At(c.encode)&&delete c.encode}const h=B7e(l,n);return{scale:a,orient:o,grid:!1,...h?{title:h}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:dn(u,0)}}}}function xce(e){const{axes:t}=e.component,n=[];for(const r of yu)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",a=e.getSizeSignalRef(o).signal;o!==a&&n.push({name:o,update:a})}}return n}function U7e(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>g0(i,"grid",t)),...r.map(i=>g0(i,"grid",t)),...n.map(i=>g0(i,"main",t)),...r.map(i=>g0(i,"main",t))].filter(i=>i)}function $q(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",a=t[n==="x"?"axisBottom":"axisLeft"]||{},s=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...J(a),...J(s)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${o}" ? ${xa(a[c])} : ${xa(s[c])}`};return u}return t[i]})])}function W7e(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:Nle(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",a=ye(n)?"axisOrient":`axis${Mb(n)}`,s=[...i,...i.map(u=>o+u.substr(4))],l=["axis",a,o];return{vlOnlyAxisConfig:$q(s,r,e,n),vgAxisConfig:$q(l,r,e,n),axisConfigStyle:q7e([...l,...s],r)}}function q7e(e,t){var r;const n=[{}];for(const i of e){let o=(r=t[i])==null?void 0:r.style;if(o){o=ue(o);for(const a of o)n.push(t.style[a])}}return Object.assign.apply(null,n)}function eD(e,t,n,r={}){var o;const i=sle(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const a of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((o=r[a])==null?void 0:o[e])!==void 0)return{configFrom:a,configValue:r[a][e]};return{}}const Oq={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??H7e(n,e),gridScale:({model:e,channel:t})=>G7e(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||Sce(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||wce(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??X7e(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??K7e(t.type,n,te(t)&&!!t.timeUnit,te(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,a=o?t.getSizeSignalRef(o):void 0;return n.tickCount??Q7e({fieldOrDatumDef:r,scaleType:i,size:a,values:n.values})},tickMinStep:({axis:e,format:t,fieldOrDatumDef:n})=>e.tickMinStep??J7e({format:t,fieldOrDatumDef:n}),title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=Ece(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",a=t.fieldDef(o);return ule(i?[QW(i)]:[],te(a)?[QW(a)]:[])},values:({axis:e,fieldOrDatumDef:t})=>Z7e(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??eUe(n,t)};function H7e(e,t){return!Gn(e)&&te(t)&&!Tt(t==null?void 0:t.bin)&&!Jn(t==null?void 0:t.bin)}function G7e(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function V7e(e,t,n,r,i){const o=t==null?void 0:t.labelAngle;if(o!==void 0)return ye(o)?o:Yv(o);{const{configValue:a}=eD("labelAngle",r,t==null?void 0:t.style,i);return a!==void 0?Yv(a):n===Gt&&Ue([z4,L4],e.type)&&!(te(e)&&e.timeUnit)?270:void 0}}function tD(e){return`(((${e.signal} % 360) + 360) % 360)`}function wce(e,t,n,r){if(e!==void 0)if(n==="x"){if(ye(e)){const i=tD(e),o=ye(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(ye(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(ye(e)){const i=tD(e),o=ye(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(ye(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function Sce(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(ye(e)){const a=tD(e),s=ye(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${a} + 90)`:a} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${a} && ${a} < ${180+i}) === ${s} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(ye(t)){const a=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${a} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function X7e(e,t){if(t==="x"&&Ue(["quantitative","temporal"],e))return!0}function K7e(e,t,n,r){if(n&&!le(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function Y7e(e){return e==="x"?"bottom":"left"}function Q7e({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!Gn(t)&&t!=="log"){if(te(e)){if(Tt(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Ue(["month","hours","day","quarter"],(i=Hn(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function J7e({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(te(t)){const{timeUnit:n}=t;if(n){const r=$le(n);if(r)return{signal:r}}}}function Ece(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,a=i?i.title:void 0;if(o&&a)return cle(o,a);if(o)return o;if(a)return a;if(o!==void 0)return o;if(a!==void 0)return a}function Z7e(e,t){const n=e.values;if(X(n))return oue(t,n);if(ye(n))return n}function eUe(e,t){return e==="rect"&&M2(t)?1:0}class kg extends pt{constructor(n,r){super(n);K(this,"transform");K(this,"_dependentFields");this.transform=r,this._dependentFields=yce(this.transform.calculate)}clone(){return new kg(null,Ce(this.transform))}static parseAllForSortIndex(n,r){return r.forEachFieldDef((i,o)=>{if(sh(i)&&Kle(i.sort)){const{field:a,timeUnit:s}=i,l=i.sort,u=l.map((c,f)=>`${kle({field:a,timeUnit:s,equal:c})} ? ${f} : `).join("")+l.length;n=new kg(n,{calculate:u,as:Pg(i,o,{forAs:!0})})}}),n}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${He(this.transform)}`}}function Pg(e,t,n){return oe(e,{prefix:t,suffix:"sort_index",...n})}function oO(e,t){return Ue(["top","bottom"],t)?"column":Ue(["left","right"],t)||e==="row"?"row":"column"}function Tg(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return dn((t||{})[e],i[e],n.header[e])}function aO(e,t,n,r){const i={};for(const o of e){const a=Tg(o,t||{},n,r);a!==void 0&&(i[o]=a)}return i}const v6=["row","column"],b6=["header","footer"];function tUe(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:a,titleOrient:s}=aO(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=oO(t,s),u=Yv(a);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...Ace(u,l),..._ce(l,u,o),...$ce(r,i,t,BBe,_ue)}}}function _ce(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=Sce(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function Ace(e,t){const n=wce(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function nUe(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of b6)if(n[i])for(const o of n[i]){const a=iUe(e,t,i,n,o);a!=null&&r.push(a)}return r}function rUe(e,t){const{sort:n}=e;return jl(n)?{field:oe(n,{expr:"datum"}),order:n.order??"ascending"}:X(n)?{field:Pg(e,t,{expr:"datum"}),order:"ascending"}:{field:oe(e,{expr:"datum"}),order:n??"ascending"}}function nD(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:a,labelOrient:s,labelExpr:l}=aO(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=X4({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=oO(t,s);return{text:{signal:l?Pd(Pd(l,"datum.label",u),"datum.value",oe(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...Ace(o,c),..._ce(c,o,a),...$ce(n,e,t,UBe,Aue)}}function iUe(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:a}=r,s=e.config?e.config:void 0;if(a&&i.labels){const{labelOrient:f}=aO(["labelOrient"],a.header,s,t);(t==="row"&&!Ue(["top","bottom"],f)||t==="column"&&!Ue(["left","right"],f))&&(o=nD(a,t,s))}const l=to(e)&&!Lb(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(o||c){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:rUe(a,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const oUe={column:{start:0,end:1},row:{start:1,end:0}};function aUe(e,t){return oUe[t][e]}function sUe(e,t){const n={};for(const r of To){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:o,titleOrient:a}=aO(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),s=oO(r,a),l=aUe(o,s);l!==void 0&&(n[s]=l)}}return At(n)?void 0:n}function $ce(e,t,n,r,i){const o={};for(const a of r){if(!i[a])continue;const s=Tg(a,t==null?void 0:t.header,e,n);s!==void 0&&(o[i[a]]=s)}return o}function x6(e){return[...gw(e,"width"),...gw(e,"height"),...gw(e,"childWidth"),...gw(e,"childHeight")]}function gw(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const a=o.get("type"),s=o.get("range");if(Gn(a)&&ih(s)){const l=e.scaleName(n);return to(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[Cq(l,s)]:[Cq(l,s),{name:i,update:Oce(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),a=o?"containerSize()[0]":"containerSize()[1]",s=HR(e.config.view,o?"width":"height"),l=`isFinite(${a}) ? ${a} : ${s}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function Cq(e,t){const n=`${e}_step`;return ye(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function Oce(e,t,n){const r=t.get("type"),i=t.get("padding"),o=dn(t.get("paddingOuter"),i);let a=t.get("paddingInner");return a=r==="band"?a!==void 0?a:i:1,`bandspace(${n}, ${xa(a)}, ${xa(o)}) * ${e}_step`}function Cce(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function kce(e,t){return J(e).reduce((n,r)=>({...n,...Rm({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>Lt(i.value),invalidValueRef:void 0})}),{})}function Pce(e,t){if(to(t))return e==="theta"?"independent":"shared";if(jm(t))return"shared";if(O6(t))return hn(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function w6(e,t){const n=e.scale[t],r=hn(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&ee(Ize(t)),"independent"):e[r][t]||"shared"}const lUe={...HBe,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},Tce=J(lUe);class uUe extends bu{}const kq={symbols:cUe,gradient:fUe,labels:dUe,entries:hUe};function cUe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:a,encoding:s,config:l,mark:u}=n,c=a.filled&&u!=="trail";let f={...q6e({},n,z8e),...rce(n,{filled:c})};const d=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,g=d===void 0?Mce(s.opacity)??a.opacity:void 0;if(f.fill){if(r==="fill"||c&&r===$i)delete f.fill;else if(Z(f.fill,"field"))h?delete f.fill:(f.fill=Lt(l.legend.symbolBaseFillColor??"black"),f.fillOpacity=Lt(g??1));else if(X(f.fill)){const m=rD(s.fill??s.color)??a.fill??(c&&a.color);m&&(f.fill=Lt(m))}}if(f.stroke){if(r==="stroke"||!c&&r===$i)delete f.stroke;else if(Z(f.stroke,"field")||p)delete f.stroke;else if(X(f.stroke)){const m=dn(rD(s.stroke||s.color),a.stroke,c?a.color:void 0);m&&(f.stroke={value:m})}}if(r!==mu){const m=te(t)&&Rce(n,i,t);m?f.opacity=[{test:m,...Lt(g??1)},Lt(l.legend.unselectedOpacity)]:g&&(f.opacity=Lt(g))}return f={...f,...e},At(f)?void 0:f}function fUe(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:a}=t;let s={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?Mce(a.opacity)||o.opacity:void 0;return u&&(s.opacity=Lt(u)),s={...s,...e},At(s)?void 0:s}function dUe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},a=n.config,s=te(t)?Rce(n,i,t):void 0,l=s?[{test:s,value:1},{value:a.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o;let f;Id(c)?f=wa({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:a}):u===void 0&&c===void 0&&a.customFormatTypes&&(t.type==="quantitative"&&a.numberFormatType?f=wa({fieldOrDatumDef:t,field:"datum.value",format:a.numberFormat,formatType:a.numberFormatType,config:a}):t.type==="temporal"&&a.timeFormatType&&te(t)&&t.timeUnit===void 0&&(f=wa({fieldOrDatumDef:t,field:"datum.value",format:a.timeFormat,formatType:a.timeFormatType,config:a})));const d={...l?{opacity:l}:{},...f?{text:f}:{},...e};return At(d)?void 0:d}function hUe(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function Mce(e){return Nce(e,(t,n)=>Math.max(t,n.value))}function rD(e){return Nce(e,(t,n)=>dn(t,n.value))}function Nce(e,t){if(sBe(e))return ue(e.condition).reduce(t,e.value);if(Ia(e))return e.value}function Rce(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=re(n.field);return r.map(o=>`(!length(data(${re(qt(o)+jd)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const Pq={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return Gle(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return Vle(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??xUe(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??wUe(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??gUe(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>_p(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Ep(n)&&bs(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>pUe(t,e)};function pUe(e,t){const n=e.values;if(X(n))return oue(t,n);if(ye(n))return n}function gUe(e,t,n,r){if(t!=="shape"){const i=rD(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function mUe(e){const{legend:t}=e;return dn(t.type,yUe(e))}function yUe({channel:e,timeUnit:t,scaleType:n}){if(Ep(e)){if(Ue(["quarter","month","day"],t))return"symbol";if(bs(n))return"gradient"}return"symbol"}function vUe({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??bUe(n,t)}function bUe(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function xUe({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:a,gradientVerticalMaxLength:s,gradientVerticalMinLength:l}=e;if(bs(i))return n==="horizontal"?r==="top"||r==="bottom"?Tq(t,"width",a,o):a:Tq(t,"height",l,s)}function Tq(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function wUe(e){if(Ue(["quantile","threshold","log","symlog"],e))return"greedy"}function Dce(e){const t=Kt(e)?SUe(e):$Ue(e);return e.component.legends=t,t}function SUe(e){const{encoding:t}=e,n={};for(const r of[$i,...Oue]){const i=Tn(t[r]);!i||!e.getScaleComponent(r)||r===Oi&&te(i)&&i.type===Nm||(n[r]=AUe(e,r))}return n}function EUe(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function _Ue(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function AUe(e,t){var x;let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,a=o.legend,s=new uUe({},EUe(e,t));R7e(e,t,s);const l=n!==void 0?!n:a.disable;if(s.set("disable",l,n!==void 0),l)return s;n=n||{};const u=e.getScaleComponent(t).get("type"),c=Tn(i[t]),f=te(c)?(x=Hn(c.timeUnit))==null?void 0:x.unit:void 0,d=n.orient||o.legend.orient||"right",h=mUe({legend:n,channel:t,timeUnit:f,scaleType:u}),p=vUe({legend:n,legendType:h,orient:d,legendConfig:a}),g={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:a,config:o,scaleType:u,orient:d,legendType:h,direction:p};for(const w of Tce){if(h==="gradient"&&w.startsWith("symbol")||h==="symbol"&&w.startsWith("gradient"))continue;const E=w in Pq?Pq[w](g):n[w];if(E!==void 0){const S=_Ue(E,w,n,e.fieldDef(t));(S||o.legend[w]===void 0)&&s.set(w,E,S)}}const m=(n==null?void 0:n.encoding)??{},y=s.get("selections"),v={},b={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:s,legendType:h};for(const w of["labels","legend","title","symbols","gradient","entries"]){const E=kce(m[w]??{},e),S=w in kq?kq[w](E,b):E;S!==void 0&&!At(S)&&(v[w]={...y!=null&&y.length&&te(c)?{name:`${qt(c.field)}_legend_${w}`}:{},...y!=null&&y.length?{interactive:!!y}:{},update:S})}return At(v)||s.set("encode",v,!!(n!=null&&n.encoding)),s}function $Ue(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){Dce(r);for(const i of J(r.component.legends))n.legend[i]=w6(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=Ice(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of J(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function Ice(e,t){var o,a,s,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of Tce){const c=zc(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(f,d)=>{switch(u){case"symbolType":return OUe(f,d);case"title":return fle(f,d);case"type":return i=!0,Di("symbol")}return eO(f,d,u,"legend")});e.setWithExplicit(u,c)}return i&&((a=(o=e.implicit)==null?void 0:o.encode)!=null&&a.gradient&&O2(e.implicit,["encode","gradient"]),(l=(s=e.explicit)==null?void 0:s.encode)!=null&&l.gradient&&O2(e.explicit,["encode","gradient"])),e}function OUe(e,t){return t.value==="circle"?t:e}function CUe(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function Fce(e){const t=e.component.legends,n={};for(const i of J(t)){const o=e.getScaleComponent(i),a=ut(o.get("domains"));if(n[a])for(const s of n[a])Ice(s,t[i])||n[a].push(t[i]);else n[a]=[t[i].clone()]}return xn(n).flat().map(i=>kUe(i,e.config)).filter(i=>i!==void 0)}function kUe(e,t){var a,s,l;const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),(a=o.encode)!=null&&a.symbols){const u=o.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!o.stroke&&(u.stroke={value:"transparent"});for(const c of Oue)o[c]&&delete u[c]}if(o.title||delete o.title,r!==void 0){let u=r;(l=(s=o.encode)==null?void 0:s.labels)!=null&&l.update&&ye(o.encode.labels.update.text)&&(u=Pd(r,"datum.label",o.encode.labels.update.text.signal)),CUe(o,"labels","text",{signal:u})}return o}}function PUe(e){return jm(e)||O6(e)?TUe(e):jce(e)}function TUe(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),jce(e))}function jce(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(a=>a.signal).join(", ")}]`},o=t.data.reduce((a,s)=>{const l=ye(s)?s.signal:`data('${e.lookupDataSource(s)}')`;return Ue(a,l)||a.push(l),a},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const MUe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Lce extends bu{constructor(n,r,i,o){super({...r},{name:n});K(this,"specifiedProjection");K(this,"size");K(this,"data");K(this,"merged",!1);this.specifiedProjection=r,this.size=i,this.data=o}get isFit(){return!!this.data}}function zce(e){e.component.projection=Kt(e)?NUe(e):IUe(e)}function NUe(e){if(e.hasProjection){const t=Zn(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?RUe(e):void 0,o=new Lce(e.projectionName(!0),{...Zn(e.config.projection),...t},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function RUe(e){const t=[],{encoding:n}=e;for(const r of[[Ha,qa],[Ho,Ga]])(Tn(n[r[0]])||Tn(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Oi)&&e.typedFieldDef(Oi).type===Nm&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Yt.Main)),t}function DUe(e,t){const n=d4(MUe,i=>!!(!de(e.explicit,i)&&!de(t.explicit,i)||de(e.explicit,i)&&de(t.explicit,i)&&Xi(e.get(i),t.get(i))));if(Xi(e.size,t.size)){if(n)return e;if(Xi(e.explicit,{}))return t;if(Xi(t.explicit,{}))return e}return null}function IUe(e){if(e.children.length===0)return;let t;for(const r of e.children)zce(r);const n=d4(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=DUe(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new Lce(r,t.specifiedProjection,t.size,Ce(t.data));for(const o of e.children){const a=o.component.projection;a&&(a.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(a.get("name"),r),a.merged=!0)}return i}}function FUe(e,t,n,r){if(Ub(t,n)){const i=Kt(e)?e.axis(n)??e.legend(n)??{}:{},o=oe(t,{expr:"datum"}),a=oe(t,{expr:"datum",binSuffix:"end"});return{formulaAs:oe(t,{binSuffix:"range",forAs:!0}),formula:jb(o,a,i.format,i.formatType,r)}}return{}}function Bce(e,t){return`${rle(e)}_${t}`}function jUe(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function S6(e,t,n){const r=X$(n,void 0)??{},i=Bce(r,t);return e.getName(`${i}_bins`)}function LUe(e){return"as"in e}function Mq(e,t,n){let r,i;LUe(e)?r=se(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[oe(e,{forAs:!0}),oe(e,{binSuffix:"end",forAs:!0})];const o={...X$(t,void 0)},a=Bce(o,e.field),{signal:s,extentSignal:l}=jUe(n,a);if(F$(o.extent)){const c=o.extent;i=bce(n,c.param,c),delete o.extent}const u={bin:o,field:e.field,as:[r],...s?{signal:s}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:a,binComponent:u}}class ks extends pt{constructor(n,r){super(n);K(this,"bins");this.bins=r}clone(){return new ks(null,Ce(this.bins))}static makeFromEncoding(n,r){const i=r.reduceFieldDef((o,a,s)=>{if(ii(a)&&Tt(a.bin)){const{key:l,binComponent:u}=Mq(a,a.bin,r);o[l]={...u,...o[l],...FUe(r,a,s,r.config)}}return o},{});return At(i)?null:new ks(n,i)}static makeFromTransform(n,r,i){const{key:o,binComponent:a}=Mq(r,r.bin,i);return new ks(n,{[o]:a})}merge(n,r){for(const i of J(n.bins))i in this.bins?(r(n.bins[i].signal,this.bins[i].signal),this.bins[i].as=vs([...this.bins[i].as,...n.bins[i].as],He)):this.bins[i]=n.bins[i];for(const i of n.children)n.removeChild(i),i.parent=this;n.remove()}producedFields(){return new Set(xn(this.bins).map(n=>n.as).flat(2))}dependentFields(){return new Set(xn(this.bins).map(n=>n.field))}hash(){return`Bin ${He(this.bins)}`}assemble(){return xn(this.bins).flatMap(n=>{const r=[],[i,...o]=n.as,{extent:a,...s}=n.bin,l={type:"bin",field:qo(n.field),as:i,signal:n.signal,...F$(a)?{extent:null}:{extent:a},...n.span?{span:{signal:`span(${n.span})`}}:{},...s};!a&&n.extentSignal&&(r.push({type:"extent",field:qo(n.field),signal:n.extentSignal}),l.extent={signal:n.extentSignal}),r.push(l);for(const u of o)for(let c=0;c<2;c++)r.push({type:"formula",expr:oe({field:i[c]},{expr:"datum"}),as:u[c]});return n.formula&&r.push({type:"formula",expr:n.formula,as:n.formulaAs}),r})}}function zUe(e,t,n,r){var o;const i=Kt(r)?r.encoding[el(t)]:void 0;if(ii(n)&&Kt(r)&&Qle(n,i,r.markDef,r.config)){e.add(oe(n,{})),e.add(oe(n,{suffix:"end"}));const{mark:a,markDef:s,config:l}=r,u=Lc({fieldDef:n,markDef:s,config:l});Qv(a)&&u!==.5&&hn(t)&&(e.add(oe(n,{suffix:tO})),e.add(oe(n,{suffix:nO}))),n.bin&&Ub(n,t)&&e.add(oe(n,{binSuffix:"range"}))}else if(Xse(t)){const a=Vse(t);e.add(r.getName(a))}else e.add(oe(n));return sh(n)&&O8e((o=n.scale)==null?void 0:o.range)&&e.add(n.scale.range.field),e}function BUe(e,t){for(const n of J(t)){const r=t[n];for(const i of J(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Oa extends pt{constructor(n,r,i){super(n);K(this,"dimensions");K(this,"measures");this.dimensions=r,this.measures=i}clone(){return new Oa(null,new Set(this.dimensions),Ce(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(n,r){let i=!1;r.forEachFieldDef(s=>{s.aggregate&&(i=!0)});const o={},a=new Set;return!i||(r.forEachFieldDef((s,l)=>{const{aggregate:u,field:c}=s;if(u)if(u==="count")o["*"]??(o["*"]={}),o["*"].count=new Set([oe(s,{forAs:!0})]);else{if(tu(u)||af(u)){const f=tu(u)?"argmin":"argmax",d=u[f];o[d]??(o[d]={}),o[d][f]=new Set([oe({op:f,field:d},{forAs:!0})])}else o[c]??(o[c]={}),o[c][u]=new Set([oe(s,{forAs:!0})]);tl(l)&&r.scaleDomain(l)==="unaggregated"&&(o[c]??(o[c]={}),o[c].min=new Set([oe({field:c,aggregate:"min"},{forAs:!0})]),o[c].max=new Set([oe({field:c,aggregate:"max"},{forAs:!0})]))}else zUe(a,l,s,r)}),a.size+J(o).length===0)?null:new Oa(n,a,o)}static makeFromTransform(n,r){var a;const i=new Set,o={};for(const s of r.aggregate){const{op:l,field:u,as:c}=s;l&&(l==="count"?(o["*"]??(o["*"]={}),o["*"].count=new Set([c||oe(s,{forAs:!0})])):(o[u]??(o[u]={}),(a=o[u])[l]??(a[l]=new Set),o[u][l].add(c||oe(s,{forAs:!0}))))}for(const s of r.groupby??[])i.add(s);return i.size+J(o).length===0?null:new Oa(n,i,o)}merge(n){return Lse(this.dimensions,n.dimensions)?(BUe(this.measures,n.measures),!0):(Jze("different dimensions, cannot merge"),!1)}addDimensions(n){n.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...J(this.measures)])}producedFields(){const n=new Set;for(const r of J(this.measures))for(const i of J(this.measures[r])){const o=this.measures[r][i];o.size===0?n.add(`${i}_${r}`):o.forEach(n.add,n)}return n}hash(){return`Aggregate ${He({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const n=[],r=[],i=[];for(const a of J(this.measures))for(const s of J(this.measures[a]))for(const l of this.measures[a][s])i.push(l),n.push(s),r.push(a==="*"?null:qo(a));return{type:"aggregate",groupby:[...this.dimensions].map(qo),ops:n,fields:r,as:i}}}class Im extends pt{constructor(n,r,i,o){super(n);K(this,"model");K(this,"name");K(this,"data");K(this,"column");K(this,"row");K(this,"facet");K(this,"childModel");this.model=r,this.name=i,this.data=o;for(const a of To){const s=r.facet[a];if(s){const{bin:l,sort:u}=s;this[a]={name:r.getName(`${a}_domain`),fields:[oe(s),...Tt(l)?[oe(s,{binSuffix:"end"})]:[]],...jl(u)?{sortField:u}:X(u)?{sortIndexField:Pg(s,a)}:{}}}}this.childModel=r.child}hash(){let n="Facet";for(const r of To)this[r]&&(n+=` ${r.charAt(0)}:${He(this[r])}`);return n}get fields(){var r;const n=[];for(const i of To)(r=this[i])!=null&&r.fields&&n.push(...this[i].fields);return n}dependentFields(){const n=new Set(this.fields);for(const r of To)this[r]&&(this[r].sortField&&n.add(this[r].sortField.field),this[r].sortIndexField&&n.add(this[r].sortIndexField));return n}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const n={};for(const r of yu){const i=this.childModel.component.scales[r];if(i&&!i.merged){const o=i.get("type"),a=i.get("range");if(Gn(o)&&ih(a)){const s=sO(this.childModel,r),l=$6(s);l?n[r]=l:ee($4(r))}}}return n}assembleRowColumnHeaderData(n,r,i){const o={row:"y",column:"x",facet:void 0}[n],a=[],s=[],l=[];o&&i&&i[o]&&(r?(a.push(`distinct_${i[o]}`),s.push("max")):(a.push(i[o]),s.push("distinct")),l.push(`distinct_${i[o]}`));const{sortField:u,sortIndexField:c}=this[n];if(u){const{op:f=H$,field:d}=u;a.push(d),s.push(f),l.push(oe(u,{forAs:!0}))}else c&&(a.push(c),s.push("max"),l.push(c));return{name:this[n].name,source:r??this.data,transform:[{type:"aggregate",groupby:this[n].fields,...a.length?{fields:a,ops:s,as:l}:{}}]}}assembleFacetHeaderData(n){var u,c;const{columns:r}=this.model.layout,{layoutHeaders:i}=this.model.component,o=[],a={};for(const f of v6){for(const d of b6){const h=((u=i[f])==null?void 0:u[d])??[];for(const p of h)if(((c=p.axes)==null?void 0:c.length)>0){a[f]=!0;break}}if(a[f]){const d=`length(data("${this.facet.name}"))`,h=f==="row"?r?{signal:`ceil(${d} / ${r})`}:1:r?{signal:`min(${d}, ${r})`}:{signal:d};o.push({name:`${this.facet.name}_${f}`,transform:[{type:"sequence",start:0,stop:h}]})}}const{row:s,column:l}=a;return(s||l)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,n)),o}assemble(){const n=[];let r=null;const i=this.getChildIndependentFieldsWithStep(),{column:o,row:a,facet:s}=this;if(o&&a&&(i.x||i.y)){r=`cross_${this.column.name}_${this.row.name}`;const l=[].concat(i.x??[],i.y??[]),u=l.map(()=>"distinct");n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:l,ops:u}]})}for(const l of[Fl,Il])this[l]&&n.push(this.assembleRowColumnHeaderData(l,r,i));if(s){const l=this.assembleFacetHeaderData(i);l&&n.push(...l)}return n}}function Nq(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function UUe(e,t){const n=g4(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=Nq(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=Nq(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return ee(sze(t)),null}function WUe(e){const t={};return ES(e.filter,n=>{if(Cle(n)){let r=null;M4(n)?r=qi(n.equal):R4(n)?r=qi(n.lte):N4(n)?r=qi(n.lt):D4(n)?r=qi(n.gt):I4(n)?r=qi(n.gte):F4(n)?r=n.range[0]:j4(n)&&(r=(n.oneOf??n.in)[0]),r&&(oh(r)?t[n.field]="date":tt(r)?t[n.field]="number":se(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function qUe(e){const t={};function n(r){$g(r)?t[r.field]="date":r.type==="quantitative"&&D6e(r.aggregate)?t[r.field]="number":xg(r.field)>1?r.field in t||(t[r.field]="flatten"):sh(r)&&jl(r.sort)&&xg(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((Kt(e)||to(e))&&e.forEachFieldDef((r,i)=>{if(ii(r))n(r);else{const o=nh(i),a=e.fieldDef(o);n({...r,type:a.type})}}),Kt(e)){const{mark:r,markDef:i,encoding:o}=e;if(sf(r)&&!e.encoding.order){const a=i.orient==="horizontal"?"y":"x",s=o[a];te(s)&&s.type==="quantitative"&&!(s.field in t)&&(t[s.field]="number")}}return t}function HUe(e){const t={};if(Kt(e)&&e.component.selection)for(const n of J(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&xg(i.field)>1&&(t[i.field]="flatten")}return t}class Cr extends pt{constructor(n,r){super(n);K(this,"_parse");this._parse=r}clone(){return new Cr(null,Ce(this._parse))}hash(){return`Parse ${He(this._parse)}`}static makeExplicit(n,r,i){var s;let o={};const a=r.data;return!xc(a)&&((s=a==null?void 0:a.format)!=null&&s.parse)&&(o=a.format.parse),this.makeWithAncestors(n,o,{},i)}static makeWithAncestors(n,r,i,o){for(const l of J(i)){const u=o.getWithExplicit(l);u.value!==void 0&&(u.explicit||u.value===i[l]||u.value==="derived"||i[l]==="flatten"?delete i[l]:ee(WW(l,i[l],u.value)))}for(const l of J(r)){const u=o.get(l);u!==void 0&&(u===r[l]?delete r[l]:ee(WW(l,r[l],u)))}const a=new bu(r,i);o.copyAll(a);const s={};for(const l of J(a.combine())){const u=a.get(l);u!==null&&(s[l]=u)}return J(s).length===0||o.parseNothing?null:new Cr(n,s)}get parse(){return this._parse}merge(n){this._parse={...this._parse,...n.parse},n.remove()}assembleFormatParse(){const n={};for(const r of J(this._parse)){const i=this._parse[r];xg(r)===1&&(n[r]=i)}return n}producedFields(){return new Set(J(this._parse))}dependentFields(){return new Set(J(this._parse))}assembleTransforms(n=!1){return J(this._parse).filter(r=>n?xg(r)>1:!0).map(r=>{const i=UUe(r,this._parse[r]);return i?{type:"formula",expr:i,as:Tm(r)}:null}).filter(r=>r!==null)}}class Bc extends pt{clone(){return new Bc(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([ja])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:ja}}}class Hb extends pt{constructor(n,r){super(n);K(this,"params");this.params=r}clone(){return new Hb(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${He(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class Gb extends pt{constructor(n,r){super(n);K(this,"params");this.params=r}clone(){return new Gb(null,this.params)}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${He(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Ld extends pt{constructor(n){super(null);K(this,"_data");K(this,"_name");K(this,"_generator");n??(n={name:"source"});let r;if(xc(n)||(r=n.format?{...eo(n.format,["parse"])}:{}),Jv(n))this._data={values:n.values};else if(Og(n)){if(this._data={url:n.url},!r.type){let i=/(?:\.([^.]+))?$/.exec(n.url)[1];Ue(["json","csv","tsv","dsv","topojson"],i)||(i="json"),r.type=i}}else Hue(n)?this._data={values:[{type:"Sphere"}]}:(Wue(n)||xc(n))&&(this._data={});this._generator=xc(n),n.name&&(this._name=n.name),r&&!At(r)&&(this._data.format=r)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(n){this._name=n}set parent(n){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function E6(e){return e instanceof Ld||e instanceof Hb||e instanceof Gb}var Up;class _6{constructor(){it(this,Up);Me(this,Up,!1)}setModified(){Me(this,Up,!0)}get modifiedFlag(){return Y(this,Up)}}Up=new WeakMap;class lh extends _6{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class A6 extends _6{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class GUe extends A6{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of J(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class VUe extends A6{constructor(n){super();K(this,"requiresSelectionId");this.requiresSelectionId=n&&y6(n)}run(n){n instanceof Bc&&(this.requiresSelectionId&&(E6(n.parent)||n.parent instanceof Oa||n.parent instanceof Cr)||(this.setModified(),n.remove()))}}class XUe extends _6{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Os&&(r=t.producedFields(),h4(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class KUe extends A6{constructor(){super()}run(t){t instanceof Si&&!t.isRequired()&&(this.setModified(),t.remove())}}class YUe extends lh{run(t){if(!E6(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Cr)if(t instanceof Cr)this.setModified(),t.merge(n);else{if(p4(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class QUe extends lh{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Cr);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const a of r){const s=a.parse;for(const l of J(s))l in i?i[l]!==s[l]&&o.add(l):i[l]=s[l]}for(const a of o)delete i[a];if(!At(i)){this.setModified();const a=new Cr(t,i);for(const s of n){if(s instanceof Cr)for(const l of J(i))delete s.parse[l];t.removeChild(s),s.parent=a,s instanceof Cr&&J(s.parse).length===0&&s.remove()}}}}}class JUe extends lh{run(t){t instanceof Si||t.numChildren()>0||t instanceof Im||t instanceof Ld||(this.setModified(),t.remove())}}class ZUe extends lh{run(t){const n=t.children.filter(i=>i instanceof Os),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class eWe extends lh{run(t){const n=t.children.filter(i=>i instanceof Oa),r={};for(const i of n){const o=He(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of J(r)){const o=r[i];if(o.length>1){const a=o.pop();for(const s of o)a.merge(s)&&(t.removeChild(s),s.parent=a,s.remove(),this.setModified())}}}}class tWe extends lh{constructor(n){super();K(this,"model");this.model=n}run(n){const r=!(E6(n)||n instanceof Dm||n instanceof Cr||n instanceof Bc),i=[],o=[];for(const a of n.children)a instanceof ks&&(r&&!p4(n.producedFields(),a.dependentFields())?i.push(a):o.push(a));if(i.length>0){const a=i.pop();for(const s of i)a.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),n instanceof ks?n.merge(a,this.model.renameSignal.bind(this.model)):a.swapWithParent()}if(o.length>1){const a=o.pop();for(const s of o)a.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class nWe extends lh{run(t){const n=[...t.children];if(!bg(n,a=>a instanceof Si)||t.numChildren()<=1)return;const i=[];let o;for(const a of n)if(a instanceof Si){let s=a;for(;s.numChildren()===1;){const[l]=s.children;if(l instanceof Si)s=l;else break}i.push(...s.children),o?(t.removeChild(a),a.parent=o.parent,o.parent.removeChild(o),o.parent=s,this.setModified()):o=s}else i.push(a);if(i.length){this.setModified();for(const a of i)a.parent.removeChild(a),a.parent=o}}}class uh extends pt{constructor(n,r){super(n);K(this,"transform");this.transform=r}clone(){return new uh(null,Ce(this.transform))}addDimensions(n){this.transform.groupby=vs(this.transform.groupby.concat(n),r=>r)}dependentFields(){const n=new Set;return this.transform.groupby&&this.transform.groupby.forEach(n.add,n),this.transform.joinaggregate.map(r=>r.field).filter(r=>r!==void 0).forEach(n.add,n),n}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(n){return n.as??oe(n)}hash(){return`JoinAggregateTransform ${He(this.transform)}`}assemble(){const n=[],r=[],i=[];for(const a of this.transform.joinaggregate)r.push(a.op),i.push(this.getDefaultName(a)),n.push(a.field===void 0?null:a.field);const o=this.transform.groupby;return{type:"joinaggregate",as:i,ops:r,fields:n,...o!==void 0?{groupby:o}:{}}}}class Mg extends pt{constructor(n,r){super(n);K(this,"filter");this.filter=r}clone(){return new Mg(null,{...this.filter})}static make(n,r,i){const{config:o,markDef:a}=r,{marks:s,scales:l}=i;if(s==="include-invalid-values"&&l==="include-invalid-values")return null;const u=r.reduceFieldDef((c,f,d)=>{const h=tl(d)&&r.getScaleComponent(d);if(h){const p=h.get("type"),{aggregate:g}=f,m=H4({scaleChannel:d,markDef:a,config:o,scaleType:p,isCountAggregate:I$(g)});m!=="show"&&m!=="always-valid"&&(c[f.field]=f)}return c},{});return J(u).length?new Mg(n,u):null}dependentFields(){return new Set(J(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${He(this.filter)}`}assemble(){const n=J(this.filter).reduce((r,i)=>{const o=this.filter[i],a=oe(o,{expr:"datum"});return o!==null&&(o.type==="temporal"?r.push(`(isDate(${a}) || (${iD(a)}))`):o.type==="quantitative"&&r.push(iD(a))),r},[]);return n.length>0?{type:"filter",expr:n.join(" && ")}:null}}function iD(e){return`isValid(${e}) && isFinite(+${e})`}function rWe(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=oe(r);return i&&t.push(i),t},[])}function iWe(e){return X(e)&&e.every(t=>se(t))&&e.length>1}class zl extends pt{constructor(n,r){super(n);K(this,"_stack");this._stack=r}clone(){return new zl(null,Ce(this._stack))}static makeFromTransform(n,r){const{stack:i,groupby:o,as:a,offset:s="zero"}=r,l=[],u=[];if(r.sort!==void 0)for(const d of r.sort)l.push(d.field),u.push(dn(d.order,"ascending"));const c={field:l,order:u};let f;return iWe(a)?f=a:se(a)?f=[a,`${a}_end`]:f=[`${r.stack}_start`,`${r.stack}_end`],new zl(n,{dimensionFieldDefs:[],stackField:i,groupby:o,offset:s,sort:c,facetby:[],as:f})}static makeFromEncoding(n,r){const i=r.stack,{encoding:o}=r;if(!i)return null;const{groupbyChannels:a,fieldChannel:s,offset:l,impute:u}=i,c=a.map(p=>{const g=o[p];return Fa(g)}).filter(p=>!!p),f=rWe(r),d=r.encoding.order;let h;if(X(d)||te(d))h=lle(d);else{const p=Jle(d)?d.sort:s==="y"?"descending":"ascending";h=f.reduce((g,m)=>(g.field.includes(m)||(g.field.push(m),g.order.push(p)),g),{field:[],order:[]})}return new zl(n,{dimensionFieldDefs:c,stackField:r.vgField(s),facetby:[],stackby:f,sort:h,offset:l,impute:u,as:[r.vgField(s,{suffix:"start",forAs:!0}),r.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(n){this._stack.facetby.push(...n)}dependentFields(){const n=new Set;return n.add(this._stack.stackField),this.getGroupbyFields().forEach(n.add,n),this._stack.facetby.forEach(n.add,n),this._stack.sort.field.forEach(n.add,n),n}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${He(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:n,impute:r,groupby:i}=this._stack;return n.length>0?n.map(o=>o.bin?r?[oe(o,{binSuffix:"mid"})]:[oe(o,{}),oe(o,{binSuffix:"end"})]:[oe(o)]).flat():i??[]}assemble(){const n=[],{facetby:r,dimensionFieldDefs:i,stackField:o,stackby:a,sort:s,offset:l,impute:u,as:c}=this._stack;if(u)for(const f of i){const{bandPosition:d=.5,bin:h}=f;if(h){const p=oe(f,{expr:"datum"}),g=oe(f,{expr:"datum",binSuffix:"end"});n.push({type:"formula",expr:`${iD(p)} ? ${d}*${p}+${1-d}*${g} : ${p}`,as:oe(f,{binSuffix:"mid",forAs:!0})})}n.push({type:"impute",field:o,groupby:[...a,...r],key:oe(f,{binSuffix:"mid"}),method:"value",value:0})}return n.push({type:"stack",groupby:[...this.getGroupbyFields(),...r],field:o,sort:s,as:c,offset:l}),n}}class Fm extends pt{constructor(n,r){super(n);K(this,"transform");this.transform=r}clone(){return new Fm(null,Ce(this.transform))}addDimensions(n){this.transform.groupby=vs(this.transform.groupby.concat(n),r=>r)}dependentFields(){const n=new Set;return(this.transform.groupby??[]).forEach(n.add,n),(this.transform.sort??[]).forEach(r=>n.add(r.field)),this.transform.window.map(r=>r.field).filter(r=>r!==void 0).forEach(n.add,n),n}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(n){return n.as??oe(n)}hash(){return`WindowTransform ${He(this.transform)}`}assemble(){const n=[],r=[],i=[],o=[];for(const d of this.transform.window)r.push(d.op),i.push(this.getDefaultName(d)),o.push(d.param===void 0?null:d.param),n.push(d.field===void 0?null:d.field);const a=this.transform.frame,s=this.transform.groupby;if(a&&a[0]===null&&a[1]===null&&r.every(d=>_4(d)))return{type:"joinaggregate",as:i,ops:r,fields:n,...s!==void 0?{groupby:s}:{}};const l=[],u=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)l.push(d.field),u.push(d.order??"ascending");const c={field:l,order:u},f=this.transform.ignorePeers;return{type:"window",params:o,as:i,ops:r,fields:n,sort:c,...f!==void 0?{ignorePeers:f}:{},...s!==void 0?{groupby:s}:{},...a!==void 0?{frame:a}:{}}}}function oWe(e){function t(n){if(!(n instanceof Im)){const r=n.clone();if(r instanceof Si){const i=aD+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Oa||r instanceof zl||r instanceof Fm||r instanceof uh)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function oD(e){if(e instanceof Im)if(e.numChildren()===1&&!(e.children[0]instanceof Si)){const t=e.children[0];(t instanceof Oa||t instanceof zl||t instanceof Fm||t instanceof uh)&&t.addDimensions(e.fields),t.swapWithParent(),oD(e)}else{const t=e.model.component.data.main;Uce(t);const n=oWe(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(oD)}function Uce(e){if(e instanceof Si&&e.type===Yt.Main&&e.numChildren()===1){const t=e.children[0];t instanceof Im||(t.swapWithParent(),Uce(e))}}const aD="scale_",mw=5;function sD(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!sD(t.children))return!1}return!0}function na(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function Rq(e,t,n){let r=e.sources,i=!1;return i=na(new KUe,r)||i,i=na(new VUe(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=na(new JUe,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=na(new YUe,r)||i,i=na(new tWe(t),r)||i,i=na(new XUe,r)||i,i=na(new QUe,r)||i,i=na(new eWe,r)||i,i=na(new ZUe,r)||i,i=na(new GUe,r)||i,i=na(new nWe,r)||i),e.sources=r,i}function aWe(e,t){sD(e.sources);let n=0,r=0;for(let i=0;i<mw&&Rq(e,t,!0);i++)n++;e.sources.map(oD);for(let i=0;i<mw&&Rq(e,t,!1);i++)r++;sD(e.sources),Math.max(n,r)===mw&&ee(`Maximum optimization runs(${mw}) reached.`)}class jn{constructor(t){K(this,"signal");Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new jn(()=>t(n))}}function Wce(e){Kt(e)?sWe(e):lWe(e)}function sWe(e){const t=e.component.scales;for(const n of J(t)){const r=cWe(e,n);if(t[n].setWithExplicit("domains",r),dWe(e,n),e.component.data.isFaceted){let o=e;for(;!to(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const s of r.value)Tl(s)&&(s.data=aD+s.data.replace(aD,""))}}}function lWe(e){for(const n of e.children)Wce(n);const t=e.component.scales;for(const n of J(t)){let r,i=null;for(const o of e.children){const a=o.component.scales[n];if(a){r===void 0?r=a.getWithExplicit("domains"):r=zc(r,a.getWithExplicit("domains"),"domains","scale",lD);const s=a.get("selectionExtent");i&&s&&i.param!==s.param&&ee(eze),i=s}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function uWe(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=Dq(t,n);if(!i){ee(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=Dq(t,n);if(i)return"unaggregated"}return e}function cWe(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=uWe(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&Tn(r.x2)?Tn(r.x)?zc(Pu(n,i,e,"x"),Pu(n,i,e,"x2"),"domain","scale",lD):Pu(n,i,e,"x2"):t==="y"&&Tn(r.y2)?Tn(r.y)?zc(Pu(n,i,e,"y"),Pu(n,i,e,"y2"),"domain","scale",lD):Pu(n,i,e,"y2"):Pu(n,i,e,t)}function fWe(e,t,n){return e.map(r=>({signal:`{data: ${K$(r,{timeUnit:n,type:t})}}`}))}function VP(e,t,n){var i;const r=(i=Hn(n))==null?void 0:i.unit;return t==="temporal"||r?fWe(e,t,r):[e]}function Pu(e,t,n,r){const{encoding:i,markDef:o,mark:a,config:s,stack:l}=n,u=Tn(i[r]),{type:c}=u,f=u.timeUnit,d=i7e({invalid:zs("invalid",o,s),isPath:sf(a)});if($8e(t)){const g=Pu(e,void 0,n,r),m=VP(t.unionWith,c,f);return as([...m,...g.value])}else{if(ye(t))return as([t]);if(t&&t!=="unaggregated"&&!Dle(t))return as(VP(t,c,f))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return Di([[0,1]]);const g=n.requestDataName(d);return Di([{data:g,field:n.vgField(r,{suffix:"start"})},{data:g,field:n.vgField(r,{suffix:"end"})}])}const h=tl(r)&&te(u)?hWe(n,r,e):void 0;if(nl(u)){const g=VP([u.datum],c,f);return Di(g)}const p=u;if(t==="unaggregated"){const{field:g}=u;return Di([{data:n.requestDataName(d),field:oe({field:g,aggregate:"min"})},{data:n.requestDataName(d),field:oe({field:g,aggregate:"max"})}])}else if(Tt(p.bin)){if(Gn(e))return Di(e==="bin-ordinal"?[]:[{data:Kv(h)?n.requestDataName(d):n.requestDataName(Yt.Raw),field:n.vgField(r,Ub(p,r)?{binSuffix:"range"}:{}),sort:h===!0||!le(h)?{field:n.vgField(r,{}),op:"min"}:h}]);{const{bin:g}=p;if(Tt(g)){const m=S6(n,p.field,g);return Di([new jn(()=>{const y=n.getSignalName(m);return`[${y}.start, ${y}.stop]`})])}else return Di([{data:n.requestDataName(d),field:n.vgField(r,{})}])}}else if(p.timeUnit&&Ue(["time","utc"],e)){const g=i[el(r)];if(Qle(p,g,o,s)){const m=n.requestDataName(d),y=Lc({fieldDef:p,fieldDef2:g,markDef:o,config:s}),v=Qv(a)&&y!==.5&&hn(r);return Di([{data:m,field:n.vgField(r,v?{suffix:tO}:{})},{data:m,field:n.vgField(r,{suffix:v?nO:"end"})}])}}return Di(h?[{data:Kv(h)?n.requestDataName(d):n.requestDataName(Yt.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(d),field:n.vgField(r)}])}function XP(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":H$),...r?{field:qo(r)}:{},...i?{order:i}:{}}}function dWe(e,t){var s;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(s=e.fieldDef(t))==null?void 0:s.bin,o=Dle(r)?r:void 0,a=rh(i)&&F$(i.extent)?i.extent:void 0;(o||a)&&n.set("selectionExtent",o??a,!0)}function hWe(e,t,n){if(!Gn(n))return;const r=e.fieldDef(t),i=r.sort;if(Kle(i))return{op:"min",field:Pg(r,t),order:"ascending"};const{stack:o}=e,a=o?new Set([...o.groupbyFields,...o.stackBy.map(s=>s.fieldDef.field)]):void 0;if(jl(i)){const s=o&&!a.has(i.field);return XP(i,s)}else if(iBe(i)){const{encoding:s,order:l}=i,u=e.fieldDef(s),{aggregate:c,field:f}=u,d=o&&!a.has(f);if(tu(c)||af(c))return XP({field:oe(u),order:l},d);if(_4(c)||!c)return XP({op:c,field:f,order:l},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Ue(["ascending",void 0],i))return!0}}function Dq(e,t){const{aggregate:n,type:r}=e;return n?se(n)&&!F6e.has(n)?{valid:!1,reason:kze(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:Pze(e)}:{valid:!0}:{valid:!1,reason:Cze(e)}}function lD(e,t,n,r){return e.explicit&&t.explicit&&ee(Dze(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function pWe(e){const t=vs(e.map(a=>{if(Tl(a)){const{sort:s,...l}=a;return l}return a}),He),n=vs(e.map(a=>{if(Tl(a)){const s=a.sort;return s!==void 0&&!Kv(s)&&("op"in s&&s.op==="count"&&delete s.field,s.order==="ascending"&&delete s.order),s}}).filter(a=>a!==void 0),He);if(t.length===0)return;if(t.length===1){const a=e[0];if(Tl(a)&&n.length>0){let s=n[0];if(n.length>1){ee(HW);const l=n.filter(u=>le(u)&&"op"in u&&u.op!=="min");n.every(u=>le(u)&&"op"in u)&&l.length===1?s=l[0]:s=!0}else if(le(s)&&"field"in s){const l=s.field;a.field===l&&(s=s.order?{order:s.order}:!0)}return{...a,sort:s}}return a}const r=vs(n.map(a=>Kv(a)||!("op"in a)||se(a.op)&&de(N6e,a.op)?a:(ee(Fze(a)),!0)),He);let i;r.length===1?i=r[0]:r.length>1&&(ee(HW),i=!0);const o=vs(e.map(a=>Tl(a)?a.data:null),a=>a);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(s=>s.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function $6(e){if(Tl(e)&&se(e.field))return e.field;if(j6e(e)){let t;for(const n of e.fields)if(Tl(n)&&se(n.field)){if(!t)t=n.field;else if(t!==n.field)return ee(jze),t}return ee(Lze),t}else if(L6e(e)){ee(zze);const t=e.fields[0];return se(t)?t:void 0}}function sO(e,t){const r=e.component.scales[t].get("domains").map(i=>(Tl(i)&&(i.data=e.lookupDataSource(i.data)),i));return pWe(r)}function qce(e){return jm(e)||O6(e)?e.children.reduce((t,n)=>t.concat(qce(n)),Iq(e)):Iq(e)}function Iq(e){return J(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:a,selectionExtent:s,domains:l,range:u,reverse:c,...f}=i,d=gWe(i.range,o,n,e),h=sO(e,n),p=s?g7e(e,s,r,h):null;return t.push({name:o,type:a,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:d,...c!==void 0?{reverse:c}:{},...f}),t},[])}function gWe(e,t,n,r){if(hn(n)){if(ih(e))return{step:{signal:`${t}_step`}}}else if(le(e)&&Tl(e))return{...e,data:r.lookupDataSource(e.data)};return e}class Hce extends bu{constructor(n,r){super({},{name:n});K(this,"merged",!1);this.setWithExplicit("type",r)}domainHasZero(){const n=this.get("type");if(Ue([tr.LOG,tr.TIME,tr.UTC],n))return"definitely-not";const r=this.get("zero");if(r===!0||r===void 0&&Ue([tr.LINEAR,tr.SQRT,tr.POW],n))return"definitely";const i=this.get("domains");if(i.length>0){let o=!1,a=!1,s=!1;for(const l of i){if(X(l)){const u=l[0],c=l[l.length-1];if(tt(u)&&tt(c))if(u<=0&&c>=0){o=!0;continue}else{a=!0;continue}}s=!0}if(o)return"definitely";if(a&&!s)return"definitely-not"}return"maybe"}}const mWe=["range","scheme"];function yWe(e){const t=e.component.scales;for(const n of E4){const r=t[n];if(!r)continue;const i=vWe(n,e);r.setWithExplicit("range",i)}}function Fq(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,o=Ci(t),a=e.getName(o);if(le(r)&&r.binned&&r.step!==void 0)return new jn(()=>{const s=e.scaleName(t),l=`(domain("${s}")[1] - domain("${s}")[0]) / ${r.step}`;return`${e.getSignalName(a)} / (${l})`});if(Tt(r)){const s=S6(e,i,r);return new jn(()=>{const l=e.getSignalName(s),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(a)} / (${u})`})}}}function vWe(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const f of mWe)if(n[f]!==void 0){const d=UR(o,f),h=Ile(e,f);if(!d)ee(gle(o,f,e));else if(h)ee(h);else switch(f){case"range":{const p=n.range;if(X(p)){if(hn(e))return as(p.map(g=>{if(g==="width"||g==="height"){const m=t.getName(g),y=t.getSignalName.bind(t);return jn.fromName(y,m)}return g}))}else if(le(p))return as({data:t.requestDataName(Yt.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return as(p)}case"scheme":return as(bWe(n[f]))}}const a=e===Gt||e==="xOffset"?"width":"height",s=r[a];if(Us(s)){if(hn(e))if(Gn(o)){const f=Vce(s,t,e);if(f)return as({step:f})}else ee(mle(a));else if(Db(e)){const f=e===Zc?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const p=Xce(s,o);if(p)return as(p)}}}const{rangeMin:l,rangeMax:u}=n,c=xWe(e,t);return(l!==void 0||u!==void 0)&&UR(o,"rangeMin")&&X(c)&&c.length===2?as([l??c[0],u??c[1]]):Di(c)}function bWe(e){return A8e(e)?{scheme:e.name,...eo(e,["name"])}:{scheme:e}}function Gce(e,t,n,{center:r}={}){const i=Ci(e),o=t.getName(i),a=t.getSignalName.bind(t);return e===Xn&&Da(n)?r?[jn.fromName(s=>`${a(s)}/2`,o),jn.fromName(s=>`-${a(s)}/2`,o)]:[jn.fromName(a,o),0]:r?[jn.fromName(s=>`-${a(s)}/2`,o),jn.fromName(s=>`${a(s)}/2`,o)]:[0,jn.fromName(a,o)]}function xWe(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:a}=Tn(o[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case Gt:case Xn:{if(Ue(["point","band"],l)){const f=Kce(e,n,r.view);if(Us(f))return{step:Vce(f,t,e)}}return Gce(e,t,l)}case Zc:case Mm:return wWe(e,t,l);case gu:{const f=_We(i,r),d=AWe(i,n,t,r);return Eg(l)?EWe(f,d,SWe(l,r,u,e)):[f,d]}case Yo:return[0,Math.PI*2];case th:return[0,360];case Wa:return[0,new jn(()=>{const f=t.getSignalName(to(t.parent)?"child_width":"width"),d=t.getSignalName(to(t.parent)?"child_height":"height");return`min(${f},${d})/2`})];case ef:return{step:1e3/r.scale.framesPerSecond};case rf:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case of:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Oi:return"symbol";case $i:case Js:case Zs:return l==="ordinal"?a==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case mu:case tf:case nf:return[r.scale.minOpacity,r.scale.maxOpacity]}}function Vce(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=b4(n),a=r[o];if(kue({step:e,offsetIsDiscrete:Pe(a)&&Ple(a.type)})==="offset"&&uue(r,o)){const l=t.getScaleComponent(o);let c=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const d=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${d}, ${h})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${W6e(f)})`}}else return e.step}function Xce(e,t){if(kue({step:e,offsetIsDiscrete:Gn(t)})==="offset")return{step:e.step}}function wWe(e,t,n){const r=e===Zc?"x":"y",i=t.getScaleComponent(r);if(!i)return Gce(r,t,n,{center:!0});const o=i.get("type"),a=t.scaleName(r),{markDef:s,config:l}=t;if(o==="band"){const u=Kce(r,t.size,t.config.view);if(Us(u)){const c=Xce(u,n);if(c)return c}return[0,{signal:`bandwidth('${a}')`}]}else{const u=t.encoding[r];if(te(u)&&u.timeUnit){const c=$le(u.timeUnit,p=>`scale('${a}', ${p})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,d=Lc({fieldDef:u,markDef:s,config:l})-.5,h=d!==0?` + ${d}`:"";if(f){const p=ye(f)?`${f.signal}/2${h}`:`${f/2+d}`,g=ye(f)?`(1 - ${f.signal}/2)${h}`:`${1-f/2+d}`;return[{signal:`${p} * (${c})`},{signal:`${g} * (${c})`}]}return[0,{signal:c}]}return Fse(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function Kce(e,t,n){const r=e===Gt?"width":"height",i=t[r];return i||I2(n,r)}function SWe(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&X(n)?n.length+1:(ee(Kze(r)),3)}}function EWe(e,t,n){const r=()=>{const i=xa(t),o=xa(e),a=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${a}, ${a})`};return ye(t)?new jn(r):{signal:r()}}function _We(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(j$("size",e))}const jq=.95;function AWe(e,t,n,r){const i={x:Fq(n,"x"),y:Fq(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=Lq(t,i,r.view);return tt(o)?o-1:new jn(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=Lq(t,i,r.view);return tt(o)?Math.pow(jq*o,2):new jn(()=>`pow(${jq} * ${o.signal}, 2)`)}}throw new Error(j$("size",e))}function Lq(e,t,n){const r=Us(e.width)?e.width.step:GR(n,"width"),i=Us(e.height)?e.height.step:GR(n,"height");return t.x||t.y?new jn(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function Yce(e,t){Kt(e)?$We(e,t):Jce(e,t)}function $We(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:a}=e;for(const s of J(n)){const l=a[s],u=n[s],c=e.getScaleComponent(s),f=Tn(i[s]),d=l[t],h=c.get("type"),p=c.get("padding"),g=c.get("paddingInner"),m=UR(h,t),y=Ile(s,t);if(d!==void 0&&(m?y&&ee(y):ee(gle(h,t,s))),m&&y===void 0)if(d!==void 0){const v=f.timeUnit,b=f.type;switch(t){case"domainMax":case"domainMin":oh(l[t])||b==="temporal"||v?u.set(t,{signal:K$(l[t],{type:b,timeUnit:v})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const v=Z(zq,t)?zq[t]({model:e,channel:s,fieldOrDatumDef:f,scaleType:h,scalePadding:p,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:cue(i,s),hasSecondaryRangeChannel:!!i[el(s)]}):r.scale[t];v!==void 0&&u.set(t,v,!1)}}}const zq={bins:({model:e,fieldOrDatumDef:t})=>te(t)?OWe(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>CWe(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>kWe(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>PWe(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>TWe(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>MWe(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=te(e)?e.sort:void 0;return NWe(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:a})=>RWe(e,t,n,r,i,o.scale,a)};function Qce(e){Kt(e)?yWe(e):Jce(e,"range")}function Jce(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?Qce(r):Yce(r,t);for(const r of J(n)){let i;for(const o of e.children){const a=o.component.scales[r];if(a){const s=a.getWithExplicit(t);i=zc(i,s,t,"scale",Uue((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function OWe(e,t){const n=t.bin;if(Tt(n)){const r=S6(e,t.field,n);return new jn(()=>e.getSignalName(r))}else if(Jn(n)&&rh(n)&&n.step!==void 0)return{step:n.step}}function CWe(e,t){if(Ue([$i,Js,Zs],e)&&t!=="nominal")return"hcl"}function kWe(e,t,n,r,i,o){var a;if(!((a=Fa(o))!=null&&a.bin||X(n)||i!=null||r!=null||Ue([tr.TIME,tr.UTC],e)))return hn(t)?!0:void 0}function PWe(e,t,n,r,i,o){if(hn(e)){if(bs(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:a,orient:s}=i;if(a==="bar"&&!(te(r)&&(r.bin||r.timeUnit))&&(s==="vertical"&&e==="x"||s==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===tr.POINT)return n.pointPadding}}function TWe(e,t,n,r,i,o=!1){if(e===void 0){if(hn(t)){const{bandPaddingInner:a,barBandPaddingInner:s,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return o?c:dn(a,n==="bar"?s:n==="tick"?u:l)}else if(Db(t)&&r===tr.BAND)return i.offsetBandPaddingInner}}function MWe(e,t,n,r,i,o=!1){if(e===void 0){if(hn(t)){const{bandPaddingOuter:a,bandWithNestedOffsetPaddingOuter:s}=i;if(o)return s;if(n===tr.BAND)return dn(a,ye(r)?{signal:`${r.signal}/2`}:r/2)}else if(Db(t)){if(n===tr.POINT)return .5;if(n===tr.BAND)return i.offsetBandPaddingOuter}}}function NWe(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Da(e)&&t==="descending"?ye(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Da(e)&&t==="descending")return!0}function RWe(e,t,n,r,i,o,a){if(!!n&&n!=="unaggregated"&&Da(i)){if(X(n)){const l=n[0],u=n[n.length-1];if(tt(l)&&l<=0&&tt(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Eg(i))return!0;if(!(te(t)&&t.bin)&&Ue([...yu,..._6e],e)){const{orient:l,type:u}=r;return Ue(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:Ue(["bar","area"],u)&&!a?!0:o==null?void 0:o.zero}return!1}function DWe(e,t,n,r,i=!1){const o=IWe(t,n,r,i),{type:a}=e;return tl(t)?a!==void 0?M8e(t,a)?te(n)&&!T8e(a,n.type)?(ee(Nze(a,o)),o):a:(ee(Mze(t,a,o)),o):o:null}function IWe(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(Ep(e)||IP(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&ee(FP(e,"ordinal")),"ordinal";if(DP(e))return"band";if(hn(e)||Db(e)){if(Ue(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in S4)return"band";const o=n[Ci(e)];return Dd(o)||Ag(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return Ep(e)?"time":IP(e)==="discrete"?(ee(FP(e,"temporal")),"ordinal"):te(t)&&t.timeUnit&&Hn(t.timeUnit).utc?"utc":DP(e)?"band":"time";case"quantitative":return Ep(e)?te(t)&&Tt(t.bin)?"bin-ordinal":"linear":IP(e)==="discrete"?(ee(FP(e,"quantitative")),"ordinal"):DP(e)?"band":"linear";case"geojson":return}throw new Error(hle(t.type))}function FWe(e,{ignoreRange:t}={}){Zce(e),Wce(e);for(const n of P8e)Yce(e,n);t||Qce(e)}function Zce(e){Kt(e)?e.component.scales=jWe(e):e.component.scales=zWe(e)}function jWe(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of E4){const a=Tn(t[o]);if(a&&n===Lle&&o===Oi&&a.type===Nm)continue;let s=a&&a.scale;if(a&&s!==null&&s!==!1){s??(s={});const l=cue(t,o),u=DWe(s,o,a,r,l);i[o]=new Hce(e.scaleName(`${o}`,!0),{value:u,explicit:s.type===u})}}return i}const LWe=Uue((e,t)=>VW(e)-VW(t));function zWe(e){var i;const t=e.component.scales={},n={},r=e.component.resolve;for(const o of e.children){Zce(o);for(const a of J(o.component.scales))if((i=r.scale)[a]??(i[a]=Pce(a,e)),r.scale[a]==="shared"){const s=n[a],l=o.component.scales[a].getWithExplicit("type");s?x8e(s.value,l.value)?n[a]=zc(s,l,"type","scale",LWe):(r.scale[a]="independent",delete n[a]):n[a]=l}}for(const o of J(n)){const a=e.scaleName(o,!0),s=n[o];t[o]=new Hce(a,s);for(const l of e.children){const u=l.component.scales[o];u&&(l.renameScale(u.get("name"),a),u.merged=!0)}}return t}class KP{constructor(){K(this,"nameMap");this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function Kt(e){return(e==null?void 0:e.type)==="unit"}function to(e){return(e==null?void 0:e.type)==="facet"}function O6(e){return(e==null?void 0:e.type)==="concat"}function jm(e){return(e==null?void 0:e.type)==="layer"}class C6{constructor(t,n,r,i,o,a,s){K(this,"type");K(this,"parent");K(this,"config");K(this,"name");K(this,"size");K(this,"title");K(this,"description");K(this,"data");K(this,"transforms");K(this,"layout");K(this,"scaleNameMap");K(this,"projectionNameMap");K(this,"signalNameMap");K(this,"component");K(this,"view");this.type=n,this.parent=r,this.config=o,this.parent=r,this.config=o,this.view=Zn(s),this.name=t.name??i,this.title=Fu(t.title)?{text:t.title}:t.title?Zn(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new KP,this.projectionNameMap=r?r.projectionNameMap:new KP,this.signalNameMap=r?r.signalNameMap:new KP,this.data=t.data,this.description=t.description,this.transforms=G9e(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:YBe(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:G$(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new bu,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...a?Ce(a):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){FWe(this)}parseProjection(){zce(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Dce(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of J(r)){const a=r[o];a!==void 0&&(i[o]=Lt(a))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Lt(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:At(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=sUe(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of To)t[r].title&&n.push(tUe(this,r));for(const r of v6)n=n.concat(nUe(this,r));return n}assembleAxes(){return U7e(this.component.axes,this.config)}assembleLegends(){return Fce(this)}assembleProjections(){return PUe(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...ile(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return Ue(["unit","layer"],this.type)?Ue(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),At(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||to(this.parent)?qce(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const a=this.assembleLegends();return a.length>0&&(n.legends=a),n}getName(t){return qt((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Yt[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(to(this.parent)){const n=Cce(t),r=D$(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),a=i.get("range");if(Gn(o)&&ih(a)){const s=i.get("name"),l=sO(this,r),u=$6(l);if(u){const c=oe({aggregate:"distinct",field:u},{expr:"datum"});return{signal:Oce(s,i,c)}}else return ee($4(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(Yse(t)&&tl(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(X6e(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class efe extends C6{vgField(t,n={}){const r=this.fieldDef(t);if(r)return oe(r,n)}reduceFieldDef(t,n){return ABe(this.getMapping(),(r,i,o)=>{const a=Fa(i);return a?t(r,a,o):r},n)}forEachFieldDef(t,n){e6(this.getMapping(),(r,i)=>{const o=Fa(r);o&&t(o,i)},n)}}class lO extends pt{constructor(n,r){super(n);K(this,"transform");this.transform=r,this.transform=Ce(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"value",i[1]??"density"];const o=this.transform.resolve??"shared";this.transform.resolve=o}clone(){return new lO(null,Ce(this.transform))}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${He(this.transform)}`}assemble(){const{density:n,...r}=this.transform,i={type:"kde",field:n,...r};return i.resolve=this.transform.resolve,i}}class uO extends pt{constructor(n,r){super(n);K(this,"transform");this.transform=r,this.transform=Ce(r)}clone(){return new uO(null,Ce(this.transform))}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${He(this.transform)}`}assemble(){const{extent:n,param:r}=this.transform;return{type:"extent",field:n,signal:r}}}class cO extends pt{constructor(n,r){super(n);K(this,"transform");this.transform=r,this.transform=Ce(r);const{flatten:i,as:o=[]}=this.transform;this.transform.as=i.map((a,s)=>o[s]??a)}clone(){return new cO(this.parent,Ce(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${He(this.transform)}`}assemble(){const{flatten:n,as:r}=this.transform;return{type:"flatten",fields:n,as:r}}}class fO extends pt{constructor(n,r){super(n);K(this,"transform");this.transform=r,this.transform=Ce(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"key",i[1]??"value"]}clone(){return new fO(null,Ce(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${He(this.transform)}`}assemble(){const{fold:n,as:r}=this.transform;return{type:"fold",fields:n,as:r}}}class $p extends pt{constructor(n,r,i,o){super(n);K(this,"fields");K(this,"geojson");K(this,"signal");this.fields=r,this.geojson=i,this.signal=o}clone(){return new $p(null,Ce(this.fields),this.geojson,this.signal)}static parseAll(n,r){if(r.component.projection&&!r.component.projection.isFit)return n;let i=0;for(const o of[[Ha,qa],[Ho,Ga]]){const a=o.map(s=>{const l=Tn(r.encoding[s]);return te(l)?l.field:nl(l)?{expr:`${l.datum}`}:Ia(l)?{expr:`${l.value}`}:void 0});(a[0]||a[1])&&(n=new $p(n,a,null,r.getName(`geojson_${i++}`)))}if(r.channelHasField(Oi)){const o=r.typedFieldDef(Oi);o.type===Nm&&(n=new $p(n,null,o.field,r.getName(`geojson_${i++}`)))}return n}dependentFields(){const n=(this.fields??[]).filter(se);return new Set([...this.geojson?[this.geojson]:[],...n])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${He(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class Zv extends pt{constructor(n,r,i,o){super(n);K(this,"projection");K(this,"fields");K(this,"as");this.projection=r,this.fields=i,this.as=o}clone(){return new Zv(null,this.projection,Ce(this.fields),Ce(this.as))}static parseAll(n,r){if(!r.projectionName())return n;for(const i of[[Ha,qa],[Ho,Ga]]){const o=i.map(s=>{const l=Tn(r.encoding[s]);return te(l)?l.field:nl(l)?{expr:`${l.datum}`}:Ia(l)?{expr:`${l.value}`}:void 0}),a=i[0]===Ho?"2":"";(o[0]||o[1])&&(n=new Zv(n,r.projectionName(),o,[r.getName(`x${a}`),r.getName(`y${a}`)]))}return n}dependentFields(){return new Set(this.fields.filter(se))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${He(this.fields)} ${He(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class ad extends pt{constructor(n,r){super(n);K(this,"transform");this.transform=r}clone(){return new ad(null,Ce(this.transform))}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(n){const{start:r=0,stop:i,step:o}=n;return{signal:`sequence(${[r,i,...o?[o]:[]].join(",")})`}}static makeFromTransform(n,r){return new ad(n,r)}static makeFromEncoding(n,r){const i=r.encoding,o=i.x,a=i.y;if(te(o)&&te(a)){const s=o.impute?o:a.impute?a:void 0;if(s===void 0)return;const l=o.impute?a:a.impute?o:void 0,{method:u,value:c,frame:f,keyvals:d}=s.impute,h=hue(r.mark,i);return new ad(n,{impute:s.field,key:l.field,...u?{method:u}:{},...c!==void 0?{value:c}:{},...f?{frame:f}:{},...d!==void 0?{keyvals:d}:{},...h.length?{groupby:h}:{}})}return null}hash(){return`Impute ${He(this.transform)}`}assemble(){const{impute:n,key:r,keyvals:i,method:o,groupby:a,value:s,frame:l=[null,null]}=this.transform,u={type:"impute",field:n,key:r,...i?{keyvals:O9e(i)?this.processSequence(i):i}:{},method:"value",...a?{groupby:a}:{},value:!o||o==="value"?s:null};if(o&&o!=="value"){const c={type:"window",as:[`imputed_${n}_value`],ops:[o],fields:[n],frame:l,ignorePeers:!1,...a?{groupby:a}:{}},f={type:"formula",expr:`datum.${n} === null ? datum.imputed_${n}_value : datum.${n}`,as:n};return[u,c,f]}else return[u]}}class dO extends pt{constructor(n,r){super(n);K(this,"transform");this.transform=r,this.transform=Ce(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??r.on,i[1]??r.loess]}clone(){return new dO(null,Ce(this.transform))}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${He(this.transform)}`}assemble(){const{loess:n,on:r,...i}=this.transform;return{type:"loess",x:r,y:n,...i}}}class e1 extends pt{constructor(n,r,i){super(n);K(this,"transform");K(this,"secondary");this.transform=r,this.secondary=i}clone(){return new e1(null,Ce(this.transform),this.secondary)}static make(n,r,i,o){const a=r.component.data.sources,{from:s}=i;let l=null;if(C9e(s)){let u=rfe(s.data,a);u||(u=new Ld(s.data),a.push(u));const c=r.getName(`lookup_${o}`);l=new Si(u,c,Yt.Lookup,r.component.data.outputNodeRefCounts),r.component.data.outputNodes[c]=l}else if(k9e(s)){const u=s.param;i={as:u,...i};let c;try{c=r.getSelectionComponent(qt(u),u)}catch{throw new Error(J6e(u))}if(l=c.materialized,!l)throw new Error(Z6e(u))}return new e1(n,i,l.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?ue(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${He({transform:this.transform,secondary:this.secondary})}`}assemble(){let n;if(this.transform.from.fields)n={values:this.transform.from.fields,...this.transform.as?{as:ue(this.transform.as)}:{}};else{let r=this.transform.as;se(r)||(ee(cze),r="_lookup"),n={as:[r]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...n,...this.transform.default?{default:this.transform.default}:{}}}}class hO extends pt{constructor(n,r){super(n);K(this,"transform");this.transform=r,this.transform=Ce(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"prob",i[1]??"value"]}clone(){return new hO(null,Ce(this.transform))}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${He(this.transform)}`}assemble(){const{quantile:n,...r}=this.transform;return{type:"quantile",field:n,...r}}}class pO extends pt{constructor(n,r){super(n);K(this,"transform");this.transform=r,this.transform=Ce(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??r.on,i[1]??r.regression]}clone(){return new pO(null,Ce(this.transform))}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${He(this.transform)}`}assemble(){const{regression:n,on:r,...i}=this.transform;return{type:"regression",x:r,y:n,...i}}}class gO extends pt{constructor(n,r){super(n);K(this,"transform");this.transform=r}clone(){return new gO(null,Ce(this.transform))}addDimensions(n){this.transform.groupby=vs((this.transform.groupby??[]).concat(n),r=>r)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${He(this.transform)}`}assemble(){const{pivot:n,value:r,groupby:i,limit:o,op:a}=this.transform;return{type:"pivot",field:n,value:r,...o!==void 0?{limit:o}:{},...a!==void 0?{op:a}:{},...i!==void 0?{groupby:i}:{}}}}class mO extends pt{constructor(n,r){super(n);K(this,"transform");this.transform=r}clone(){return new mO(null,Ce(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${He(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function tfe(e){let t=0;function n(r,i){if(r instanceof Ld&&!r.isGenerator&&!Og(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Cr&&(r.parent instanceof Ld&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof Im){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof Hb||r instanceof Gb||r instanceof Mg||r instanceof Dm||r instanceof kg||r instanceof Zv||r instanceof Oa||r instanceof e1||r instanceof Fm||r instanceof uh||r instanceof fO||r instanceof cO||r instanceof lO||r instanceof dO||r instanceof hO||r instanceof pO||r instanceof Bc||r instanceof mO||r instanceof gO||r instanceof uO)&&i.transform.push(r.assemble()),(r instanceof ks||r instanceof Os||r instanceof ad||r instanceof zl||r instanceof $p)&&i.transform.push(...r.assemble()),r instanceof Si&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Si?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Si&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const a of r.children)n(a,{name:null,source:o,transform:[]});break}}}return n}function BWe(e){const t=[],n=tfe(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function UWe(e,t){const n=[],r=tfe(n);let i=0;for(const a of e.sources){a.hasName()||(a.dataName=`source_${i++}`);const s=a.assemble();r(a,s)}for(const a of n)a.transform.length===0&&delete a.transform;let o=0;for(const[a,s]of n.entries())(s.transform??[]).length===0&&!s.source&&n.splice(o++,0,n.splice(a,1)[0]);for(const a of n)for(const s of a.transform??[])s.type==="lookup"&&(s.from=e.outputNodes[s.from].getSource());for(const a of n)a.name in t&&(a.values=t[a.name]);return n}function WWe(e){return e==="top"||e==="left"||ye(e)?"header":"footer"}function qWe(e){for(const t of To)HWe(e,t);Bq(e,"x"),Bq(e,"y")}function HWe(e,t){var a;const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const s=n[t],l=Tg("title",null,r,t);let u=_p(s,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=X(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=Tg("labelOrient",s.header,r,t),f=s.header!==null?dn((a=s.header)==null?void 0:a.labels,r.header.labels,!0):!1,d=Ue(["bottom","right"],c)?"footer":"header";o.layoutHeaders[t]={title:s.header!==null?u:null,facetFieldDef:s,[d]:t==="facet"?[]:[nfe(e,t,f)]}}}function nfe(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function Bq(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=w6(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",a=r[o];for(const s of n.component.axes[t]){const l=WWe(s.get("orient"));a[l]??(a[l]=[nfe(e,o,!1)]);const u=g0(s,"main",e.config,{header:!0});u&&a[l][0].axes.push(u),s.mainExtracted=!0}}}}function GWe(e){k6(e),z2(e,"width"),z2(e,"height")}function VWe(e){k6(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";z2(e,t),z2(e,n)}function k6(e){for(const t of e.children)t.parseLayoutSize()}function z2(e,t){const n=Cce(t),r=D$(n),i=e.component.resolve,o=e.component.layoutSize;let a;for(const s of e.children){const l=s.component.layoutSize.getWithExplicit(n),u=i.scale[r]??Pce(r,e);if(u==="independent"&&l.value==="step"){a=void 0;break}if(a){if(u==="independent"&&a.value!==l.value){a=void 0;break}a=zc(a,l,n,"")}else a=l}if(a){for(const s of e.children)e.renameSignal(s.getName(n),e.getName(t)),s.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,a)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function XWe(e){const{size:t,component:n}=e;for(const r of yu){const i=Ci(r);if(t[i]){const o=t[i];n.layoutSize.set(i,Us(o)?"step":o,!0)}else{const o=KWe(e,i);n.layoutSize.set(i,o,!1)}}}function KWe(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),a=i.get("range");if(Gn(o)){const s=I2(r.view,t);return ih(a)||Us(s)?"step":s}else return HR(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return HR(r.view,t);{const o=I2(r.view,t);return Us(o)?o.step:o}}}function uD(e,t,n){return oe(t,{suffix:`by_${oe(e)}`,...n})}class H0 extends efe{constructor(n,r,i,o){super(n,"facet",r,i,o,n.resolve);K(this,"facet");K(this,"child");K(this,"children");this.child=R6(n.spec,this,this.getName("child"),void 0,o),this.children=[this.child],this.facet=this.initFacet(n.facet)}initFacet(n){if(!Lb(n))return{facet:this.initFacetFieldDef(n,"facet")};const r=J(n),i={};for(const o of r){if(![Il,Fl].includes(o)){ee(j$(o,"facet"));break}const a=n[o];if(a.field===void 0){ee(zR(a,o));break}i[o]=this.initFacetFieldDef(a,o)}return i}initFacetFieldDef(n,r){const i=Z4(n,r);return i.header?i.header=Zn(i.header):i.header===null&&(i.header=null),i}channelHasField(n){return Z(this.facet,n)}fieldDef(n){return this.facet[n]}parseData(){this.component.data=yO(this),this.child.parseData()}parseLayoutSize(){k6(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,xn(this.component.selection).some(n=>Cs(n))&&C4(O4)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),qWe(this)}assembleSelectionTopLevelSignals(n){return this.child.assembleSelectionTopLevelSignals(n)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(n){return this.child.assembleSelectionData(n)}getHeaderLayoutMixins(){const n={};for(const r of To)for(const i of b6){const o=this.component.layoutHeaders[r],a=o[i],{facetFieldDef:s}=o;if(s){const l=Tg("titleOrient",s.header,this.config,r);if(["right","bottom"].includes(l)){const u=oO(r,l);n.titleAnchor??(n.titleAnchor={}),n.titleAnchor[u]="end"}}if(a!=null&&a[0]){const l=r==="row"?"height":"width",u=i==="header"?"headerBand":"footerBand";r!=="facet"&&!this.child.component.layoutSize.get(l)&&(n[u]??(n[u]={}),n[u][r]=.5),o.title&&(n.offset??(n.offset={}),n.offset[r==="row"?"rowTitle":"columnTitle"]=10)}}return n}assembleDefaultLayout(){const{column:n,row:r}=this.facet,i=n?this.columnDistinctSignal():r?1:void 0;let o="all";return(!r&&this.component.resolve.scale.x==="independent"||!n&&this.component.resolve.scale.y==="independent")&&(o="none"),{...this.getHeaderLayoutMixins(),...i?{columns:i}:{},bounds:"full",align:o}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof H0))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(n){return this.parent&&this.parent instanceof H0?{...this.channelHasField("column")?{encode:{update:{columns:{field:oe(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(n)}:super.assembleGroup(n)}getCardinalityAggregateForChild(){const n=[],r=[],i=[];if(this.child instanceof H0){if(this.child.channelHasField("column")){const o=oe(this.child.facet.column);n.push(o),r.push("distinct"),i.push(`distinct_${o}`)}}else for(const o of yu){const a=this.child.component.scales[o];if(a&&!a.merged){const s=a.get("type"),l=a.get("range");if(Gn(s)&&ih(l)){const u=sO(this.child,o),c=$6(u);c?(n.push(c),r.push("distinct"),i.push(`distinct_${c}`)):ee($4(o))}}}return{fields:n,ops:r,as:i}}assembleFacet(){const{name:n,data:r}=this.component.data.facetRoot,{row:i,column:o}=this.facet,{fields:a,ops:s,as:l}=this.getCardinalityAggregateForChild(),u=[];for(const f of To){const d=this.facet[f];if(d){u.push(oe(d));const{bin:h,sort:p}=d;if(Tt(h)&&u.push(oe(d,{binSuffix:"end"})),jl(p)){const{field:g,op:m=H$}=p,y=uD(d,p);i&&o?(a.push(y),s.push("max"),l.push(y)):(a.push(g),s.push(m),l.push(y))}else if(X(p)){const g=Pg(d,f);a.push(g),s.push("max"),l.push(g)}}}const c=!!i&&!!o;return{name:n,data:r,groupby:u,...c||a.length>0?{aggregate:{...c?{cross:c}:{},...a.length?{fields:a,ops:s,as:l}:{}}}:{}}}facetSortFields(n){const{facet:r}=this,i=r[n];return i?jl(i.sort)?[uD(i,i.sort,{expr:"datum"})]:X(i.sort)?[Pg(i,n,{expr:"datum"})]:[oe(i,{expr:"datum"})]:[]}facetSortOrder(n){const{facet:r}=this,i=r[n];if(i){const{sort:o}=i;return[(jl(o)?o.order:!X(o)&&o)||"ascending"]}return[]}assembleLabelTitle(){var o;const{facet:n,config:r}=this;if(n.facet)return nD(n.facet,"facet",r);const i={row:["top","bottom"],column:["left","right"]};for(const a of v6)if(n[a]){const s=Tg("labelOrient",(o=n[a])==null?void 0:o.header,r,a);if(i[a].includes(s))return nD(n[a],a,r)}}assembleMarks(){const{child:n}=this,r=this.component.data.facetRoot,i=BWe(r),o=n.assembleGroupEncodeEntry(!1),a=this.assembleLabelTitle()||n.assembleTitle(),s=n.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...a?{title:a}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:To.map(u=>this.facetSortFields(u)).flat(),order:To.map(u=>this.facetSortOrder(u)).flat()},...i.length>0?{data:i}:{},...o?{encode:{update:o}}:{},...n.assembleGroup(f7e(this,[]))}]}getMapping(){return this.facet}}function YWe(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(jl(o.sort)){const{field:a,op:s=H$}=o.sort;e=i=new uh(e,{joinaggregate:[{op:s,field:a,as:uD(o,o.sort,{forAs:!0})}],groupby:[oe(o)]})}return i}return null}function rfe(e,t){var n,r,i,o;for(const a of t){const s=a.data;if(e.name&&a.hasName()&&e.name!==a.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=s.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const f=(o=s.format)==null?void 0:o.mesh;if(!((l||f)&&l!==f)){if(Jv(e)&&Jv(s)){if(Xi(e.values,s.values))return a}else if(Og(e)&&Og(s)){if(e.url===s.url)return a}else if(Wue(e)&&e.name===a.dataName)return a}}return null}function QWe(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Ld({values:[]});return t.push(r),r}const n=rfe(e.data,t);if(n)return xc(e.data)||(n.data.format=jse({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Ld(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function JWe(e,t,n){let r=0;for(const i of t.transforms){let o,a;if(L9e(i))a=e=new kg(e,i),o="derived";else if(f6(i)){const s=WUe(i);a=e=Cr.makeWithAncestors(e,{},s,n)??e,e=new Dm(e,t,i.filter)}else if(jue(i))a=e=ks.makeFromTransform(e,i,t),o="number";else if(B9e(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new Cr(e,{[i.field]:o}),n.set(i.field,o,!1)),a=e=Os.makeFromTransform(e,i);else if(U9e(i))a=e=Oa.makeFromTransform(e,i),o="number",y6(t)&&(e=new Bc(e));else if(Fue(i))a=e=e1.make(e,t,i,r++),o="derived";else if(I9e(i))a=e=new Fm(e,i),o="number";else if(F9e(i))a=e=new uh(e,i),o="number";else if(W9e(i))a=e=zl.makeFromTransform(e,i),o="derived";else if(q9e(i))a=e=new fO(e,i),o="derived";else if(H9e(i))a=e=new uO(e,i),o="derived";else if(j9e(i))a=e=new cO(e,i),o="derived";else if(P9e(i))a=e=new gO(e,i),o="derived";else if(D9e(i))e=new mO(e,i);else if(z9e(i))a=e=ad.makeFromTransform(e,i),o="derived";else if(T9e(i))a=e=new lO(e,i),o="derived";else if(M9e(i))a=e=new hO(e,i),o="derived";else if(N9e(i))a=e=new pO(e,i),o="derived";else if(R9e(i))a=e=new dO(e,i),o="derived";else{ee(uze(i));continue}if(a&&o!==void 0)for(const s of a.producedFields()??[])n.set(s,o,!1)}return e}function yO(e){var m;let t=QWe(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,a=!(i&&(xc(i)||Og(i)||Jv(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new r7e;xc(i)?(que(i)?t=new Gb(t,i.sequence):d6(i)&&(t=new Hb(t,i.graticule)),a.parseNothing=!0):((m=i==null?void 0:i.format)==null?void 0:m.parse)===null&&(a.parseNothing=!0),t=Cr.makeExplicit(t,e,a)??t,t=new Bc(t);const s=e.parent&&jm(e.parent);(Kt(e)||to(e))&&s&&(t=ks.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=JWe(t,e,a));const l=HUe(e),u=qUe(e);t=Cr.makeWithAncestors(t,{},{...l,...u},a)??t,Kt(e)&&(t=$p.parseAll(t,e),t=Zv.parseAll(t,e)),(Kt(e)||to(e))&&(s||(t=ks.makeFromEncoding(t,e)??t),t=Os.makeFromEncoding(t,e)??t,t=kg.parseAllForSortIndex(t,e));const c=t=yw(Yt.Raw,e,t);if(Kt(e)){const y=Oa.makeFromEncoding(t,e);y&&(t=y,y6(e)&&(t=new Bc(t))),t=ad.makeFromEncoding(t,e)??t,t=zl.makeFromEncoding(t,e)??t}let f,d;if(Kt(e)){const{markDef:y,mark:v,config:b}=e,x=vt("invalid",y,b),{marks:w,scales:E}=d=Gue({invalid:x,isPath:sf(v)});w!==E&&E==="include-invalid-values"&&(f=t=yw(Yt.PreFilterInvalid,e,t)),w==="exclude-invalid-values"&&(t=Mg.make(t,e,d)??t)}const h=t=yw(Yt.Main,e,t);let p;if(Kt(e)&&d){const{marks:y,scales:v}=d;y==="include-invalid-values"&&v==="exclude-invalid-values"&&(t=Mg.make(t,e,d)??t,p=t=yw(Yt.PostFilterInvalid,e,t))}Kt(e)&&z7e(e,h);let g=null;if(to(e)){const y=e.getName("facet");t=YWe(t,e.facet)??t,g=new Im(t,e,y,h.getSource()),n[y]=g}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:h,facetRoot:g,ancestorParse:a,preFilterInvalid:f,postFilterInvalid:p}}function yw(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,o=t.getDataName(e),a=new Si(n,o,e,i);return r[o]=a,a}class ZWe extends C6{constructor(n,r,i,o){var a,s,l,u;super(n,"concat",r,i,o,n.resolve);K(this,"children");(((s=(a=n.resolve)==null?void 0:a.axis)==null?void 0:s.x)==="shared"||((u=(l=n.resolve)==null?void 0:l.axis)==null?void 0:u.y)==="shared")&&ee(aze),this.children=this.getChildren(n).map((c,f)=>R6(c,this,this.getName(`concat_${f}`),void 0,o))}parseData(){this.component.data=yO(this);for(const n of this.children)n.parseData()}parseSelections(){this.component.selection={};for(const n of this.children){n.parseSelections();for(const r of J(n.component.selection))this.component.selection[r]=n.component.selection[r]}xn(this.component.selection).some(n=>Cs(n))&&C4(O4)}parseMarkGroup(){for(const n of this.children)n.parseMarkGroup()}parseAxesAndHeaders(){for(const n of this.children)n.parseAxesAndHeaders()}getChildren(n){return J$(n)?n.vconcat:u6(n)?n.hconcat:n.concat}parseLayoutSize(){VWe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(n){return this.children.reduce((r,i)=>i.assembleSelectionTopLevelSignals(r),n)}assembleSignals(){return this.children.forEach(n=>n.assembleSignals()),[]}assembleLayoutSignals(){const n=x6(this);for(const r of this.children)n.push(...r.assembleLayoutSignals());return n}assembleSelectionData(n){return this.children.reduce((r,i)=>i.assembleSelectionData(r),n)}assembleMarks(){return this.children.map(n=>{const r=n.assembleTitle(),i=n.assembleGroupStyle(),o=n.assembleGroupEncodeEntry(!1);return{type:"group",name:n.getName("group"),...r?{title:r}:{},...i?{style:i}:{},...o?{encode:{update:o}}:{},...n.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const n=this.layout.columns;return{...n!=null?{columns:n}:{},bounds:"full",align:"each"}}}function eqe(e){return e===!1||e===null}const tqe={disable:1,gridScale:1,scale:1,...sue,labelExpr:1,encode:1},ife=J(tqe);class P6 extends bu{constructor(n={},r={},i=!1){super();K(this,"explicit");K(this,"implicit");K(this,"mainExtracted");this.explicit=n,this.implicit=r,this.mainExtracted=i}clone(){return new P6(Ce(this.explicit),Ce(this.implicit),this.mainExtracted)}hasAxisPart(n){return n==="axis"?!0:n==="grid"||n==="title"?!!this.get(n):!eqe(this.get(n))}hasOrientSignalRef(){return ye(this.explicit.orient)}}function nqe(e,t,n){const{encoding:r,config:i}=e,o=Tn(r[t])??Tn(r[el(t)]),a=e.axis(t)||{},{format:s,formatType:l}=a;if(Id(l))return{text:wa({fieldOrDatumDef:o,field:"datum.value",format:s,formatType:l,config:i}),...n};if(s===void 0&&l===void 0&&i.customFormatTypes){if(_g(o)==="quantitative"){if(Ag(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:wa({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:wa({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(_g(o)==="temporal"&&i.timeFormatType&&te(o)&&!o.timeUnit)return{text:wa({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function rqe(e){return yu.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[cqe(n,e)]),t),{})}const iqe={bottom:"top",top:"bottom",left:"right",right:"left"};function oqe(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of J(i.component.axes))n.axis[o]=w6(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=aqe(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of yu){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const a of o.component.axes[i]){const{value:s,explicit:l}=a.getWithExplicit("orient");if(!ye(s)){if(r[s]>0&&!l){const u=iqe[s];r[s]>r[u]&&a.set("orient",u,!1)}r[s]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,a]of(t[i]||[]).entries())o>0&&a.get("grid")&&!a.explicit.grid&&(a.implicit.grid=!1)}}function aqe(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const a=i.getWithExplicit("orient"),s=o.getWithExplicit("orient");if(a.explicit&&s.explicit&&a.value!==s.value)return;e[r]=sqe(i,o)}}}else return t.map(n=>n.clone());return e}function sqe(e,t){for(const n of ife){const r=zc(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return fle(i,o);case"gridScale":return{explicit:i.explicit,value:dn(i.value,o.value)}}return eO(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function lqe(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(ye(n.labelAngle)?n.labelAngle:Yv(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===Ece(r,i))return!0}return e===n[t]}const uqe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function cqe(e,t){var y,v;let n=t.axis(e);const r=new P6,i=Tn(t.encoding[e]),{mark:o,config:a}=t,s=(n==null?void 0:n.orient)||((y=a[e==="x"?"axisX":"axisY"])==null?void 0:y.orient)||((v=a.axis)==null?void 0:v.orient)||Y7e(e),l=t.getScaleComponent(e).get("type"),u=W7e(e,l,s,t.config),c=n!==void 0?!n:eD("disable",a.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const f=V7e(i,n,e,a.style,u),d=Vle(n.formatType,i,l),h=Gle(i,i.type,n.format,n.formatType,a,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:s,labelAngle:f,format:h,formatType:d,mark:o,config:a};for(const b of ife){const x=b in Oq?Oq[b](p):eq(b)?n[b]:void 0,w=x!==void 0,E=lqe(x,b,n,t,e);if(w&&E)r.set(b,x,E);else{const{configValue:S=void 0,configFrom:A=void 0}=eq(b)&&b!=="values"?eD(b,a.style,n.style,u):{},$=S!==void 0;w&&!$?r.set(b,x,E):(A!=="vgAxisConfig"||uqe.has(b)&&$||Wb(S)||ye(S))&&r.set(b,S,!1)}}const g=n.encoding??{},m=aue.reduce((b,x)=>{if(!r.hasAxisPart(x))return b;const w=kce(g[x]??{},t),E=x==="labels"?nqe(t,e,w):w;return E!==void 0&&!At(E)&&(b[x]={update:E}),b},{});return At(m)||r.set("encode",m,!!n.encoding||n.labelAngle!==void 0),r}function fqe({encoding:e,size:t}){for(const n of yu){const r=Ci(n);Us(t[r])&&ic(e[n])&&(delete t[r],ee(mle(r)))}return t}const dqe={vgMark:"arc",encodeEntry:e=>({...Qo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Jr("x",e,{defaultPos:"mid"}),...Jr("y",e,{defaultPos:"mid"}),...nu(e,"radius"),...nu(e,"theta")})},hqe={vgMark:"area",encodeEntry:e=>({...Qo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...F2("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...F2("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...m6(e)})},pqe={vgMark:"rect",encodeEntry:e=>({...Qo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...nu(e,"x"),...nu(e,"y")})},gqe={vgMark:"shape",encodeEntry:e=>({...Qo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&te(n)&&n.type===Nm?{field:oe(n,{expr:"datum"})}:{}}]}},mqe={vgMark:"image",encodeEntry:e=>({...Qo(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...nu(e,"x"),...nu(e,"y"),...p6(e,"url")})},yqe={vgMark:"line",encodeEntry:e=>({...Qo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Jr("x",e,{defaultPos:"mid"}),...Jr("y",e,{defaultPos:"mid"}),...rr("size",e,{vgChannel:"strokeWidth"}),...m6(e)})},vqe={vgMark:"trail",encodeEntry:e=>({...Qo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Jr("x",e,{defaultPos:"mid"}),...Jr("y",e,{defaultPos:"mid"}),...rr("size",e),...m6(e)})};function T6(e,t){const{config:n}=e;return{...Qo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Jr("x",e,{defaultPos:"mid"}),...Jr("y",e,{defaultPos:"mid"}),...rr("size",e),...rr("angle",e),...bqe(e,n,t)}}function bqe(e,t,n){return n?{shape:{value:n}}:rr("shape",e)}const xqe={vgMark:"symbol",encodeEntry:e=>T6(e)},wqe={vgMark:"symbol",encodeEntry:e=>T6(e,"circle")},Sqe={vgMark:"symbol",encodeEntry:e=>T6(e,"square")},Eqe={vgMark:"rect",encodeEntry:e=>({...Qo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...nu(e,"x"),...nu(e,"y")})},_qe={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Qo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...F2("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...F2("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...rr("size",e,{vgChannel:"strokeWidth"})}}},Aqe={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Qo(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Jr("x",e,{defaultPos:"mid"}),...Jr("y",e,{defaultPos:"mid"}),...p6(e),...rr("size",e,{vgChannel:"fontSize"}),...rr("angle",e),...Eq("align",$qe(e.markDef,n,t)),...Eq("baseline",Oqe(e.markDef,n,t)),...Jr("radius",e,{defaultPos:null}),...Jr("theta",e,{defaultPos:null})}}};function $qe(e,t,n){if(vt("align",e,n)===void 0)return"center"}function Oqe(e,t,n){if(vt("baseline",e,n)===void 0)return"middle"}const Cqe={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",o=r==="horizontal"?"y":"x",a=r==="horizontal"?"height":"width";return{...Qo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...nu(e,i),...Jr(o,e,{defaultPos:"mid",vgChannel:o==="y"?"yc":"xc"}),[a]:Lt(vt("thickness",n,t))}}},vw={arc:dqe,area:hqe,bar:pqe,circle:wqe,geoshape:gqe,image:mqe,line:yqe,point:xqe,rect:Eqe,rule:_qe,square:Sqe,text:Aqe,tick:Cqe,trail:vqe};function kqe(e){if(Ue([W$,B$,I8e],e.mark)){const t=hue(e.mark,e.encoding);if(t.length>0)return Pqe(e,t)}else if(e.mark===U$){const t=jR.some(n=>vt(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return Tqe(e)}return M6(e)}const Uq="faceted_path_";function Pqe(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:Uq+e.requestDataName(Yt.Main),data:e.requestDataName(Yt.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:M6(e,{fromPrefix:Uq})}]}const Wq="stack_group_";function Tqe(e){var u;const[t]=M6(e,{fromPrefix:Wq}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,f)=>{const d=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${c}(${d.map(h=>`scale('${n}',${h})`).join(",")})`};let o,a;e.stack.fieldChannel==="x"?(o={...vg(t.encode.update,["y","yc","y2","height",...jR]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},a={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...eo(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...vg(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},a={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...eo(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of jR){const f=zs(c,e.markDef,e.config);t.encode.update[c]?(o[c]=t.encode.update[c],delete t.encode.update[c]):f&&(o[c]=Lt(f)),f&&(t.encode.update[c]={value:0})}const s=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),d=oe(f);d&&s.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&s.push(oe(f,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const d=zs(f,e.markDef,e.config);return d!==void 0?{...c,[f]:Lt(d)}:c}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Yt.Main),name:Wq+e.requestDataName(Yt.Main),groupby:s,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:a},marks:[t]}]}]}function Mqe(e){const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,a=t.order;if(!(!X(a)&&Ia(a)&&IR(a.value)||!a&&IR(vt("order",i,o)))){if((X(a)||te(a))&&!n)return lle(a,{expr:"datum"});if(sf(r)){const s=i.orient==="horizontal"?"y":"x",l=t[s];if(te(l))return{field:s}}}}function M6(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,a=dn(r.clip,Nqe(e),Rqe(e)),s=ale(r),l=i.key,u=Mqe(e),c=Dqe(e),f=vt("aria",r,o),d=vw[n].postEncodingTransform?vw[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:vw[n].vgMark,...a?{clip:a}:{},...s?{style:s}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(Yt.Main)},encode:{update:vw[n].encodeEntry(e)},...d?{transform:d}:{}}]}function Nqe(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function Rqe(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function Dqe(e){if(!e.component.selection)return null;const t=J(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=J(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class ofe extends efe{constructor(n,r,i,o={},a){super(n,"unit",r,i,a,void 0,nq(n)?n.view:void 0);K(this,"markDef");K(this,"encoding");K(this,"specifiedScales",{});K(this,"stack");K(this,"specifiedAxes",{});K(this,"specifiedLegends",{});K(this,"specifiedProjection",{});K(this,"selection",[]);K(this,"children",[]);K(this,"correctDataNames",n=>{var r,i,o;return(r=n.from)!=null&&r.data&&(n.from.data=this.lookupDataSource(n.from.data),"time"in this.encoding&&(n.from.data=n.from.data+Xue)),(o=(i=n.from)==null?void 0:i.facet)!=null&&o.data&&(n.from.facet.data=this.lookupDataSource(n.from.facet.data)),n});const s=Bs(n.mark)?{...n.mark}:{type:n.mark},l=s.type;s.filled===void 0&&(s.filled=b9e(s,a,{graticule:n.data&&d6(n.data)}));const u=this.encoding=EBe(n.encoding||{},l,s.filled,a);this.markDef=Rue(s,u,a),this.size=fqe({encoding:u,size:nq(n)?{...o,...n.width?{width:n.width}:{},...n.height?{height:n.height}:{}}:o}),this.stack=Nue(this.markDef,u),this.specifiedScales=this.initScales(l,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=n.projection,this.selection=(n.params??[]).filter(c=>s6(c))}get hasProjection(){const{encoding:n}=this,r=this.mark===Lle,i=n&&g6e.some(o=>Pe(n[o]));return r||i}scaleDomain(n){const r=this.specifiedScales[n];return r?r.domain:void 0}axis(n){return this.specifiedAxes[n]}legend(n){return this.specifiedLegends[n]}initScales(n,r){return E4.reduce((i,o)=>{const a=Tn(r[o]);return a&&(i[o]=this.initScale(a.scale??{})),i},{})}initScale(n){const{domain:r,range:i}=n,o=Zn(n);return X(r)&&(o.domain=r.map(qi)),X(i)&&(o.range=i.map(qi)),o}initAxes(n){return yu.reduce((r,i)=>{const o=n[i];if(Pe(o)||i===Gt&&Pe(n.x2)||i===Xn&&Pe(n.y2)){const a=Pe(o)?o.axis:void 0;r[i]=a&&this.initAxis({...a})}return r},{})}initAxis(n){const r=J(n),i={};for(const o of r){const a=n[o];i[o]=Wb(a)?ole(a):qi(a)}return i}initLegends(n){return $6e.reduce((r,i)=>{const o=Tn(n[i]);if(o&&C6e(i)){const a=o.legend;r[i]=a&&Zn(a)}return r},{})}parseData(){this.component.data=yO(this)}parseLayoutSize(){XWe(this)}parseSelections(){this.component.selection=L7e(this,this.selection)}parseMarkGroup(){this.component.mark=kqe(this)}parseAxesAndHeaders(){this.component.axes=rqe(this)}assembleSelectionTopLevelSignals(n){return d7e(this,n)}assembleSignals(){return[...xce(this),...c7e(this,[])]}assembleSelectionData(n){return h7e(this,n)}assembleLayout(){return null}assembleLayoutSignals(){return x6(this)}assembleMarks(){let n=this.component.mark??[];return(!this.parent||!jm(this.parent))&&(n=Jue(this,n)),n.map(this.correctDataNames)}assembleGroupStyle(){const{style:n}=this.view||{};return n!==void 0?n:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(n){return id(this.encoding,n)}fieldDef(n){const r=this.encoding[n];return Fa(r)}typedFieldDef(n){const r=this.fieldDef(n);return ii(r)?r:null}}class N6 extends C6{constructor(n,r,i,o,a){super(n,"layer",r,i,a,n.resolve,n.view);K(this,"children");const s={...o,...n.width?{width:n.width}:{},...n.height?{height:n.height}:{}};this.children=n.layer.map((l,u)=>{if(Z$(l))return new N6(l,this,this.getName(`layer_${u}`),s,a);if(vu(l))return new ofe(l,this,this.getName(`layer_${u}`),s,a);throw new Error(A4(l))})}parseData(){this.component.data=yO(this);for(const n of this.children)n.parseData()}parseLayoutSize(){GWe(this)}parseSelections(){this.component.selection={};for(const n of this.children){n.parseSelections();for(const r of J(n.component.selection))this.component.selection[r]=n.component.selection[r]}xn(this.component.selection).some(n=>Cs(n))&&C4(O4)}parseMarkGroup(){for(const n of this.children)n.parseMarkGroup()}parseAxesAndHeaders(){oqe(this)}assembleSelectionTopLevelSignals(n){return this.children.reduce((r,i)=>i.assembleSelectionTopLevelSignals(r),n)}assembleSignals(){return this.children.reduce((n,r)=>n.concat(r.assembleSignals()),xce(this))}assembleLayoutSignals(){return this.children.reduce((n,r)=>n.concat(r.assembleLayoutSignals()),x6(this))}assembleSelectionData(n){return this.children.reduce((r,i)=>i.assembleSelectionData(r),n)}assembleGroupStyle(){const n=new Set;for(const i of this.children)for(const o of ue(i.assembleGroupStyle()))n.add(o);const r=Array.from(n);return r.length>1?r:r.length===1?r[0]:void 0}assembleTitle(){let n=super.assembleTitle();if(n)return n;for(const r of this.children)if(n=r.assembleTitle(),n)return n}assembleLayout(){return null}assembleMarks(){return p7e(this,this.children.flatMap(n=>n.assembleMarks()))}assembleLegends(){return this.children.reduce((n,r)=>n.concat(r.assembleLegends()),Fce(this))}}function R6(e,t,n,r,i){if(G$(e))return new H0(e,t,n,i);if(Z$(e))return new N6(e,t,n,r,i);if(vu(e))return new ofe(e,t,n,r,i);if(VBe(e))return new ZWe(e,t,n,i);throw new Error(A4(e))}function Iqe(e,t={}){t.logger&&Yze(t.logger),t.fieldTitle&&rue(t.fieldTitle);try{const n=Mue(pm(t.config,e.config)),r=Bue(e,n),i=R6(r,null,"",void 0,n);return i.parse(),aWe(i.component.data,i),{spec:jqe(i,Fqe(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&Qze(),t.fieldTitle&&pBe()}}function Fqe(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):se(t)&&(t={type:t}),i&&o&&e7e(t.type)){if(i==="step"&&o==="step")ee(zW()),t.type="pad";else if(i==="step"||o==="step"){const a=i==="step"?"width":"height";ee(zW(D$(a)));const s=a==="width"?"height":"width";t.type=t7e(s)}}return{...J(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...pq(n,!1),...pq(e,!0)}}function jqe(e,t,n={},r){const i=e.config?s9e(e.config):void 0,o=UWe(e.component.data,n),a=e.assembleSelectionData(o),s=e.assembleProjections(),l=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let f=e.assembleLayoutSignals();f=f.filter(p=>(p.name==="width"||p.name==="height")&&p.value!==void 0?(t[p.name]=+p.value,!1):!0);const{params:d,...h}=t;return{$schema:"https://vega.github.io/schema/vega/v6.json",...e.description?{description:e.description}:{},...h,...l?{title:l}:{},...u?{style:u}:{},...c?{encode:{update:c}}:{},data:a,...s.length>0?{projections:s}:{},...e.assembleGroup([...f,...e.assembleSelectionTopLevelSignals([]),...Cue(d)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const Lqe=u6e.version,zqe=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:xg,accessPathWithDatum:g4,accessWithDatumToUnescapedPath:ft,compile:Iqe,contains:Ue,deepEqual:Xi,deleteNestedProperty:O2,duplicate:Ce,entries:Fc,every:d4,fieldIntersection:p4,flatAccessWithDatum:zse,getFirstDefined:dn,hasIntersection:h4,hasProperty:Z,hash:He,internalField:Wse,isBoolean:Kv,isEmpty:At,isEqual:f6e,isInternalField:qse,isNullOrFalse:IR,isNumeric:k$,keys:J,logicalExpr:W0,mergeDeep:jse,never:Fse,normalize:Bue,normalizeAngle:Yv,omit:eo,pick:vg,prefixGenerator:FR,removePathFromField:Tm,replaceAll:Pd,replacePathInField:qo,resetIdCounter:h6e,setEqual:Lse,some:bg,stringify:ut,titleCase:Mb,unique:vs,uniqueId:Use,vals:xn,varName:qt,version:Lqe},Symbol.toStringTag,{value:"Module"}));function afe(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var Bqe="3.0.0",Uqe={version:Bqe};const $h="#fff",qq="#888",Wqe={background:"#333",view:{stroke:qq},title:{color:$h,subtitleColor:$h},style:{"guide-label":{fill:$h},"guide-title":{fill:$h}},axis:{domainColor:$h,gridColor:qq,tickColor:$h}},pf="#4572a7",qqe={background:"#fff",arc:{fill:pf},area:{fill:pf},line:{stroke:pf,strokeWidth:2},path:{stroke:pf},rect:{fill:pf},shape:{stroke:pf},symbol:{fill:pf,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},gf="#30a2da",YP="#cbcbcb",Hqe="#999",Gqe="#333",Hq="#f0f0f0",Gq="#333",Vqe={arc:{fill:gf},area:{fill:gf},axis:{domainColor:YP,grid:!0,gridColor:YP,gridWidth:1,labelColor:Hqe,labelFontSize:10,titleColor:Gqe,tickColor:YP,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:Hq,group:{fill:Hq},legend:{labelColor:Gq,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Gq,titleFontSize:14,titlePadding:10},line:{stroke:gf,strokeWidth:2},path:{stroke:gf,strokeWidth:.5},rect:{fill:gf},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:gf},bar:{binSpacing:2,fill:gf,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},mf="#000",Xqe={group:{fill:"#e5e5e5"},arc:{fill:mf},area:{fill:mf},line:{stroke:mf},path:{stroke:mf},rect:{fill:mf},shape:{stroke:mf},symbol:{fill:mf,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Kqe=22,Yqe="normal",Vq="Benton Gothic, sans-serif",Xq=11.5,Qqe="normal",yf="#82c6df",QP="Benton Gothic Bold, sans-serif",Kq="normal",Yq=13,My={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},Jqe={background:"#ffffff",title:{anchor:"start",color:"#000000",font:QP,fontSize:Kqe,fontWeight:Yqe},arc:{fill:yf},area:{fill:yf},line:{stroke:yf,strokeWidth:2},path:{stroke:yf},rect:{fill:yf},shape:{stroke:yf},symbol:{fill:yf,size:30},axis:{labelFont:Vq,labelFontSize:Xq,labelFontWeight:Qqe,titleFont:QP,titleFontSize:Yq,titleFontWeight:Kq},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Vq,labelFontSize:Xq,symbolType:"square",titleFont:QP,titleFontSize:Yq,titleFontWeight:Kq},range:{category:My["category-6"],diverging:My["fireandice-6"],heatmap:My["fire-7"],ordinal:My["fire-7"],ramp:My["fire-7"]}},vf="#ab5787",bw="#979797",Zqe={background:"#f9f9f9",arc:{fill:vf},area:{fill:vf},line:{stroke:vf},path:{stroke:vf},rect:{fill:vf},shape:{stroke:vf},symbol:{fill:vf,size:30},axis:{domainColor:bw,domainWidth:.5,gridWidth:.2,labelColor:bw,tickColor:bw,tickWidth:.2,titleColor:bw},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},bf="#3e5c69",eHe={background:"#fff",arc:{fill:bf},area:{fill:bf},line:{stroke:bf},path:{stroke:bf},rect:{fill:bf},shape:{stroke:bf},symbol:{fill:bf},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},vo="#1696d2",Qq="#000000",tHe="#FFFFFF",xw="Lato",JP="Lato",nHe="Lato",rHe="#DEDDDD",iHe=18,Ny={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},oHe={background:tHe,title:{anchor:"start",fontSize:iHe,font:xw},axisX:{domain:!0,domainColor:Qq,domainWidth:1,grid:!1,labelFontSize:12,labelFont:JP,labelAngle:0,tickColor:Qq,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:xw},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:rHe,gridWidth:1,labelFontSize:12,labelFont:JP,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:xw,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:JP,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:xw,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Ny["six-groups-cat-1"],diverging:Ny["diverging-colors"],heatmap:Ny["diverging-colors"],ordinal:Ny["six-groups-seq"],ramp:Ny["shades-blue"]},area:{fill:vo},rect:{fill:vo},line:{color:vo,stroke:vo,strokeWidth:5},trail:{color:vo,stroke:vo,strokeWidth:0,size:1},path:{stroke:vo,strokeWidth:.5},point:{filled:!0},text:{font:nHe,color:vo,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:vo,stroke:null}},arc:{fill:vo},shape:{stroke:vo},symbol:{fill:vo,size:30}},xf="#3366CC",Jq="#ccc",ww="Arial, sans-serif",aHe={arc:{fill:xf},area:{fill:xf},path:{stroke:xf},rect:{fill:xf},shape:{stroke:xf},symbol:{stroke:xf},circle:{fill:xf},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:ww,fontSize:12},"guide-title":{font:ww,fontSize:12},"group-title":{font:ww,fontSize:12}},title:{font:ww,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Jq,tickColor:Jq,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},D6=e=>e*(1/3+1),Zq=D6(9),eH=D6(10),tH=D6(12),Ry="Segoe UI",nH="wf_standard-font, helvetica, arial, sans-serif",rH="#252423",Dy="#605E5C",iH="transparent",sHe="#C8C6C4",oa="#118DFF",lHe="#12239E",uHe="#E66C37",cHe="#6B007B",fHe="#E044A7",dHe="#744EC2",hHe="#D9B300",pHe="#D64550",sfe=oa,lfe="#DEEFFF",oH=[lfe,sfe],gHe=[lfe,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",sfe],mHe={view:{stroke:iH},background:iH,font:Ry,header:{titleFont:nH,titleFontSize:tH,titleColor:rH,labelFont:Ry,labelFontSize:eH,labelColor:Dy},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Dy,labelFontSize:Zq,titleFont:nH,titleColor:rH,titleFontSize:tH,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:sHe,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:oa},line:{stroke:oa,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:Ry,fontSize:Zq,fill:Dy},arc:{fill:oa},area:{fill:oa,line:!0,opacity:.6},path:{stroke:oa},rect:{fill:oa},point:{fill:oa,filled:!0,size:75},shape:{stroke:oa},symbol:{fill:oa,strokeWidth:1.5,size:50},legend:{titleFont:Ry,titleFontWeight:"bold",titleColor:Dy,labelFont:Ry,labelFontSize:eH,labelColor:Dy,symbolType:"circle",symbolSize:75},range:{category:[oa,lHe,uHe,cHe,fHe,dHe,hHe,pHe],diverging:oH,heatmap:oH,ordinal:gHe}},ZP='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',yHe='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',eT=400,Sw={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},vHe=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],bHe=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function vO({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=Sw.gridBg[e],i=Sw.textPrimary[e],o=Sw.textSecondary[e],a=n==="dark"?vHe:bHe,s=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:s},area:{fill:s},path:{stroke:s},rect:{fill:s},shape:{stroke:s},symbol:{stroke:s},circle:{fill:s},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:ZP,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:yHe,labelFontWeight:eT,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:Sw.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:ZP,fill:o,fontWeight:eT},"guide-title":{font:ZP,fill:o,fontWeight:eT}},range:{category:a,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const xHe=vO({theme:"white",background:"#ffffff"}),wHe=vO({theme:"g10",background:"#f4f4f4"}),SHe=vO({theme:"g90",background:"#262626"}),EHe=vO({theme:"g100",background:"#161616"}),_He=Uqe.version,AHe=Object.freeze(Object.defineProperty({__proto__:null,carbong10:wHe,carbong100:EHe,carbong90:SHe,carbonwhite:xHe,dark:Wqe,excel:qqe,fivethirtyeight:Vqe,ggplot2:Xqe,googlecharts:aHe,latimes:Jqe,powerbi:mHe,quartz:Zqe,urbaninstitute:oHe,version:_He,vox:eHe},Symbol.toStringTag,{value:"Module"}));function $He(e,t,n,r){if(X(e))return`[${e.map(i=>t(se(i)?i:aH(i,n))).join(", ")}]`;if(le(e)){let i="";const{title:o,image:a,...s}=e;o&&(i+=`<h2>${t(o)}</h2>`),a&&(i+=`<img src="${new URL(t(a),r||location.href).href}">`);const l=Object.keys(s);if(l.length>0){i+="<table>";for(const u of l){let c=s[u];c!==void 0&&(le(c)&&(c=aH(c,n)),i+=`<tr><td class="key">${t(u)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function OHe(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function aH(e,t){return JSON.stringify(e,OHe(t))}var CHe=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const ufe="vg-tooltip-element",kHe={offsetX:10,offsetY:10,id:ufe,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:PHe,maxDepth:2,formatTooltip:$He,baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function PHe(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function THe(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return CHe.toString().replaceAll(ufe,e)}function cfe(e,t,{offsetX:n,offsetY:r}){const i=ffe({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,n,r),o=["bottom-right","bottom-left","top-right","top-left"];for(const a of o)if(dfe(i[a],t))return i[a];return i["top-left"]}function MHe(e,t,n,r,i){const{position:o,offsetX:a,offsetY:s}=i,l=e._el.getBoundingClientRect(),u=e._origin,c=NHe(l,u,n),f=ffe(c,r,a,s),d=Array.isArray(o)?o:[o];for(const h of d)if(dfe(f[h],r)&&!RHe(t,f[h],r))return f[h];return cfe(t,r,i)}function NHe(e,t,n){const r=n.isVoronoi?n.datum.bounds:n.bounds;let i=e.left+t[0]+r.x1,o=e.top+t[1]+r.y1,a=n;for(;a.mark.group;)a=a.mark.group,i+=a.x??0,o+=a.y??0;const s=r.x2-r.x1,l=r.y2-r.y1;return{x1:i,x2:i+s,y1:o,y2:o+l}}function ffe(e,t,n,r){const i=(e.x1+e.x2)/2,o=(e.y1+e.y2)/2,a=e.x1-t.width-n,s=i-t.width/2,l=e.x2+n,u=e.y1-t.height-r,c=o-t.height/2,f=e.y2+r;return{top:{x:s,y:u},bottom:{x:s,y:f},left:{x:a,y:c},right:{x:l,y:c},"top-left":{x:a,y:u},"top-right":{x:l,y:u},"bottom-left":{x:a,y:f},"bottom-right":{x:l,y:f}}}function dfe(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function RHe(e,t,n){return e.clientX>=t.x&&e.clientX<=t.x+n.width&&e.clientY>=t.y&&e.clientY<=t.y+n.height}class DHe{constructor(t){K(this,"call");K(this,"options");K(this,"el");this.options={...kHe,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=THe(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:a}=this.options.anchor==="mark"?MHe(t,n,r,this.el.getBoundingClientRect(),this.options):cfe(n,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${a}px`,this.el.style.left=`${o}px`}}var tT={};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var IHe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),FHe=Object.prototype.hasOwnProperty;function cD(e,t){return FHe.call(e,t)}function fD(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)cD(e,i)&&r.push(i);return r}function Ki(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function dD(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function kf(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function hfe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function hD(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(hD(e[t]))return!0}else if(typeof e=="object"){for(var r=fD(e),i=r.length,o=0;o<i;o++)if(hD(e[r[o]]))return!0}}return!1}function sH(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var pfe=function(e){IHe(t,e);function t(n,r,i,o,a){var s=this.constructor,l=e.call(this,sH(n,{name:r,index:i,operation:o,tree:a}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=a,Object.setPrototypeOf(l,s.prototype),l.message=sH(n,{name:r,index:i,operation:o,tree:a}),l}return t}(Error),on=pfe,jHe=Ki,op={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=B2(n,this.path);r&&(r=Ki(r));var i=sd(n,{op:"remove",path:this.from}).removed;return sd(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=B2(n,this.from);return sd(n,{op:"add",path:this.path,value:Ki(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:t1(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},LHe={add:function(e,t,n){return dD(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:op.move,copy:op.copy,test:op.test,_get:op._get};function B2(e,t){if(t=="")return e;var n={op:"_get",path:t};return sd(e,n),n.value}function sd(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):U2(t,0)),t.path===""){var a={newDocument:e};if(t.op==="add")return a.newDocument=t.value,a;if(t.op==="replace")return a.newDocument=t.value,a.removed=e,a;if(t.op==="move"||t.op==="copy")return a.newDocument=B2(e,t.from),t.op==="move"&&(a.removed=e),a;if(t.op==="test"){if(a.test=t1(e,t.value),a.test===!1)throw new on("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a.newDocument=e,a}else{if(t.op==="remove")return a.removed=e,a.newDocument=null,a;if(t.op==="_get")return t.value=e,a;if(n)throw new on("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return a}}else{r||(e=Ki(e));var s=t.path||"",l=s.split("/"),u=e,c=1,f=l.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=U2;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=hfe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(u[h]===void 0?d=l.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!dD(h))throw new on("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);dD(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>u.length)throw new on("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var a=LHe[t.op].call(t,u,h,e);if(a.test===!1)throw new on("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}}else if(c>=f){var a=op[t.op].call(t,u,h,e);if(a.test===!1)throw new on("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}if(u=u[h],n&&c<f&&(!u||typeof u!="object"))throw new on("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function bO(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new on("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Ki(e));for(var o=new Array(t.length),a=0,s=t.length;a<s;a++)o[a]=sd(e,t[a],n,!0,i,a),e=o[a].newDocument;return o.newDocument=e,o}function zHe(e,t,n){var r=sd(e,t);if(r.test===!1)throw new on("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function U2(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new on("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(op[e.op]){if(typeof e.path!="string")throw new on("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new on('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new on("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new on("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&hD(e.value))throw new on("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new on("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new on("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var a={op:"_get",path:e.from,value:void 0},s=gfe([a],n);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new on("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new on("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function gfe(e,t,n){try{if(!Array.isArray(e))throw new on("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)bO(Ki(t),Ki(e),n||!0);else{n=n||U2;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof on)return i;throw i}}function t1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,a;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!t1(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var s=Object.keys(e);if(o=s.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(s[i]))return!1;for(i=o;i--!==0;)if(a=s[i],!t1(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}var BHe=Object.freeze({__proto__:null,JsonPatchError:on,_areEquals:t1,applyOperation:sd,applyPatch:bO,applyReducer:zHe,deepClone:jHe,getValueByPointer:B2,validate:gfe,validator:U2});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var I6=new WeakMap,UHe=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),WHe=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function qHe(e){return I6.get(e)}function HHe(e,t){return e.observers.get(t)}function GHe(e,t){e.observers.delete(t.callback)}function VHe(e,t){t.unobserve()}function XHe(e,t){var n=[],r,i=qHe(e);if(!i)i=new UHe(e),I6.set(e,i);else{var o=HHe(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Ki(e),t){r.callback=t,r.next=null;var a=function(){pD(r)},s=function(){clearTimeout(r.next),r.next=setTimeout(a)};typeof window<"u"&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return r.patches=n,r.object=e,r.unobserve=function(){pD(r),clearTimeout(r.next),GHe(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},i.observers.set(t,new WHe(t,r)),r}function pD(e,t){t===void 0&&(t=!1);var n=I6.get(e.object);F6(n.value,e.object,e.patches,"",t),e.patches.length&&bO(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function F6(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=fD(t),a=fD(e),s=!1,l=a.length-1;l>=0;l--){var u=a[l],c=e[u];if(cD(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?F6(c,f,n,r+"/"+kf(u),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+kf(u),value:Ki(c)}),n.push({op:"replace",path:r+"/"+kf(u),value:Ki(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+kf(u),value:Ki(c)}),n.push({op:"remove",path:r+"/"+kf(u)}),s=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!s&&o.length==a.length))for(var l=0;l<o.length;l++){var u=o[l];!cD(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+kf(u),value:Ki(t[u])})}}}function KHe(e,t,n){n===void 0&&(n=!1);var r=[];return F6(e,t,r,"",n),r}var YHe=Object.freeze({__proto__:null,compare:KHe,generate:pD,observe:XHe,unobserve:VHe});Object.assign({},BHe,YHe,{JsonPatchError:pfe,deepClone:Ki,escapePathComponent:kf,unescapePathComponent:hfe});function QHe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nT,lH;function JHe(){if(lH)return nT;lH=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return nT=e,nT}var rT,uH;function j6(){if(uH)return rT;uH=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return rT=r=>r?typeof r!="object"?e:r:t,rT}var Ew={exports:{}},iT,cH;function L6(){if(cH)return iT;cH=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return iT={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},iT}var oT,fH;function xO(){return fH||(fH=1,oT=typeof process=="object"&&tT&&tT.NODE_DEBUG&&/\bsemver\b/i.test(tT.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),oT}var dH;function z6(){return dH||(dH=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=L6(),o=xO();t=e.exports={};const a=t.re=[],s=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],c=t.t={};let f=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[d,r]],p=m=>{for(const[y,v]of h)m=m.split(`${y}*`).join(`${y}{0,${v}}`).split(`${y}+`).join(`${y}{1,${v}}`);return m},g=(m,y,v)=>{const b=p(y),x=f++;o(m,x,y),c[m]=x,l[x]=y,u[x]=b,a[x]=new RegExp(y,v?"g":void 0),s[x]=new RegExp(b,v?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),g("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${d}+`),g("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),g("FULL",`^${l[c.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),g("LOOSE",`^${l[c.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),g("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",l[c.COERCE],!0),g("COERCERTLFULL",l[c.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Ew,Ew.exports)),Ew.exports}var aT,hH;function ZHe(){if(hH)return aT;hH=1;const e=/^[0-9]+$/,t=(r,i)=>{const o=e.test(r),a=e.test(i);return o&&a&&(r=+r,i=+i),r===i?0:o&&!a?-1:a&&!o?1:r<i?-1:1};return aT={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},aT}var sT,pH;function B6(){if(pH)return sT;pH=1;const e=xO(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=L6(),{safeRe:r,safeSrc:i,t:o}=z6(),a=j6(),{compareIdentifiers:s}=ZHe();class l{constructor(c,f){if(f=a(f),c instanceof l){if(c.loose===!!f.loose&&c.includePrerelease===!!f.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",c,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const d=c.trim().match(f.loose?r[o.LOOSE]:r[o.FULL]);if(!d)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(h=>{if(/^[0-9]+$/.test(h)){const p=+h;if(p>=0&&p<n)return p}return h}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(e("SemVer.compare",this.version,this.options,c),!(c instanceof l)){if(typeof c=="string"&&c===this.version)return 0;c=new l(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof l||(c=new l(c,this.options)),s(this.major,c.major)||s(this.minor,c.minor)||s(this.patch,c.patch)}comparePre(c){if(c instanceof l||(c=new l(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let f=0;do{const d=this.prerelease[f],h=c.prerelease[f];if(e("prerelease compare",f,d,h),d===void 0&&h===void 0)return 0;if(h===void 0)return 1;if(d===void 0)return-1;if(d===h)continue;return s(d,h)}while(++f)}compareBuild(c){c instanceof l||(c=new l(c,this.options));let f=0;do{const d=this.build[f],h=c.build[f];if(e("build compare",f,d,h),d===void 0&&h===void 0)return 0;if(h===void 0)return 1;if(d===void 0)return-1;if(d===h)continue;return s(d,h)}while(++f)}inc(c,f,d){if(c.startsWith("pre")){if(!f&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(f){const h=new RegExp(`^${this.options.loose?i[o.PRERELEASELOOSE]:i[o.PRERELEASE]}$`),p=`-${f}`.match(h);if(!p||p[1]!==f)throw new Error(`invalid identifier: ${f}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,d),this.inc("pre",f,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f,d),this.inc("pre",f,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const h=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[h];else{let p=this.prerelease.length;for(;--p>=0;)typeof this.prerelease[p]=="number"&&(this.prerelease[p]++,p=-2);if(p===-1){if(f===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(h)}}if(f){let p=[f,h];d===!1&&(p=[f]),s(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=p):this.prerelease=p}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return sT=l,sT}var lT,gH;function Lm(){if(gH)return lT;gH=1;const e=B6();return lT=(n,r,i)=>new e(n,i).compare(new e(r,i)),lT}var uT,mH;function eGe(){if(mH)return uT;mH=1;const e=Lm();return uT=(n,r,i)=>e(n,r,i)===0,uT}var cT,yH;function tGe(){if(yH)return cT;yH=1;const e=Lm();return cT=(n,r,i)=>e(n,r,i)!==0,cT}var fT,vH;function nGe(){if(vH)return fT;vH=1;const e=Lm();return fT=(n,r,i)=>e(n,r,i)>0,fT}var dT,bH;function rGe(){if(bH)return dT;bH=1;const e=Lm();return dT=(n,r,i)=>e(n,r,i)>=0,dT}var hT,xH;function iGe(){if(xH)return hT;xH=1;const e=Lm();return hT=(n,r,i)=>e(n,r,i)<0,hT}var pT,wH;function oGe(){if(wH)return pT;wH=1;const e=Lm();return pT=(n,r,i)=>e(n,r,i)<=0,pT}var gT,SH;function aGe(){if(SH)return gT;SH=1;const e=eGe(),t=tGe(),n=nGe(),r=rGe(),i=iGe(),o=oGe();return gT=(s,l,u,c)=>{switch(l){case"===":return typeof s=="object"&&(s=s.version),typeof u=="object"&&(u=u.version),s===u;case"!==":return typeof s=="object"&&(s=s.version),typeof u=="object"&&(u=u.version),s!==u;case"":case"=":case"==":return e(s,u,c);case"!=":return t(s,u,c);case">":return n(s,u,c);case">=":return r(s,u,c);case"<":return i(s,u,c);case"<=":return o(s,u,c);default:throw new TypeError(`Invalid operator: ${l}`)}},gT}var mT,EH;function sGe(){if(EH)return mT;EH=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),a("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new s(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(a("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new s(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}mT=t;const n=j6(),{safeRe:r,t:i}=z6(),o=aGe(),a=xO(),s=B6(),l=mfe();return mT}var yT,_H;function mfe(){if(_H)return yT;_H=1;const e=/\s+/g;class t{constructor(C,M){if(M=i(M),C instanceof t)return C.loose===!!M.loose&&C.includePrerelease===!!M.includePrerelease?C:new t(C.raw,M);if(C instanceof o)return this.raw=C.value,this.set=[[C]],this.formatted=void 0,this;if(this.options=M,this.loose=!!M.loose,this.includePrerelease=!!M.includePrerelease,this.raw=C.trim().replace(e," "),this.set=this.raw.split("||").map(I=>this.parseRange(I.trim())).filter(I=>I.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const I=this.set[0];if(this.set=this.set.filter(N=>!g(N[0])),this.set.length===0)this.set=[I];else if(this.set.length>1){for(const N of this.set)if(N.length===1&&m(N[0])){this.set=[N];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let C=0;C<this.set.length;C++){C>0&&(this.formatted+="||");const M=this.set[C];for(let I=0;I<M.length;I++)I>0&&(this.formatted+=" "),this.formatted+=M[I].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(C){const I=((this.options.includePrerelease&&h)|(this.options.loose&&p))+":"+C,N=r.get(I);if(N)return N;const F=this.options.loose,L=F?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];C=C.replace(L,P(this.options.includePrerelease)),a("hyphen replace",C),C=C.replace(l[u.COMPARATORTRIM],c),a("comparator trim",C),C=C.replace(l[u.TILDETRIM],f),a("tilde trim",C),C=C.replace(l[u.CARETTRIM],d),a("caret trim",C);let z=C.split(" ").map(fe=>v(fe,this.options)).join(" ").split(/\s+/).map(fe=>O(fe,this.options));F&&(z=z.filter(fe=>(a("loose invalid filter",fe,this.options),!!fe.match(l[u.COMPARATORLOOSE])))),a("range list",z);const B=new Map,V=z.map(fe=>new o(fe,this.options));for(const fe of V){if(g(fe))return[fe];B.set(fe.value,fe)}B.size>1&&B.has("")&&B.delete("");const ce=[...B.values()];return r.set(I,ce),ce}intersects(C,M){if(!(C instanceof t))throw new TypeError("a Range is required");return this.set.some(I=>y(I,M)&&C.set.some(N=>y(N,M)&&I.every(F=>N.every(L=>F.intersects(L,M)))))}test(C){if(!C)return!1;if(typeof C=="string")try{C=new s(C,this.options)}catch{return!1}for(let M=0;M<this.set.length;M++)if(R(this.set[M],C,this.options))return!0;return!1}}yT=t;const n=JHe(),r=new n,i=j6(),o=sGe(),a=xO(),s=B6(),{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:f,caretTrimReplace:d}=z6(),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:p}=L6(),g=k=>k.value==="<0.0.0-0",m=k=>k.value==="",y=(k,C)=>{let M=!0;const I=k.slice();let N=I.pop();for(;M&&I.length;)M=I.every(F=>N.intersects(F,C)),N=I.pop();return M},v=(k,C)=>(a("comp",k,C),k=E(k,C),a("caret",k),k=x(k,C),a("tildes",k),k=A(k,C),a("xrange",k),k=_(k,C),a("stars",k),k),b=k=>!k||k.toLowerCase()==="x"||k==="*",x=(k,C)=>k.trim().split(/\s+/).map(M=>w(M,C)).join(" "),w=(k,C)=>{const M=C.loose?l[u.TILDELOOSE]:l[u.TILDE];return k.replace(M,(I,N,F,L,z)=>{a("tilde",k,I,N,F,L,z);let B;return b(N)?B="":b(F)?B=`>=${N}.0.0 <${+N+1}.0.0-0`:b(L)?B=`>=${N}.${F}.0 <${N}.${+F+1}.0-0`:z?(a("replaceTilde pr",z),B=`>=${N}.${F}.${L}-${z} <${N}.${+F+1}.0-0`):B=`>=${N}.${F}.${L} <${N}.${+F+1}.0-0`,a("tilde return",B),B})},E=(k,C)=>k.trim().split(/\s+/).map(M=>S(M,C)).join(" "),S=(k,C)=>{a("caret",k,C);const M=C.loose?l[u.CARETLOOSE]:l[u.CARET],I=C.includePrerelease?"-0":"";return k.replace(M,(N,F,L,z,B)=>{a("caret",k,N,F,L,z,B);let V;return b(F)?V="":b(L)?V=`>=${F}.0.0${I} <${+F+1}.0.0-0`:b(z)?F==="0"?V=`>=${F}.${L}.0${I} <${F}.${+L+1}.0-0`:V=`>=${F}.${L}.0${I} <${+F+1}.0.0-0`:B?(a("replaceCaret pr",B),F==="0"?L==="0"?V=`>=${F}.${L}.${z}-${B} <${F}.${L}.${+z+1}-0`:V=`>=${F}.${L}.${z}-${B} <${F}.${+L+1}.0-0`:V=`>=${F}.${L}.${z}-${B} <${+F+1}.0.0-0`):(a("no pr"),F==="0"?L==="0"?V=`>=${F}.${L}.${z}${I} <${F}.${L}.${+z+1}-0`:V=`>=${F}.${L}.${z}${I} <${F}.${+L+1}.0-0`:V=`>=${F}.${L}.${z} <${+F+1}.0.0-0`),a("caret return",V),V})},A=(k,C)=>(a("replaceXRanges",k,C),k.split(/\s+/).map(M=>$(M,C)).join(" ")),$=(k,C)=>{k=k.trim();const M=C.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return k.replace(M,(I,N,F,L,z,B)=>{a("xRange",k,I,N,F,L,z,B);const V=b(F),ce=V||b(L),fe=ce||b(z),Ee=fe;return N==="="&&Ee&&(N=""),B=C.includePrerelease?"-0":"",V?N===">"||N==="<"?I="<0.0.0-0":I="*":N&&Ee?(ce&&(L=0),z=0,N===">"?(N=">=",ce?(F=+F+1,L=0,z=0):(L=+L+1,z=0)):N==="<="&&(N="<",ce?F=+F+1:L=+L+1),N==="<"&&(B="-0"),I=`${N+F}.${L}.${z}${B}`):ce?I=`>=${F}.0.0${B} <${+F+1}.0.0-0`:fe&&(I=`>=${F}.${L}.0${B} <${F}.${+L+1}.0-0`),a("xRange return",I),I})},_=(k,C)=>(a("replaceStars",k,C),k.trim().replace(l[u.STAR],"")),O=(k,C)=>(a("replaceGTE0",k,C),k.trim().replace(l[C.includePrerelease?u.GTE0PRE:u.GTE0],"")),P=k=>(C,M,I,N,F,L,z,B,V,ce,fe,Ee)=>(b(I)?M="":b(N)?M=`>=${I}.0.0${k?"-0":""}`:b(F)?M=`>=${I}.${N}.0${k?"-0":""}`:L?M=`>=${M}`:M=`>=${M}${k?"-0":""}`,b(V)?B="":b(ce)?B=`<${+V+1}.0.0-0`:b(fe)?B=`<${V}.${+ce+1}.0-0`:Ee?B=`<=${V}.${ce}.${fe}-${Ee}`:k?B=`<${V}.${ce}.${+fe+1}-0`:B=`<=${B}`,`${M} ${B}`.trim()),R=(k,C,M)=>{for(let I=0;I<k.length;I++)if(!k[I].test(C))return!1;if(C.prerelease.length&&!M.includePrerelease){for(let I=0;I<k.length;I++)if(a(k[I].semver),k[I].semver!==o.ANY&&k[I].semver.prerelease.length>0){const N=k[I].semver;if(N.major===C.major&&N.minor===C.minor&&N.patch===C.patch)return!0}return!1}return!0};return yT}var vT,AH;function lGe(){if(AH)return vT;AH=1;const e=mfe();return vT=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},vT}var uGe=lGe(),yfe=QHe(uGe);function cGe(e,t,n){const r=e.open(t),i=250,{origin:o}=new URL(t);let a=40;function s(u){u.source===r&&(a=0,e.removeEventListener("message",s,!1))}e.addEventListener("message",s,!1);function l(){a<=0||(r.postMessage(n,o),setTimeout(l,i),a-=1)}setTimeout(l,i)}var fGe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function vfe(e,...t){for(const n of t)dGe(e,n);return e}function dGe(e,t){for(const n of Object.keys(t))gm(e,n,t[n],!0)}const is=Q4e;let n1=zqe;const _w=typeof window<"u"?window:void 0;var NK;n1===void 0&&((NK=_w==null?void 0:_w.vl)!=null&&NK.compile)&&(n1=_w.vl);const hGe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},pGe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},m0={vega:"Vega","vega-lite":"Vega-Lite"},W2={vega:is.version,"vega-lite":n1?n1.version:"not available"},gGe={vega:e=>e,"vega-lite":(e,t)=>n1.compile(e,{config:t}).spec},mGe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,yGe="chart-wrapper";function vGe(e){return typeof e=="function"}function $H(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,a=window.open("");a.document.write(i+e+o),a.document.title=`${m0[r]} JSON Source`}function bGe(e,t){if(e.$schema){const n=afe(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${m0[n.library]}, but mode argument sets ${m0[t]??t}.`);const r=n.library;return yfe(W2[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${m0[r]} ${n.version}, but the current version of ${m0[r]} is v${W2[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function bfe(e){return!!(e&&"load"in e)}function OH(e){return bfe(e)?e:is.loader(e)}function xGe(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return se(t.defaultStyle)&&(t.defaultStyle=!1),t}async function wGe(e,t,n={}){let r,i;se(t)?(i=OH(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=xGe(r),a=o.loader;(!i||a)&&(i=OH(n.loader??a));const s=await CH(o,i),l=await CH(n,i),u={...vfe(l,s),config:pm(l.config??{},s.config??{})};return await EGe(e,r,u,i)}async function CH(e,t){const n=se(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=se(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function SGe(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function EGe(e,t,n={},r){const i=n.theme?pm(AHe[n.theme],n.config??{}):n.config,o=Gc(n.actions)?n.actions:vfe({},hGe,n.actions??{}),a={...pGe,...n.i18n},s=n.renderer??"svg",l=n.logLevel??is.Warn,u=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const w="vega-embed-style",{root:E,rootContainer:S}=SGe(c);if(!E.getElementById(w)){const A=document.createElement("style");A.id=w,A.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?fGe.toString():n.defaultStyle,S.appendChild(A)}}const f=bGe(t,n.mode);let d=gGe[f](t,i);if(f==="vega-lite"&&d.$schema){const w=afe(d.$schema);yfe(W2.vega,`^${w.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${w.version}, but current version is v${W2.vega}.`)}c.classList.add("vega-embed"),o&&c.classList.add("has-actions"),c.innerHTML="";let h=c;if(o){const w=document.createElement("div");w.classList.add(yGe),c.appendChild(w),h=w}const p=n.patch;if(p&&(d=p instanceof Function?p(d):bO(d,p,!0,!1).newDocument),n.formatLocale&&is.formatLocale(n.formatLocale),n.timeFormatLocale&&is.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const w in n.expressionFunctions){const E=n.expressionFunctions[w];"fn"in E?is.expressionFunction(w,E.fn,E.visitor):E instanceof Function&&is.expressionFunction(w,E)}const{ast:g}=n,m=is.parse(d,f==="vega-lite"?{}:i,{ast:g}),y=new(n.viewClass||is.View)(m,{loader:r,logLevel:l,renderer:s,...g?{expr:is.expressionInterpreter??n.expr??s6e}:{}});if(y.addSignalListener("autosize",(w,E)=>{const{type:S}=E;S=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):S=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):S=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:w,tooltip:E}=n,S=w&&!bfe(w)?w==null?void 0:w.baseURL:void 0,A=vGe(E)?E:new DHe({baseURL:S,...E===!0?{}:E}).call;y.tooltip(A)}let{hover:v}=n;if(v===void 0&&(v=f==="vega"),v){const{hoverSet:w,updateSet:E}=typeof v=="boolean"?{}:v;y.hover(w,E)}n&&(n.width!=null&&y.width(n.width),n.height!=null&&y.height(n.height),n.padding!=null&&y.padding(n.padding)),await y.initialize(h,n.bind).runAsync();let b;if(o!==!1){let w=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const S=document.createElement("details");S.title=a.CLICK_TO_VIEW_ACTIONS,c.append(S),w=S;const A=document.createElement("summary");A.innerHTML=mGe,S.append(A),b=$=>{S.contains($.target)||S.removeAttribute("open")},document.addEventListener("click",b)}const E=document.createElement("div");if(w.append(E),E.classList.add("vega-actions"),o===!0||o.export!==!1){for(const S of["svg","png"])if(o===!0||o.export===!0||o.export[S]){const A=a[`${S.toUpperCase()}_ACTION`],$=document.createElement("a"),_=le(n.scaleFactor)?n.scaleFactor[S]:n.scaleFactor;$.text=A,$.href="#",$.target="_blank",$.download=`${u}.${S}`,$.addEventListener("mousedown",async function(O){O.preventDefault();const P=await y.toImageURL(S,_);this.href=P}),E.append($)}}if(o===!0||o.source!==!1){const S=document.createElement("a");S.text=a.SOURCE_ACTION,S.href="#",S.addEventListener("click",function(A){$H(Ck(t),n.sourceHeader??"",n.sourceFooter??"",f),A.preventDefault()}),E.append(S)}if(f==="vega-lite"&&(o===!0||o.compiled!==!1)){const S=document.createElement("a");S.text=a.COMPILED_ACTION,S.href="#",S.addEventListener("click",function(A){$H(Ck(d),n.sourceHeader??"",n.sourceFooter??"","vega"),A.preventDefault()}),E.append(S)}if(o===!0||o.editor!==!1){const S=n.editorUrl??"https://vega.github.io/editor/",A=document.createElement("a");A.text=a.EDITOR_ACTION,A.href="#",A.addEventListener("click",function($){cGe(window,S,{config:i,mode:p?"vega":f,renderer:s,spec:Ck(p?d:t)}),$.preventDefault()}),E.append(A)}}function x(){b&&document.removeEventListener("click",b),y.finalize()}return{view:y,spec:t,vgSpec:d,finalize:x,embedOptions:n}}function _Ge({spec:e}){const t=T.useRef();return T.useEffect(()=>{wGe(t.current,e)},[]),j.jsx("div",{ref:t})}const r1={black:"#000",white:"#fff"},Oh={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ch={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},kh={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ph={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Th={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Iy={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},AGe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function zd(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const $Ge="$$material";function gD(){return gD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gD.apply(null,arguments)}var OGe=!1;function CGe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function kGe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var PGe=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!OGe:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kGe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=CGe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),vr="-ms-",q2="-moz-",ot="-webkit-",xfe="comm",U6="rule",W6="decl",TGe="@import",wfe="@keyframes",MGe="@layer",NGe=Math.abs,wO=String.fromCharCode,RGe=Object.assign;function DGe(e,t){return er(e,0)^45?(((t<<2^er(e,0))<<2^er(e,1))<<2^er(e,2))<<2^er(e,3):0}function Sfe(e){return e.trim()}function IGe(e,t){return(e=t.exec(e))?e[0]:e}function at(e,t,n){return e.replace(t,n)}function mD(e,t){return e.indexOf(t)}function er(e,t){return e.charCodeAt(t)|0}function i1(e,t,n){return e.slice(t,n)}function fs(e){return e.length}function q6(e){return e.length}function Aw(e,t){return t.push(e),e}function FGe(e,t){return e.map(t).join("")}var SO=1,Ng=1,Efe=0,ki=0,yn=0,zm="";function EO(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:SO,column:Ng,length:a,return:""}}function Fy(e,t){return RGe(EO("",null,null,"",null,null,0),e,{length:-e.length},t)}function jGe(){return yn}function LGe(){return yn=ki>0?er(zm,--ki):0,Ng--,yn===10&&(Ng=1,SO--),yn}function no(){return yn=ki<Efe?er(zm,ki++):0,Ng++,yn===10&&(Ng=1,SO++),yn}function Ps(){return er(zm,ki)}function AS(){return ki}function Vb(e,t){return i1(zm,e,t)}function o1(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _fe(e){return SO=Ng=1,Efe=fs(zm=e),ki=0,[]}function Afe(e){return zm="",e}function $S(e){return Sfe(Vb(ki-1,yD(e===91?e+2:e===40?e+1:e)))}function zGe(e){for(;(yn=Ps())&&yn<33;)no();return o1(e)>2||o1(yn)>3?"":" "}function BGe(e,t){for(;--t&&no()&&!(yn<48||yn>102||yn>57&&yn<65||yn>70&&yn<97););return Vb(e,AS()+(t<6&&Ps()==32&&no()==32))}function yD(e){for(;no();)switch(yn){case e:return ki;case 34:case 39:e!==34&&e!==39&&yD(yn);break;case 40:e===41&&yD(e);break;case 92:no();break}return ki}function UGe(e,t){for(;no()&&e+yn!==57;)if(e+yn===84&&Ps()===47)break;return"/*"+Vb(t,ki-1)+"*"+wO(e===47?e:no())}function WGe(e){for(;!o1(Ps());)no();return Vb(e,ki)}function qGe(e){return Afe(OS("",null,null,null,[""],e=_fe(e),0,[0],e))}function OS(e,t,n,r,i,o,a,s,l){for(var u=0,c=0,f=a,d=0,h=0,p=0,g=1,m=1,y=1,v=0,b="",x=i,w=o,E=r,S=b;m;)switch(p=v,v=no()){case 40:if(p!=108&&er(S,f-1)==58){mD(S+=at($S(v),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:S+=$S(v);break;case 9:case 10:case 13:case 32:S+=zGe(p);break;case 92:S+=BGe(AS()-1,7);continue;case 47:switch(Ps()){case 42:case 47:Aw(HGe(UGe(no(),AS()),t,n),l);break;default:S+="/"}break;case 123*g:s[u++]=fs(S)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+c:y==-1&&(S=at(S,/\f/g,"")),h>0&&fs(S)-f&&Aw(h>32?PH(S+";",r,n,f-1):PH(at(S," ","")+";",r,n,f-2),l);break;case 59:S+=";";default:if(Aw(E=kH(S,t,n,u,c,i,s,b,x=[],w=[],f),o),v===123)if(c===0)OS(S,t,E,E,x,o,f,s,w);else switch(d===99&&er(S,3)===110?100:d){case 100:case 108:case 109:case 115:OS(e,E,E,r&&Aw(kH(e,E,E,0,0,i,s,b,i,x=[],f),w),i,w,f,s,r?x:w);break;default:OS(S,E,E,E,[""],w,0,s,w)}}u=c=h=0,g=y=1,b=S="",f=a;break;case 58:f=1+fs(S),h=p;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&LGe()==125)continue}switch(S+=wO(v),v*g){case 38:y=c>0?1:(S+="\f",-1);break;case 44:s[u++]=(fs(S)-1)*y,y=1;break;case 64:Ps()===45&&(S+=$S(no())),d=Ps(),c=f=fs(b=S+=WGe(AS())),v++;break;case 45:p===45&&fs(S)==2&&(g=0)}}return o}function kH(e,t,n,r,i,o,a,s,l,u,c){for(var f=i-1,d=i===0?o:[""],h=q6(d),p=0,g=0,m=0;p<r;++p)for(var y=0,v=i1(e,f+1,f=NGe(g=a[p])),b=e;y<h;++y)(b=Sfe(g>0?d[y]+" "+v:at(v,/&\f/g,d[y])))&&(l[m++]=b);return EO(e,t,n,i===0?U6:s,l,u,c)}function HGe(e,t,n){return EO(e,t,n,xfe,wO(jGe()),i1(e,2,-2),0)}function PH(e,t,n,r){return EO(e,t,n,W6,i1(e,0,r),i1(e,r+1,-1),r)}function Op(e,t){for(var n="",r=q6(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function GGe(e,t,n,r){switch(e.type){case MGe:if(e.children.length)break;case TGe:case W6:return e.return=e.return||e.value;case xfe:return"";case wfe:return e.return=e.value+"{"+Op(e.children,r)+"}";case U6:e.value=e.props.join(",")}return fs(n=Op(e.children,r))?e.return=e.value+"{"+n+"}":""}function VGe(e){var t=q6(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}function XGe(e){return function(t){t.root||(t=t.return)&&e(t)}}function $fe(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var KGe=function(t,n,r){for(var i=0,o=0;i=o,o=Ps(),i===38&&o===12&&(n[r]=1),!o1(o);)no();return Vb(t,ki)},YGe=function(t,n){var r=-1,i=44;do switch(o1(i)){case 0:i===38&&Ps()===12&&(n[r]=1),t[r]+=KGe(ki-1,n,r);break;case 2:t[r]+=$S(i);break;case 4:if(i===44){t[++r]=Ps()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=wO(i)}while(i=no());return t},QGe=function(t,n){return Afe(YGe(_fe(t),n))},TH=new WeakMap,JGe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!TH.get(r))&&!i){TH.set(t,!0);for(var o=[],a=QGe(n,o),s=r.props,l=0,u=0;l<a.length;l++)for(var c=0;c<s.length;c++,u++)t.props[u]=o[l]?a[l].replace(/&\f/g,s[c]):s[c]+" "+a[l]}}},ZGe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Ofe(e,t){switch(DGe(e,t)){case 5103:return ot+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ot+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ot+e+q2+e+vr+e+e;case 6828:case 4268:return ot+e+vr+e+e;case 6165:return ot+e+vr+"flex-"+e+e;case 5187:return ot+e+at(e,/(\w+).+(:[^]+)/,ot+"box-$1$2"+vr+"flex-$1$2")+e;case 5443:return ot+e+vr+"flex-item-"+at(e,/flex-|-self/,"")+e;case 4675:return ot+e+vr+"flex-line-pack"+at(e,/align-content|flex-|-self/,"")+e;case 5548:return ot+e+vr+at(e,"shrink","negative")+e;case 5292:return ot+e+vr+at(e,"basis","preferred-size")+e;case 6060:return ot+"box-"+at(e,"-grow","")+ot+e+vr+at(e,"grow","positive")+e;case 4554:return ot+at(e,/([^-])(transform)/g,"$1"+ot+"$2")+e;case 6187:return at(at(at(e,/(zoom-|grab)/,ot+"$1"),/(image-set)/,ot+"$1"),e,"")+e;case 5495:case 3959:return at(e,/(image-set\([^]*)/,ot+"$1$`$1");case 4968:return at(at(e,/(.+:)(flex-)?(.*)/,ot+"box-pack:$3"+vr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ot+e+e;case 4095:case 3583:case 4068:case 2532:return at(e,/(.+)-inline(.+)/,ot+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fs(e)-1-t>6)switch(er(e,t+1)){case 109:if(er(e,t+4)!==45)break;case 102:return at(e,/(.+:)(.+)-([^]+)/,"$1"+ot+"$2-$3$1"+q2+(er(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~mD(e,"stretch")?Ofe(at(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(er(e,t+1)!==115)break;case 6444:switch(er(e,fs(e)-3-(~mD(e,"!important")&&10))){case 107:return at(e,":",":"+ot)+e;case 101:return at(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ot+(er(e,14)===45?"inline-":"")+"box$3$1"+ot+"$2$3$1"+vr+"$2box$3")+e}break;case 5936:switch(er(e,t+11)){case 114:return ot+e+vr+at(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ot+e+vr+at(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ot+e+vr+at(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ot+e+vr+e+e}return e}var eVe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case W6:t.return=Ofe(t.value,t.length);break;case wfe:return Op([Fy(t,{value:at(t.value,"@","@"+ot)})],i);case U6:if(t.length)return FGe(t.props,function(o){switch(IGe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Op([Fy(t,{props:[at(o,/:(read-\w+)/,":"+q2+"$1")]})],i);case"::placeholder":return Op([Fy(t,{props:[at(o,/:(plac\w+)/,":"+ot+"input-$1")]}),Fy(t,{props:[at(o,/:(plac\w+)/,":"+q2+"$1")]}),Fy(t,{props:[at(o,/:(plac\w+)/,vr+"input-$1")]})],i)}return""})}},tVe=[eVe],nVe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var m=g.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||tVe,o={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var m=g.getAttribute("data-emotion").split(" "),y=1;y<m.length;y++)o[m[y]]=!0;s.push(g)});var l,u=[JGe,ZGe];{var c,f=[GGe,XGe(function(g){c.insert(g)})],d=VGe(u.concat(i,f)),h=function(m){return Op(qGe(m),d)};l=function(m,y,v,b){c=v,h(m?m+"{"+y.styles+"}":y.styles),b&&(p.inserted[y.name]=!0)}}var p={key:n,sheet:new PGe({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(s),p},Cfe={exports:{}},gt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kn=typeof Symbol=="function"&&Symbol.for,H6=Kn?Symbol.for("react.element"):60103,G6=Kn?Symbol.for("react.portal"):60106,_O=Kn?Symbol.for("react.fragment"):60107,AO=Kn?Symbol.for("react.strict_mode"):60108,$O=Kn?Symbol.for("react.profiler"):60114,OO=Kn?Symbol.for("react.provider"):60109,CO=Kn?Symbol.for("react.context"):60110,V6=Kn?Symbol.for("react.async_mode"):60111,kO=Kn?Symbol.for("react.concurrent_mode"):60111,PO=Kn?Symbol.for("react.forward_ref"):60112,TO=Kn?Symbol.for("react.suspense"):60113,rVe=Kn?Symbol.for("react.suspense_list"):60120,MO=Kn?Symbol.for("react.memo"):60115,NO=Kn?Symbol.for("react.lazy"):60116,iVe=Kn?Symbol.for("react.block"):60121,oVe=Kn?Symbol.for("react.fundamental"):60117,aVe=Kn?Symbol.for("react.responder"):60118,sVe=Kn?Symbol.for("react.scope"):60119;function po(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case H6:switch(e=e.type,e){case V6:case kO:case _O:case $O:case AO:case TO:return e;default:switch(e=e&&e.$$typeof,e){case CO:case PO:case NO:case MO:case OO:return e;default:return t}}case G6:return t}}}function kfe(e){return po(e)===kO}gt.AsyncMode=V6;gt.ConcurrentMode=kO;gt.ContextConsumer=CO;gt.ContextProvider=OO;gt.Element=H6;gt.ForwardRef=PO;gt.Fragment=_O;gt.Lazy=NO;gt.Memo=MO;gt.Portal=G6;gt.Profiler=$O;gt.StrictMode=AO;gt.Suspense=TO;gt.isAsyncMode=function(e){return kfe(e)||po(e)===V6};gt.isConcurrentMode=kfe;gt.isContextConsumer=function(e){return po(e)===CO};gt.isContextProvider=function(e){return po(e)===OO};gt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===H6};gt.isForwardRef=function(e){return po(e)===PO};gt.isFragment=function(e){return po(e)===_O};gt.isLazy=function(e){return po(e)===NO};gt.isMemo=function(e){return po(e)===MO};gt.isPortal=function(e){return po(e)===G6};gt.isProfiler=function(e){return po(e)===$O};gt.isStrictMode=function(e){return po(e)===AO};gt.isSuspense=function(e){return po(e)===TO};gt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_O||e===kO||e===$O||e===AO||e===TO||e===rVe||typeof e=="object"&&e!==null&&(e.$$typeof===NO||e.$$typeof===MO||e.$$typeof===OO||e.$$typeof===CO||e.$$typeof===PO||e.$$typeof===oVe||e.$$typeof===aVe||e.$$typeof===sVe||e.$$typeof===iVe)};gt.typeOf=po;Cfe.exports=gt;var lVe=Cfe.exports,Pfe=lVe,uVe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cVe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Tfe={};Tfe[Pfe.ForwardRef]=uVe;Tfe[Pfe.Memo]=cVe;var fVe=!0;function Mfe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var X6=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||fVe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},Nfe=function(t,n,r){X6(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function dVe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var hVe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pVe=!1,gVe=/[A-Z]|^ms/g,mVe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Rfe=function(t){return t.charCodeAt(1)===45},MH=function(t){return t!=null&&typeof t!="boolean"},bT=$fe(function(e){return Rfe(e)?e:e.replace(gVe,"-$&").toLowerCase()}),NH=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(mVe,function(r,i,o){return ds={name:i,styles:o,next:ds},i})}return hVe[t]!==1&&!Rfe(t)&&typeof n=="number"&&n!==0?n+"px":n},yVe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function a1(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ds={name:i.name,styles:i.styles,next:ds},i.name;var o=n;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)ds={name:a.name,styles:a.styles,next:ds},a=a.next;var s=o.styles+";";return s}return vVe(e,t,n)}case"function":{if(e!==void 0){var l=ds,u=n(e);return ds=l,a1(e,t,u)}break}}var c=n;if(t==null)return c;var f=t[c];return f!==void 0?f:c}function vVe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=a1(e,t,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object"){var s=a;t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":MH(s)&&(r+=bT(o)+":"+NH(o,s)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&pVe)throw new Error(yVe);if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var l=0;l<a.length;l++)MH(a[l])&&(r+=bT(o)+":"+NH(o,a[l])+";");else{var u=a1(e,t,a);switch(o){case"animation":case"animationName":{r+=bT(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}}return r}var RH=/label:\s*([^\s;{]+)\s*(;|$)/g,ds;function RO(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";ds=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=a1(n,t,o);else{var a=o;i+=a[0]}for(var s=1;s<e.length;s++)if(i+=a1(n,t,e[s]),r){var l=o;i+=l[s]}RH.lastIndex=0;for(var u="",c;(c=RH.exec(i))!==null;)u+="-"+c[1];var f=dVe(i)+u;return{name:f,styles:i,next:ds}}var bVe=function(t){return t()},xVe=HT.useInsertionEffect?HT.useInsertionEffect:!1,Dfe=xVe||bVe,wVe=!1,Ife=T.createContext(typeof HTMLElement<"u"?nVe({key:"css"}):null);Ife.Provider;var Ffe=function(t){return T.forwardRef(function(n,r){var i=T.useContext(Ife);return t(n,i,r)})},jfe=T.createContext({}),K6={}.hasOwnProperty,vD="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",SVe=function(t,n){var r={};for(var i in n)K6.call(n,i)&&(r[i]=n[i]);return r[vD]=t,r},EVe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return X6(n,r,i),Dfe(function(){return Nfe(n,r,i)}),null},_Ve=Ffe(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[vD],o=[r],a="";typeof e.className=="string"?a=Mfe(t.registered,o,e.className):e.className!=null&&(a=e.className+" ");var s=RO(o,void 0,T.useContext(jfe));a+=t.key+"-"+s.name;var l={};for(var u in e)K6.call(e,u)&&u!=="css"&&u!==vD&&!wVe&&(l[u]=e[u]);return l.className=a,n&&(l.ref=n),T.createElement(T.Fragment,null,T.createElement(EVe,{cache:t,serialized:s,isStringTag:typeof i=="string"}),T.createElement(i,l))}),AVe=_Ve,DH=function(t,n){var r=arguments;if(n==null||!K6.call(n,"css"))return T.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=AVe,o[1]=SVe(t,n);for(var a=2;a<i;a++)o[a]=r[a];return T.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(DH||(DH={}));function Y6(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return RO(t)}function Lfe(){var e=Y6.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var $Ve=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,OVe=$fe(function(e){return $Ve.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),CVe=!1,kVe=OVe,PVe=function(t){return t!=="theme"},IH=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?kVe:PVe},FH=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(a){return t.__emotion_forwardProp(a)&&o(a)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},TVe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return X6(n,r,i),Dfe(function(){return Nfe(n,r,i)}),null},MVe=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,a;n!==void 0&&(o=n.label,a=n.target);var s=FH(t,n,r),l=s||IH(i),u=!l("as");return function(){var c=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)f.push.apply(f,c);else{var d=c[0];f.push(d[0]);for(var h=c.length,p=1;p<h;p++)f.push(c[p],d[p])}var g=Ffe(function(m,y,v){var b=u&&m.as||i,x="",w=[],E=m;if(m.theme==null){E={};for(var S in m)E[S]=m[S];E.theme=T.useContext(jfe)}typeof m.className=="string"?x=Mfe(y.registered,w,m.className):m.className!=null&&(x=m.className+" ");var A=RO(f.concat(w),y.registered,E);x+=y.key+"-"+A.name,a!==void 0&&(x+=" "+a);var $=u&&s===void 0?IH(b):l,_={};for(var O in m)u&&O==="as"||$(O)&&(_[O]=m[O]);return _.className=x,v&&(_.ref=v),T.createElement(T.Fragment,null,T.createElement(TVe,{cache:y,serialized:A,isStringTag:typeof b=="string"}),T.createElement(b,_))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=f,g.__emotion_forwardProp=s,Object.defineProperty(g,"toString",{value:function(){return a===void 0&&CVe?"NO_COMPONENT_SELECTOR":"."+a}}),g.withComponent=function(m,y){var v=e(m,gD({},n,y,{shouldForwardProp:FH(g,y,!0)}));return v.apply(void 0,f)},g}},NVe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],bD=MVe.bind(null);NVe.forEach(function(e){bD[e]=bD(e)});var zfe={exports:{}},RVe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",DVe=RVe,IVe=DVe;function Bfe(){}function Ufe(){}Ufe.resetWarningCache=Bfe;var FVe=function(){function e(r,i,o,a,s,l){if(l!==IVe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ufe,resetWarningCache:Bfe};return n.PropTypes=n,n};zfe.exports=FVe();var jVe=zfe.exports;const je=lt(jVe);function LVe(e,t){return bD(e,t)}function zVe(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const jH=[];function LH(e){return jH[0]=e,RO(jH)}var Wfe={exports:{}},$t={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q6=Symbol.for("react.transitional.element"),J6=Symbol.for("react.portal"),DO=Symbol.for("react.fragment"),IO=Symbol.for("react.strict_mode"),FO=Symbol.for("react.profiler"),jO=Symbol.for("react.consumer"),LO=Symbol.for("react.context"),zO=Symbol.for("react.forward_ref"),BO=Symbol.for("react.suspense"),UO=Symbol.for("react.suspense_list"),WO=Symbol.for("react.memo"),qO=Symbol.for("react.lazy"),BVe=Symbol.for("react.view_transition"),UVe=Symbol.for("react.client.reference");function Jo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Q6:switch(e=e.type,e){case DO:case FO:case IO:case BO:case UO:case BVe:return e;default:switch(e=e&&e.$$typeof,e){case LO:case zO:case qO:case WO:return e;case jO:return e;default:return t}}case J6:return t}}}$t.ContextConsumer=jO;$t.ContextProvider=LO;$t.Element=Q6;$t.ForwardRef=zO;$t.Fragment=DO;$t.Lazy=qO;$t.Memo=WO;$t.Portal=J6;$t.Profiler=FO;$t.StrictMode=IO;$t.Suspense=BO;$t.SuspenseList=UO;$t.isContextConsumer=function(e){return Jo(e)===jO};$t.isContextProvider=function(e){return Jo(e)===LO};$t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Q6};$t.isForwardRef=function(e){return Jo(e)===zO};$t.isFragment=function(e){return Jo(e)===DO};$t.isLazy=function(e){return Jo(e)===qO};$t.isMemo=function(e){return Jo(e)===WO};$t.isPortal=function(e){return Jo(e)===J6};$t.isProfiler=function(e){return Jo(e)===FO};$t.isStrictMode=function(e){return Jo(e)===IO};$t.isSuspense=function(e){return Jo(e)===BO};$t.isSuspenseList=function(e){return Jo(e)===UO};$t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===DO||e===FO||e===IO||e===BO||e===UO||typeof e=="object"&&e!==null&&(e.$$typeof===qO||e.$$typeof===WO||e.$$typeof===LO||e.$$typeof===jO||e.$$typeof===zO||e.$$typeof===UVe||e.getModuleId!==void 0)};$t.typeOf=Jo;Wfe.exports=$t;var qfe=Wfe.exports;function ys(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Hfe(e){if(T.isValidElement(e)||qfe.isValidElementType(e)||!ys(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Hfe(e[n])}),t}function ro(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return ys(e)&&ys(t)&&Object.keys(t).forEach(i=>{T.isValidElement(t[i])||qfe.isValidElementType(t[i])?r[i]=t[i]:ys(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&ys(e[i])?r[i]=ro(e[i],t[i],n):n.clone?r[i]=ys(t[i])?Hfe(t[i]):t[i]:r[i]=t[i]}),r}const WVe=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function qVe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,o=WVe(t),a=Object.keys(o);function s(d){return`@media (min-width:${typeof t[d]=="number"?t[d]:d}${n})`}function l(d){return`@media (max-width:${(typeof t[d]=="number"?t[d]:d)-r/100}${n})`}function u(d,h){const p=a.indexOf(h);return`@media (min-width:${typeof t[d]=="number"?t[d]:d}${n}) and (max-width:${(p!==-1&&typeof t[a[p]]=="number"?t[a[p]]:h)-r/100}${n})`}function c(d){return a.indexOf(d)+1<a.length?u(d,a[a.indexOf(d)+1]):s(d)}function f(d){const h=a.indexOf(d);return h===0?s(a[1]):h===a.length-1?l(a[h]):u(d,a[a.indexOf(d)+1]).replace("@media","@media not all and")}return{keys:a,values:o,up:s,down:l,between:u,only:c,not:f,unit:n,...i}}function HVe(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var a,s;const o=/min-width:\s*([0-9.]+)/;return+(((a=r.match(o))==null?void 0:a[1])||0)-+(((s=i.match(o))==null?void 0:s[1])||0)});return n.length?n.reduce((r,i)=>{const o=t[i];return delete r[i],r[i]=o,r},{...t}):t}function GVe(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function VVe(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}function XVe(e){const t=(o,a)=>o.replace("@media",a?`@container ${a}`:"@container");function n(o,a){o.up=(...s)=>t(e.breakpoints.up(...s),a),o.down=(...s)=>t(e.breakpoints.down(...s),a),o.between=(...s)=>t(e.breakpoints.between(...s),a),o.only=(...s)=>t(e.breakpoints.only(...s),a),o.not=(...s)=>{const l=t(e.breakpoints.not(...s),a);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...e,containerQueries:i}}const KVe={borderRadius:4};function G0(e,t){return t?ro(e,t,{clone:!1}):e}const HO={xs:0,sm:600,md:900,lg:1200,xl:1536},zH={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${HO[e]}px)`},YVe={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:HO[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function iu(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||zH;return t.reduce((a,s,l)=>(a[o.up(o.keys[l])]=n(t[l]),a),{})}if(typeof t=="object"){const o=r.breakpoints||zH;return Object.keys(t).reduce((a,s)=>{if(GVe(o.keys,s)){const l=VVe(r.containerQueries?r:YVe,s);l&&(a[l]=n(t[s],s))}else if(Object.keys(o.values||HO).includes(s)){const l=o.up(s);a[l]=n(t[s],s)}else{const l=s;a[l]=t[l]}return a},{})}return n(t)}function QVe(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function JVe(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function ou(e){if(typeof e!="string")throw new Error(zd(7));return e.charAt(0).toUpperCase()+e.slice(1)}function GO(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function H2(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=GO(e,n)||r,t&&(i=t(i,r,e)),i}function gn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=a=>{if(a[t]==null)return null;const s=a[t],l=a.theme,u=GO(l,r)||{};return iu(a,s,f=>{let d=H2(u,i,f);return f===d&&typeof f=="string"&&(d=H2(u,i,`${t}${f==="default"?"":ou(f)}`,f)),n===!1?d:{[n]:d}})};return o.propTypes={},o.filterProps=[t],o}function ZVe(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const eXe={m:"margin",p:"padding"},tXe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},BH={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},nXe=ZVe(e=>{if(e.length>2)if(BH[e])e=BH[e];else return[e];const[t,n]=e.split(""),r=eXe[t],i=tXe[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Z6=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ez=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Z6,...ez];function Xb(e,t,n,r){const i=GO(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const a=Math.abs(o),s=i[a];return o>=0?s:typeof s=="number"?-s:typeof s=="string"&&s.startsWith("var(")?`calc(-1 * ${s})`:`-${s}`}:typeof i=="function"?i:()=>{}}function tz(e){return Xb(e,"spacing",8)}function Kb(e,t){return typeof t=="string"||t==null?t:e(t)}function rXe(e,t){return n=>e.reduce((r,i)=>(r[i]=Kb(t,n),r),{})}function iXe(e,t,n,r){if(!t.includes(n))return null;const i=nXe(n),o=rXe(i,r),a=e[n];return iu(e,a,o)}function Gfe(e,t){const n=tz(e.theme);return Object.keys(e).map(r=>iXe(e,t,r,n)).reduce(G0,{})}function en(e){return Gfe(e,Z6)}en.propTypes={};en.filterProps=Z6;function tn(e){return Gfe(e,ez)}tn.propTypes={};tn.filterProps=ez;function Vfe(e=8,t=tz({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const a=t(o);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function VO(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?G0(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ao(e){return typeof e!="number"?e:`${e}px solid`}function Zo(e,t){return gn({prop:e,themeKey:"borders",transform:t})}const oXe=Zo("border",Ao),aXe=Zo("borderTop",Ao),sXe=Zo("borderRight",Ao),lXe=Zo("borderBottom",Ao),uXe=Zo("borderLeft",Ao),cXe=Zo("borderColor"),fXe=Zo("borderTopColor"),dXe=Zo("borderRightColor"),hXe=Zo("borderBottomColor"),pXe=Zo("borderLeftColor"),gXe=Zo("outline",Ao),mXe=Zo("outlineColor"),XO=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Xb(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Kb(t,r)});return iu(e,e.borderRadius,n)}return null};XO.propTypes={};XO.filterProps=["borderRadius"];VO(oXe,aXe,sXe,lXe,uXe,cXe,fXe,dXe,hXe,pXe,XO,gXe,mXe);const KO=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Xb(e.theme,"spacing",8),n=r=>({gap:Kb(t,r)});return iu(e,e.gap,n)}return null};KO.propTypes={};KO.filterProps=["gap"];const YO=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Xb(e.theme,"spacing",8),n=r=>({columnGap:Kb(t,r)});return iu(e,e.columnGap,n)}return null};YO.propTypes={};YO.filterProps=["columnGap"];const QO=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Xb(e.theme,"spacing",8),n=r=>({rowGap:Kb(t,r)});return iu(e,e.rowGap,n)}return null};QO.propTypes={};QO.filterProps=["rowGap"];const yXe=gn({prop:"gridColumn"}),vXe=gn({prop:"gridRow"}),bXe=gn({prop:"gridAutoFlow"}),xXe=gn({prop:"gridAutoColumns"}),wXe=gn({prop:"gridAutoRows"}),SXe=gn({prop:"gridTemplateColumns"}),EXe=gn({prop:"gridTemplateRows"}),_Xe=gn({prop:"gridTemplateAreas"}),AXe=gn({prop:"gridArea"});VO(KO,YO,QO,yXe,vXe,bXe,xXe,wXe,SXe,EXe,_Xe,AXe);function Cp(e,t){return t==="grey"?t:e}const $Xe=gn({prop:"color",themeKey:"palette",transform:Cp}),OXe=gn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Cp}),CXe=gn({prop:"backgroundColor",themeKey:"palette",transform:Cp});VO($Xe,OXe,CXe);function Hi(e){return e<=1&&e!==0?`${e*100}%`:e}const kXe=gn({prop:"width",transform:Hi}),nz=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,o,a,s,l;const r=((a=(o=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:a[n])||HO[n];return r?((l=(s=e.theme)==null?void 0:s.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Hi(n)}};return iu(e,e.maxWidth,t)}return null};nz.filterProps=["maxWidth"];const PXe=gn({prop:"minWidth",transform:Hi}),TXe=gn({prop:"height",transform:Hi}),MXe=gn({prop:"maxHeight",transform:Hi}),NXe=gn({prop:"minHeight",transform:Hi});gn({prop:"size",cssProperty:"width",transform:Hi});gn({prop:"size",cssProperty:"height",transform:Hi});const RXe=gn({prop:"boxSizing"});VO(kXe,nz,PXe,TXe,MXe,NXe,RXe);const Yb={border:{themeKey:"borders",transform:Ao},borderTop:{themeKey:"borders",transform:Ao},borderRight:{themeKey:"borders",transform:Ao},borderBottom:{themeKey:"borders",transform:Ao},borderLeft:{themeKey:"borders",transform:Ao},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ao},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:XO},color:{themeKey:"palette",transform:Cp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Cp},backgroundColor:{themeKey:"palette",transform:Cp},p:{style:tn},pt:{style:tn},pr:{style:tn},pb:{style:tn},pl:{style:tn},px:{style:tn},py:{style:tn},padding:{style:tn},paddingTop:{style:tn},paddingRight:{style:tn},paddingBottom:{style:tn},paddingLeft:{style:tn},paddingX:{style:tn},paddingY:{style:tn},paddingInline:{style:tn},paddingInlineStart:{style:tn},paddingInlineEnd:{style:tn},paddingBlock:{style:tn},paddingBlockStart:{style:tn},paddingBlockEnd:{style:tn},m:{style:en},mt:{style:en},mr:{style:en},mb:{style:en},ml:{style:en},mx:{style:en},my:{style:en},margin:{style:en},marginTop:{style:en},marginRight:{style:en},marginBottom:{style:en},marginLeft:{style:en},marginX:{style:en},marginY:{style:en},marginInline:{style:en},marginInlineStart:{style:en},marginInlineEnd:{style:en},marginBlock:{style:en},marginBlockStart:{style:en},marginBlockEnd:{style:en},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:KO},rowGap:{style:QO},columnGap:{style:YO},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Hi},maxWidth:{style:nz},minWidth:{transform:Hi},height:{transform:Hi},maxHeight:{transform:Hi},minHeight:{transform:Hi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function DXe(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function IXe(e,t){return typeof e=="function"?e(t):e}function FXe(){function e(n,r,i,o){const a={[n]:r,theme:i},s=o[n];if(!s)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:f}=s;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const d=GO(i,u)||{};return f?f(a):iu(a,r,p=>{let g=H2(d,c,p);return p===g&&typeof p=="string"&&(g=H2(d,c,`${n}${p==="default"?"":ou(p)}`,p)),l===!1?g:{[l]:g}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??Yb;function a(s){let l=s;if(typeof s=="function")l=s(i);else if(typeof s!="object")return s;if(!l)return null;const u=QVe(i.breakpoints),c=Object.keys(u);let f=u;return Object.keys(l).forEach(d=>{const h=IXe(l[d],i);if(h!=null)if(typeof h=="object")if(o[d])f=G0(f,e(d,h,i,o));else{const p=iu({theme:i},h,g=>({[d]:g}));DXe(p,h)?f[d]=t({sx:h,theme:i}):f=G0(f,p)}else f=G0(f,e(d,h,i,o))}),HVe(i,JVe(c,f))}return Array.isArray(r)?r.map(a):a(r)}return t}const Rg=FXe();Rg.filterProps=["sx"];function jXe(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function Xfe(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...a}=e,s=qVe(n),l=Vfe(i);let u=ro({breakpoints:s,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...KVe,...o}},a);return u=XVe(u),u.applyStyles=jXe,u=t.reduce((c,f)=>ro(c,f),u),u.unstable_sxConfig={...Yb,...a==null?void 0:a.unstable_sxConfig},u.unstable_sx=function(f){return Rg({sx:f,theme:this})},u}const LXe=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??Yb;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function zXe(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=LXe(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...a)=>{const s=t(...a);return ys(s)?{...r,...s}:r}:o={...r,...t},{...i,sx:o}}const UH=e=>e,BXe=()=>{let e=UH;return{configure(t){e=t},generate(t){return e(t)},reset(){e=UH}}},UXe=BXe(),WXe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function rz(e,t,n="Mui"){const r=WXe[t];return r?`${n}-${r}`:`${UXe.generate(e)}-${t}`}function Kfe(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=rz(e,i,n)}),r}function Yfe(e){const{variants:t,...n}=e,r={variants:t,style:LH(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=LH(i.style))}),r}const qXe=Xfe();function xT(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function HXe(e){return e?(t,n)=>n[e]:null}function GXe(e,t,n){e.theme=KXe(e.theme)?n:e.theme[t]||e.theme}function CS(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>CS(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return Qfe(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function Qfe(e,t,n=[]){var i;let r;e:for(let o=0;o<t.length;o+=1){const a=t[o];if(typeof a.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!a.props(r))continue}else for(const s in a.props)if(e[s]!==a.props[s]&&((i=e.ownerState)==null?void 0:i[s])!==a.props[s])continue e;typeof a.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(a.style(r))):n.push(a.style)}return n}function VXe(e={}){const{themeId:t,defaultTheme:n=qXe,rootShouldForwardProp:r=xT,slotShouldForwardProp:i=xT}=e;function o(s){GXe(s,t,n)}return(s,l={})=>{zVe(s,w=>w.filter(E=>E!==Rg));const{name:u,slot:c,skipVariantsResolver:f,skipSx:d,overridesResolver:h=HXe(QXe(c)),...p}=l,g=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let y=xT;c==="Root"||c==="root"?y=r:c?y=i:YXe(s)&&(y=void 0);const v=LVe(s,{shouldForwardProp:y,label:XXe(),...p}),b=w=>{if(typeof w=="function"&&w.__emotion_real!==w)return function(S){return CS(S,w)};if(ys(w)){const E=Yfe(w);return E.variants?function(A){return CS(A,E)}:E.style}return w},x=(...w)=>{const E=[],S=w.map(b),A=[];if(E.push(o),u&&h&&A.push(function(P){var M,I;const k=(I=(M=P.theme.components)==null?void 0:M[u])==null?void 0:I.styleOverrides;if(!k)return null;const C={};for(const N in k)C[N]=CS(P,k[N]);return h(P,C)}),u&&!g&&A.push(function(P){var C,M;const R=P.theme,k=(M=(C=R==null?void 0:R.components)==null?void 0:C[u])==null?void 0:M.variants;return k?Qfe(P,k):null}),m||A.push(Rg),Array.isArray(S[0])){const O=S.shift(),P=new Array(E.length).fill(""),R=new Array(A.length).fill("");let k;k=[...P,...O,...R],k.raw=[...P,...O.raw,...R],E.unshift(k)}const $=[...E,...S,...A],_=v(...$);return s.muiName&&(_.muiName=s.muiName),_};return v.withConfig&&(x.withConfig=v.withConfig),x}}function XXe(e,t){return void 0}function KXe(e){for(const t in e)return!1;return!0}function YXe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function QXe(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function xD(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],a=t[i];if(!a)n[i]=o||{};else if(!o)n[i]=a;else{n[i]={...a};for(const s in o)if(Object.prototype.hasOwnProperty.call(o,s)){const l=s;n[i][l]=xD(o[l],a[l])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function JXe(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function iz(e,t=0,n=1){return JXe(e,t,n)}function ZXe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Uc(e){if(e.type)return e;if(e.charAt(0)==="#")return Uc(ZXe(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(zd(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(zd(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const eKe=e=>{const t=Uc(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},y0=(e,t)=>{try{return eKe(e)}catch{return e}};function JO(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Jfe(e){e=Uc(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=(u,c=(u+n/30)%12)=>i-o*Math.max(Math.min(c-3,9-c,1),-1);let s="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(s+="a",l.push(t[3])),JO({type:s,values:l})}function wD(e){e=Uc(e);let t=e.type==="hsl"||e.type==="hsla"?Uc(Jfe(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function tKe(e,t){const n=wD(e),r=wD(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function nKe(e,t){return e=Uc(e),t=iz(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,JO(e)}function $w(e,t,n){try{return nKe(e,t)}catch{return e}}function oz(e,t){if(e=Uc(e),t=iz(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return JO(e)}function wt(e,t,n){try{return oz(e,t)}catch{return e}}function az(e,t){if(e=Uc(e),t=iz(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return JO(e)}function St(e,t,n){try{return az(e,t)}catch{return e}}function rKe(e,t=.15){return wD(e)>.5?oz(e,t):az(e,t)}function Ow(e,t,n){try{return rKe(e,t)}catch{return e}}const iKe=T.createContext(void 0);function oKe(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?xD(i.defaultProps,r):!i.styleOverrides&&!i.variants?xD(i,r):r}function aKe({props:e,name:t}){const n=T.useContext(iKe);return oKe({props:e,name:t,theme:{components:n}})}const WH={theme:void 0};function sKe(e){let t,n;return function(i){let o=t;return(o===void 0||i.theme!==n)&&(WH.theme=i.theme,o=Yfe(e(WH)),t=o,n=i.theme),o}}function lKe(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const qH=(e,t,n,r=[])=>{let i=e;t.forEach((o,a)=>{a===t.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},uKe=(e,t,n)=>{function r(i,o=[],a=[]){Object.entries(i).forEach(([s,l])=>{(!n||n&&!n([...o,s]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,s],Array.isArray(l)?[...a,s]:a):t([...o,s],l,a))})}r(e)},cKe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function wT(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},a={};return uKe(e,(s,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(s,l))){const c=`--${n?`${n}-`:""}${s.join("-")}`,f=cKe(s,l);Object.assign(i,{[c]:f}),qH(o,s,`var(${c})`,u),qH(a,s,`var(${c}, ${f})`,u)}},s=>s[0]==="vars"),{css:i,vars:o,varsWithDefaults:a}}function fKe(e,t={}){const{getSelector:n=m,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:a,defaultColorScheme:s="light",...l}=e,{vars:u,css:c,varsWithDefaults:f}=wT(l,t);let d=f;const h={},{[s]:p,...g}=o;if(Object.entries(g||{}).forEach(([b,x])=>{const{vars:w,css:E,varsWithDefaults:S}=wT(x,t);d=ro(d,S),h[b]={css:E,vars:w}}),p){const{css:b,vars:x,varsWithDefaults:w}=wT(p,t);d=ro(d,w),h[s]={css:b,vars:x}}function m(b,x){var E,S;let w=i;if(i==="class"&&(w=".%s"),i==="data"&&(w="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(w=`[${i}="%s"]`),b){if(w==="media")return e.defaultColorScheme===b?":root":{[`@media (prefers-color-scheme: ${((S=(E=o[b])==null?void 0:E.palette)==null?void 0:S.mode)||b})`]:{":root":x}};if(w)return e.defaultColorScheme===b?`:root, ${w.replace("%s",String(b))}`:w.replace("%s",String(b))}return":root"}return{vars:d,generateThemeVars:()=>{let b={...u};return Object.entries(h).forEach(([,{vars:x}])=>{b=ro(b,x)}),b},generateStyleSheets:()=>{var A,$;const b=[],x=e.defaultColorScheme||"light";function w(_,O){Object.keys(O).length&&b.push(typeof _=="string"?{[_]:{...O}}:_)}w(n(void 0,{...c}),c);const{[x]:E,...S}=h;if(E){const{css:_}=E,O=($=(A=o[x])==null?void 0:A.palette)==null?void 0:$.mode,P=!r&&O?{colorScheme:O,..._}:{..._};w(n(x,{...P}),P)}return Object.entries(S).forEach(([_,{css:O}])=>{var k,C;const P=(C=(k=o[_])==null?void 0:k.palette)==null?void 0:C.mode,R=!r&&P?{colorScheme:P,...O}:{...O};w(n(_,{...R}),R)}),b}}}function dKe(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function Zfe(e,t,n=void 0){const r={};for(const i in e){const o=e[i];let a="",s=!0;for(let l=0;l<o.length;l+=1){const u=o[l];u&&(a+=(s===!0?"":" ")+t(u),s=!1,n&&n[u]&&(a+=" "+n[u]))}r[i]=a}return r}function ede(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:r1.white,default:r1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const hKe=ede();function tde(){return{text:{primary:r1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:r1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const HH=tde();function GH(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=az(e.main,i):t==="dark"&&(e.dark=oz(e.main,o)))}function pKe(e="light"){return e==="dark"?{main:kh[200],light:kh[50],dark:kh[400]}:{main:kh[700],light:kh[400],dark:kh[800]}}function gKe(e="light"){return e==="dark"?{main:Ch[200],light:Ch[50],dark:Ch[400]}:{main:Ch[500],light:Ch[300],dark:Ch[700]}}function mKe(e="light"){return e==="dark"?{main:Oh[500],light:Oh[300],dark:Oh[700]}:{main:Oh[700],light:Oh[400],dark:Oh[800]}}function yKe(e="light"){return e==="dark"?{main:Ph[400],light:Ph[300],dark:Ph[700]}:{main:Ph[700],light:Ph[500],dark:Ph[900]}}function vKe(e="light"){return e==="dark"?{main:Th[400],light:Th[300],dark:Th[700]}:{main:Th[800],light:Th[500],dark:Th[900]}}function bKe(e="light"){return e==="dark"?{main:Iy[400],light:Iy[300],dark:Iy[700]}:{main:"#ed6c02",light:Iy[500],dark:Iy[900]}}function sz(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,o=e.primary||pKe(t),a=e.secondary||gKe(t),s=e.error||mKe(t),l=e.info||yKe(t),u=e.success||vKe(t),c=e.warning||bKe(t);function f(g){return tKe(g,HH.text.primary)>=n?HH.text.primary:hKe.text.primary}const d=({color:g,name:m,mainShade:y=500,lightShade:v=300,darkShade:b=700})=>{if(g={...g},!g.main&&g[y]&&(g.main=g[y]),!g.hasOwnProperty("main"))throw new Error(zd(11,m?` (${m})`:"",y));if(typeof g.main!="string")throw new Error(zd(12,m?` (${m})`:"",JSON.stringify(g.main)));return GH(g,"light",v,r),GH(g,"dark",b,r),g.contrastText||(g.contrastText=f(g.main)),g};let h;return t==="light"?h=ede():t==="dark"&&(h=tde()),ro({common:{...r1},mode:t,primary:d({color:o,name:"primary"}),secondary:d({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:s,name:"error"}),warning:d({color:c,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:u,name:"success"}),grey:AGe,contrastThreshold:n,getContrastText:f,augmentColor:d,tonalOffset:r,...h},i)}function xKe(e){const t={};return Object.entries(e).forEach(r=>{const[i,o]=r;typeof o=="object"&&(t[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}function wKe(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function SKe(e){return Math.round(e*1e5)/1e5}const VH={textTransform:"uppercase"},XH='"Roboto", "Helvetica", "Arial", sans-serif';function EKe(e,t){const{fontFamily:n=XH,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:s=700,htmlFontSize:l=16,allVariants:u,pxToRem:c,...f}=typeof t=="function"?t(e):t,d=r/14,h=c||(m=>`${m/l*d}rem`),p=(m,y,v,b,x)=>({fontFamily:n,fontWeight:m,fontSize:h(y),lineHeight:v,...n===XH?{letterSpacing:`${SKe(b/y)}em`}:{},...x,...u}),g={h1:p(i,96,1.167,-1.5),h2:p(i,60,1.2,-.5),h3:p(o,48,1.167,0),h4:p(o,34,1.235,.25),h5:p(o,24,1.334,0),h6:p(a,20,1.6,.15),subtitle1:p(o,16,1.75,.15),subtitle2:p(a,14,1.57,.1),body1:p(o,16,1.5,.15),body2:p(o,14,1.43,.15),button:p(a,14,1.75,.4,VH),caption:p(o,12,1.66,.4),overline:p(o,12,2.66,1,VH),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ro({htmlFontSize:l,pxToRem:h,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:s,...g},f,{clone:!1})}const _Ke=.2,AKe=.14,$Ke=.12;function Bt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${_Ke})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${AKe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${$Ke})`].join(",")}const OKe=["none",Bt(0,2,1,-1,0,1,1,0,0,1,3,0),Bt(0,3,1,-2,0,2,2,0,0,1,5,0),Bt(0,3,3,-2,0,3,4,0,0,1,8,0),Bt(0,2,4,-1,0,4,5,0,0,1,10,0),Bt(0,3,5,-1,0,5,8,0,0,1,14,0),Bt(0,3,5,-1,0,6,10,0,0,1,18,0),Bt(0,4,5,-2,0,7,10,1,0,2,16,1),Bt(0,5,5,-3,0,8,10,1,0,3,14,2),Bt(0,5,6,-3,0,9,12,1,0,3,16,2),Bt(0,6,6,-3,0,10,14,1,0,4,18,3),Bt(0,6,7,-4,0,11,15,1,0,4,20,3),Bt(0,7,8,-4,0,12,17,2,0,5,22,4),Bt(0,7,8,-4,0,13,19,2,0,5,24,4),Bt(0,7,9,-4,0,14,21,2,0,5,26,4),Bt(0,8,9,-5,0,15,22,2,0,6,28,5),Bt(0,8,10,-5,0,16,24,2,0,6,30,5),Bt(0,8,11,-5,0,17,26,2,0,6,32,5),Bt(0,9,11,-5,0,18,28,2,0,7,34,6),Bt(0,9,12,-6,0,19,29,2,0,7,36,6),Bt(0,10,13,-6,0,20,31,3,0,8,38,7),Bt(0,10,13,-6,0,21,33,3,0,8,40,7),Bt(0,10,14,-6,0,22,35,3,0,8,42,7),Bt(0,11,14,-7,0,23,36,3,0,9,44,8),Bt(0,11,15,-7,0,24,38,3,0,9,46,8)],CKe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kKe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KH(e){return`${Math.round(e)}ms`}function PKe(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function TKe(e){const t={...CKe,...e.easing},n={...kKe,...e.duration};return{getAutoHeightDuration:PKe,create:(i=["all"],o={})=>{const{duration:a=n.standard,easing:s=t.easeInOut,delay:l=0,...u}=o;return(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof a=="string"?a:KH(a)} ${s} ${typeof l=="string"?l:KH(l)}`).join(",")},...e,easing:t,duration:n}}const MKe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function NKe(e){return ys(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function nde(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[a,s]=i[o];!NKe(s)||a.startsWith("unstable_")?delete r[a]:ys(s)&&(r[a]={...s},n(r[a]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function SD(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:a={},typography:s={},shape:l,...u}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(zd(20));const c=sz(o),f=Xfe(e);let d=ro(f,{mixins:wKe(f.breakpoints,r),palette:c,shadows:OKe.slice(),typography:EKe(c,s),transitions:TKe(a),zIndex:{...MKe}});return d=ro(d,u),d=t.reduce((h,p)=>ro(h,p),d),d.unstable_sxConfig={...Yb,...u==null?void 0:u.unstable_sxConfig},d.unstable_sx=function(p){return Rg({sx:p,theme:this})},d.toRuntimeSource=nde,d}function RKe(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const DKe=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=RKe(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function rde(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function ide(e){return e==="dark"?DKe:[]}function IKe(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,o=sz(t);return{palette:o,opacity:{...rde(o.mode),...n},overlays:r||ide(o.mode),...i}}function FKe(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const jKe=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],LKe=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const a={};return jKe(e.cssVarPrefix).forEach(s=>{a[s]=n[s],delete n[s]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:o?{[o.replace("%s",t)]:a,[`${r}, ${o.replace("%s",t)}`]:n}:{[r]:{...n,...a}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(t))}`}else if(t){if(o==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r};function zKe(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function W(e,t,n){!e[t]&&n&&(e[t]=n)}function v0(e){return typeof e!="string"||!e.startsWith("hsl")?e:Jfe(e)}function cl(e,t){`${t}Channel`in e||(e[`${t}Channel`]=y0(v0(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function BKe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const ts=e=>{try{return e()}catch{}},UKe=(e="mui")=>lKe(e);function ST(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=IKe({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:o,...a}=SD({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:o,opacity:{...rde(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||ide(i)},a}function WKe(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:a=FKe,colorSchemeSelector:s=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...u}=e,c=Object.keys(n)[0],f=r||(n.light&&c!=="light"?"light":c),d=UKe(o),{[f]:h,light:p,dark:g,...m}=n,y={...m};let v=h;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(v=!0),!v)throw new Error(zd(21,f));const b=ST(y,v,u,f);p&&!y.light&&ST(y,p,void 0,"light"),g&&!y.dark&&ST(y,g,void 0,"dark");let x={defaultColorScheme:f,...b,cssVarPrefix:o,colorSchemeSelector:s,rootSelector:l,getCssVar:d,colorSchemes:y,font:{...xKe(b.typography),...b.font},spacing:BKe(u.spacing)};Object.keys(x.colorSchemes).forEach($=>{const _=x.colorSchemes[$].palette,O=P=>{const R=P.split("-"),k=R[1],C=R[2];return d(P,_[k][C])};if(_.mode==="light"&&(W(_.common,"background","#fff"),W(_.common,"onBackground","#000")),_.mode==="dark"&&(W(_.common,"background","#000"),W(_.common,"onBackground","#fff")),zKe(_,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),_.mode==="light"){W(_.Alert,"errorColor",wt(_.error.light,.6)),W(_.Alert,"infoColor",wt(_.info.light,.6)),W(_.Alert,"successColor",wt(_.success.light,.6)),W(_.Alert,"warningColor",wt(_.warning.light,.6)),W(_.Alert,"errorFilledBg",O("palette-error-main")),W(_.Alert,"infoFilledBg",O("palette-info-main")),W(_.Alert,"successFilledBg",O("palette-success-main")),W(_.Alert,"warningFilledBg",O("palette-warning-main")),W(_.Alert,"errorFilledColor",ts(()=>_.getContrastText(_.error.main))),W(_.Alert,"infoFilledColor",ts(()=>_.getContrastText(_.info.main))),W(_.Alert,"successFilledColor",ts(()=>_.getContrastText(_.success.main))),W(_.Alert,"warningFilledColor",ts(()=>_.getContrastText(_.warning.main))),W(_.Alert,"errorStandardBg",St(_.error.light,.9)),W(_.Alert,"infoStandardBg",St(_.info.light,.9)),W(_.Alert,"successStandardBg",St(_.success.light,.9)),W(_.Alert,"warningStandardBg",St(_.warning.light,.9)),W(_.Alert,"errorIconColor",O("palette-error-main")),W(_.Alert,"infoIconColor",O("palette-info-main")),W(_.Alert,"successIconColor",O("palette-success-main")),W(_.Alert,"warningIconColor",O("palette-warning-main")),W(_.AppBar,"defaultBg",O("palette-grey-100")),W(_.Avatar,"defaultBg",O("palette-grey-400")),W(_.Button,"inheritContainedBg",O("palette-grey-300")),W(_.Button,"inheritContainedHoverBg",O("palette-grey-A100")),W(_.Chip,"defaultBorder",O("palette-grey-400")),W(_.Chip,"defaultAvatarColor",O("palette-grey-700")),W(_.Chip,"defaultIconColor",O("palette-grey-700")),W(_.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),W(_.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),W(_.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),W(_.LinearProgress,"primaryBg",St(_.primary.main,.62)),W(_.LinearProgress,"secondaryBg",St(_.secondary.main,.62)),W(_.LinearProgress,"errorBg",St(_.error.main,.62)),W(_.LinearProgress,"infoBg",St(_.info.main,.62)),W(_.LinearProgress,"successBg",St(_.success.main,.62)),W(_.LinearProgress,"warningBg",St(_.warning.main,.62)),W(_.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),W(_.Slider,"primaryTrack",St(_.primary.main,.62)),W(_.Slider,"secondaryTrack",St(_.secondary.main,.62)),W(_.Slider,"errorTrack",St(_.error.main,.62)),W(_.Slider,"infoTrack",St(_.info.main,.62)),W(_.Slider,"successTrack",St(_.success.main,.62)),W(_.Slider,"warningTrack",St(_.warning.main,.62));const P=Ow(_.background.default,.8);W(_.SnackbarContent,"bg",P),W(_.SnackbarContent,"color",ts(()=>_.getContrastText(P))),W(_.SpeedDialAction,"fabHoverBg",Ow(_.background.paper,.15)),W(_.StepConnector,"border",O("palette-grey-400")),W(_.StepContent,"border",O("palette-grey-400")),W(_.Switch,"defaultColor",O("palette-common-white")),W(_.Switch,"defaultDisabledColor",O("palette-grey-100")),W(_.Switch,"primaryDisabledColor",St(_.primary.main,.62)),W(_.Switch,"secondaryDisabledColor",St(_.secondary.main,.62)),W(_.Switch,"errorDisabledColor",St(_.error.main,.62)),W(_.Switch,"infoDisabledColor",St(_.info.main,.62)),W(_.Switch,"successDisabledColor",St(_.success.main,.62)),W(_.Switch,"warningDisabledColor",St(_.warning.main,.62)),W(_.TableCell,"border",St($w(_.divider,1),.88)),W(_.Tooltip,"bg",$w(_.grey[700],.92))}if(_.mode==="dark"){W(_.Alert,"errorColor",St(_.error.light,.6)),W(_.Alert,"infoColor",St(_.info.light,.6)),W(_.Alert,"successColor",St(_.success.light,.6)),W(_.Alert,"warningColor",St(_.warning.light,.6)),W(_.Alert,"errorFilledBg",O("palette-error-dark")),W(_.Alert,"infoFilledBg",O("palette-info-dark")),W(_.Alert,"successFilledBg",O("palette-success-dark")),W(_.Alert,"warningFilledBg",O("palette-warning-dark")),W(_.Alert,"errorFilledColor",ts(()=>_.getContrastText(_.error.dark))),W(_.Alert,"infoFilledColor",ts(()=>_.getContrastText(_.info.dark))),W(_.Alert,"successFilledColor",ts(()=>_.getContrastText(_.success.dark))),W(_.Alert,"warningFilledColor",ts(()=>_.getContrastText(_.warning.dark))),W(_.Alert,"errorStandardBg",wt(_.error.light,.9)),W(_.Alert,"infoStandardBg",wt(_.info.light,.9)),W(_.Alert,"successStandardBg",wt(_.success.light,.9)),W(_.Alert,"warningStandardBg",wt(_.warning.light,.9)),W(_.Alert,"errorIconColor",O("palette-error-main")),W(_.Alert,"infoIconColor",O("palette-info-main")),W(_.Alert,"successIconColor",O("palette-success-main")),W(_.Alert,"warningIconColor",O("palette-warning-main")),W(_.AppBar,"defaultBg",O("palette-grey-900")),W(_.AppBar,"darkBg",O("palette-background-paper")),W(_.AppBar,"darkColor",O("palette-text-primary")),W(_.Avatar,"defaultBg",O("palette-grey-600")),W(_.Button,"inheritContainedBg",O("palette-grey-800")),W(_.Button,"inheritContainedHoverBg",O("palette-grey-700")),W(_.Chip,"defaultBorder",O("palette-grey-700")),W(_.Chip,"defaultAvatarColor",O("palette-grey-300")),W(_.Chip,"defaultIconColor",O("palette-grey-300")),W(_.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),W(_.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),W(_.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),W(_.LinearProgress,"primaryBg",wt(_.primary.main,.5)),W(_.LinearProgress,"secondaryBg",wt(_.secondary.main,.5)),W(_.LinearProgress,"errorBg",wt(_.error.main,.5)),W(_.LinearProgress,"infoBg",wt(_.info.main,.5)),W(_.LinearProgress,"successBg",wt(_.success.main,.5)),W(_.LinearProgress,"warningBg",wt(_.warning.main,.5)),W(_.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),W(_.Slider,"primaryTrack",wt(_.primary.main,.5)),W(_.Slider,"secondaryTrack",wt(_.secondary.main,.5)),W(_.Slider,"errorTrack",wt(_.error.main,.5)),W(_.Slider,"infoTrack",wt(_.info.main,.5)),W(_.Slider,"successTrack",wt(_.success.main,.5)),W(_.Slider,"warningTrack",wt(_.warning.main,.5));const P=Ow(_.background.default,.98);W(_.SnackbarContent,"bg",P),W(_.SnackbarContent,"color",ts(()=>_.getContrastText(P))),W(_.SpeedDialAction,"fabHoverBg",Ow(_.background.paper,.15)),W(_.StepConnector,"border",O("palette-grey-600")),W(_.StepContent,"border",O("palette-grey-600")),W(_.Switch,"defaultColor",O("palette-grey-300")),W(_.Switch,"defaultDisabledColor",O("palette-grey-600")),W(_.Switch,"primaryDisabledColor",wt(_.primary.main,.55)),W(_.Switch,"secondaryDisabledColor",wt(_.secondary.main,.55)),W(_.Switch,"errorDisabledColor",wt(_.error.main,.55)),W(_.Switch,"infoDisabledColor",wt(_.info.main,.55)),W(_.Switch,"successDisabledColor",wt(_.success.main,.55)),W(_.Switch,"warningDisabledColor",wt(_.warning.main,.55)),W(_.TableCell,"border",wt($w(_.divider,1),.68)),W(_.Tooltip,"bg",$w(_.grey[700],.92))}cl(_.background,"default"),cl(_.background,"paper"),cl(_.common,"background"),cl(_.common,"onBackground"),cl(_,"divider"),Object.keys(_).forEach(P=>{const R=_[P];P!=="tonalOffset"&&R&&typeof R=="object"&&(R.main&&W(_[P],"mainChannel",y0(v0(R.main))),R.light&&W(_[P],"lightChannel",y0(v0(R.light))),R.dark&&W(_[P],"darkChannel",y0(v0(R.dark))),R.contrastText&&W(_[P],"contrastTextChannel",y0(v0(R.contrastText))),P==="text"&&(cl(_[P],"primary"),cl(_[P],"secondary")),P==="action"&&(R.active&&cl(_[P],"active"),R.selected&&cl(_[P],"selected")))})}),x=t.reduce(($,_)=>ro($,_),x);const w={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:LKe(x)},{vars:E,generateThemeVars:S,generateStyleSheets:A}=fKe(x,w);return x.vars=E,Object.entries(x.colorSchemes[x.defaultColorScheme]).forEach(([$,_])=>{x[$]=_}),x.generateThemeVars=S,x.generateStyleSheets=A,x.generateSpacing=function(){return Vfe(u.spacing,tz(this))},x.getColorSchemeSelector=dKe(s),x.spacing=x.generateSpacing(),x.shouldSkipGeneratingVar=a,x.unstable_sxConfig={...Yb,...u==null?void 0:u.unstable_sxConfig},x.unstable_sx=function(_){return Rg({sx:_,theme:this})},x.toRuntimeSource=nde,x}function YH(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:sz({...n===!0?{}:n.palette,mode:t})})}function qKe(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...a}=e,s=o||"light",l=i==null?void 0:i[s],u={...i,...n?{[s]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return SD(e,...t);let c=n;"palette"in e||u[s]&&(u[s]!==!0?c=u[s].palette:s==="dark"&&(c={mode:"dark"}));const f=SD({...e,palette:c},...t);return f.defaultColorScheme=s,f.colorSchemes=u,f.palette.mode==="light"&&(f.colorSchemes.light={...u.light!==!0&&u.light,palette:f.palette},YH(f,"dark",u.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:f.palette},YH(f,"light",u.light)),f}return!n&&!("light"in u)&&s==="light"&&(u.light=!0),WKe({...a,colorSchemes:u,defaultColorScheme:s,...typeof r!="boolean"&&r},...t)}const HKe=qKe();function GKe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const VKe=e=>GKe(e)&&e!=="classes",ZO=VXe({themeId:$Ge,defaultTheme:HKe,rootShouldForwardProp:VKe});function XKe(){return zXe}const lz=sKe;function ode(e){return aKe(e)}function KKe(e){return typeof e.main=="string"}function YKe(e,t=[]){if(!KKe(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function ade(e=[]){return([,t])=>t&&YKe(t,e)}function QKe(e){return rz("MuiCircularProgress",e)}Kfe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const $u=44,ED=Lfe`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,_D=Lfe`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,JKe=typeof ED!="string"?Y6`
        animation: ${ED} 1.4s linear infinite;
      `:null,ZKe=typeof _D!="string"?Y6`
        animation: ${_D} 1.4s ease-in-out infinite;
      `:null,eYe=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${ou(r)}`],svg:["svg"],circle:["circle",`circle${ou(n)}`,i&&"circleDisableShrink"]};return Zfe(o,QKe,t)},tYe=ZO("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${ou(n.color)}`]]}})(lz(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:JKe||{animation:`${ED} 1.4s linear infinite`}},...Object.entries(e.palette).filter(ade()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),nYe=ZO("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),rYe=ZO("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${ou(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(lz(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:ZKe||{animation:`${_D} 1.4s ease-in-out infinite`}}]}))),iYe=T.forwardRef(function(t,n){const r=ode({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:a=!1,size:s=40,style:l,thickness:u=3.6,value:c=0,variant:f="indeterminate",...d}=r,h={...r,color:o,disableShrink:a,size:s,thickness:u,value:c,variant:f},p=eYe(h),g={},m={},y={};if(f==="determinate"){const v=2*Math.PI*(($u-u)/2);g.strokeDasharray=v.toFixed(3),y["aria-valuenow"]=Math.round(c),g.strokeDashoffset=`${((100-c)/100*v).toFixed(3)}px`,m.transform="rotate(-90deg)"}return j.jsx(tYe,{className:ke(p.root,i),style:{width:s,height:s,...m,...l},ownerState:h,ref:n,role:"progressbar",...y,...d,children:j.jsx(nYe,{className:p.svg,ownerState:h,viewBox:`${$u/2} ${$u/2} ${$u} ${$u}`,children:j.jsx(rYe,{className:p.circle,style:g,ownerState:h,cx:$u,cy:$u,r:($u-u)/2,fill:"none",strokeWidth:u})})})});function oYe(e){return rz("MuiTypography",e)}Kfe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const aYe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},sYe=XKe(),lYe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=e,s={root:["root",o,e.align!=="inherit"&&`align${ou(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Zfe(s,oYe,a)},uYe=ZO("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${ou(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(lz(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(ade()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${ou(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),QH={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},cYe=T.forwardRef(function(t,n){const{color:r,...i}=ode({props:t,name:"MuiTypography"}),o=!aYe[r],a=sYe({...i,...o&&{color:r}}),{align:s="inherit",className:l,component:u,gutterBottom:c=!1,noWrap:f=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=QH,...g}=a,m={...a,align:s,color:r,className:l,component:u,gutterBottom:c,noWrap:f,paragraph:d,variant:h,variantMapping:p},y=u||(d?"p":p[h]||QH[h])||"span",v=lYe(m);return j.jsx(uYe,{as:y,ref:n,className:ke(v.root,l),...g,ownerState:m,style:{...s!=="inherit"&&{"--Typography-textAlign":s},...g.style}})});function Mh({children:e,prompt:t,colSpan:n="col-span-1"}){const[r,i]=T.useState(!0),[o,a]=T.useState(null);return T.useEffect(()=>{t&&fetch("https://cdtm.onrender.com/api/generate-chart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userPrompt:t})}).then(s=>s.json()).then(s=>a(()=>j.jsx(_Ge,{spec:s}))).catch(console.error)},[]),t?r&&j.jsxs("div",{className:"relative",children:[j.jsx(Nl,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 z-10 h-8 w-8 bg-white/80 hover:bg-gray-100",onClick:()=>i(!1),children:j.jsx(WM,{className:"h-4 w-4 text-gray-700"})}),j.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-fade-in h-96 overflow-auto",children:o||j.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[j.jsx(iYe,{}),j.jsx(cYe,{variant:"subtitle2",className:"mt-2",children:"Creating a graph for you ..."})]})})]}):r&&j.jsxs("div",{className:`relative ${n} flex flex-col gap-4`,children:[j.jsx(Nl,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 z-10 h-8 w-8 bg-white/80 hover:bg-gray-100",onClick:()=>i(!1),children:j.jsx(WM,{className:"h-4 w-4 text-gray-700"})}),j.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-fade-in overflow-auto",children:e})]})}var fYe=Array.isArray,ui=fYe,dYe=typeof px=="object"&&px&&px.Object===Object&&px,sde=dYe,hYe=sde,pYe=typeof self=="object"&&self&&self.Object===Object&&self,gYe=hYe||pYe||Function("return this")(),Va=gYe,mYe=Va,yYe=mYe.Symbol,Bm=yYe,JH=Bm,lde=Object.prototype,vYe=lde.hasOwnProperty,bYe=lde.toString,jy=JH?JH.toStringTag:void 0;function xYe(e){var t=vYe.call(e,jy),n=e[jy];try{e[jy]=void 0;var r=!0}catch{}var i=bYe.call(e);return r&&(t?e[jy]=n:delete e[jy]),i}var wYe=xYe,SYe=Object.prototype,EYe=SYe.toString;function _Ye(e){return EYe.call(e)}var AYe=_Ye,ZH=Bm,$Ye=wYe,OYe=AYe,CYe="[object Null]",kYe="[object Undefined]",eG=ZH?ZH.toStringTag:void 0;function PYe(e){return e==null?e===void 0?kYe:CYe:eG&&eG in Object(e)?$Ye(e):OYe(e)}var xu=PYe;function TYe(e){return e!=null&&typeof e=="object"}var Xa=TYe,MYe=xu,NYe=Xa,RYe="[object Symbol]";function DYe(e){return typeof e=="symbol"||NYe(e)&&MYe(e)==RYe}var Um=DYe,IYe=ui,FYe=Um,jYe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LYe=/^\w*$/;function zYe(e,t){if(IYe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||FYe(e)?!0:LYe.test(e)||!jYe.test(e)||t!=null&&e in Object(t)}var uz=zYe;function BYe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ka=BYe;const Wm=lt(Ka);var UYe=xu,WYe=Ka,qYe="[object AsyncFunction]",HYe="[object Function]",GYe="[object GeneratorFunction]",VYe="[object Proxy]";function XYe(e){if(!WYe(e))return!1;var t=UYe(e);return t==HYe||t==GYe||t==qYe||t==VYe}var cz=XYe;const Te=lt(cz);var KYe=Va,YYe=KYe["__core-js_shared__"],QYe=YYe,ET=QYe,tG=function(){var e=/[^.]+$/.exec(ET&&ET.keys&&ET.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function JYe(e){return!!tG&&tG in e}var ZYe=JYe,eQe=Function.prototype,tQe=eQe.toString;function nQe(e){if(e!=null){try{return tQe.call(e)}catch{}try{return e+""}catch{}}return""}var ude=nQe,rQe=cz,iQe=ZYe,oQe=Ka,aQe=ude,sQe=/[\\^$.*+?()[\]{}|]/g,lQe=/^\[object .+?Constructor\]$/,uQe=Function.prototype,cQe=Object.prototype,fQe=uQe.toString,dQe=cQe.hasOwnProperty,hQe=RegExp("^"+fQe.call(dQe).replace(sQe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pQe(e){if(!oQe(e)||iQe(e))return!1;var t=rQe(e)?hQe:lQe;return t.test(aQe(e))}var gQe=pQe;function mQe(e,t){return e==null?void 0:e[t]}var yQe=mQe,vQe=gQe,bQe=yQe;function xQe(e,t){var n=bQe(e,t);return vQe(n)?n:void 0}var ch=xQe,wQe=ch,SQe=wQe(Object,"create"),eC=SQe,nG=eC;function EQe(){this.__data__=nG?nG(null):{},this.size=0}var _Qe=EQe;function AQe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $Qe=AQe,OQe=eC,CQe="__lodash_hash_undefined__",kQe=Object.prototype,PQe=kQe.hasOwnProperty;function TQe(e){var t=this.__data__;if(OQe){var n=t[e];return n===CQe?void 0:n}return PQe.call(t,e)?t[e]:void 0}var MQe=TQe,NQe=eC,RQe=Object.prototype,DQe=RQe.hasOwnProperty;function IQe(e){var t=this.__data__;return NQe?t[e]!==void 0:DQe.call(t,e)}var FQe=IQe,jQe=eC,LQe="__lodash_hash_undefined__";function zQe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=jQe&&t===void 0?LQe:t,this}var BQe=zQe,UQe=_Qe,WQe=$Qe,qQe=MQe,HQe=FQe,GQe=BQe;function qm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qm.prototype.clear=UQe;qm.prototype.delete=WQe;qm.prototype.get=qQe;qm.prototype.has=HQe;qm.prototype.set=GQe;var VQe=qm;function XQe(){this.__data__=[],this.size=0}var KQe=XQe;function YQe(e,t){return e===t||e!==e&&t!==t}var tC=YQe,QQe=tC;function JQe(e,t){for(var n=e.length;n--;)if(QQe(e[n][0],t))return n;return-1}var nC=JQe,ZQe=nC,eJe=Array.prototype,tJe=eJe.splice;function nJe(e){var t=this.__data__,n=ZQe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():tJe.call(t,n,1),--this.size,!0}var rJe=nJe,iJe=nC;function oJe(e){var t=this.__data__,n=iJe(t,e);return n<0?void 0:t[n][1]}var aJe=oJe,sJe=nC;function lJe(e){return sJe(this.__data__,e)>-1}var uJe=lJe,cJe=nC;function fJe(e,t){var n=this.__data__,r=cJe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var dJe=fJe,hJe=KQe,pJe=rJe,gJe=aJe,mJe=uJe,yJe=dJe;function Hm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hm.prototype.clear=hJe;Hm.prototype.delete=pJe;Hm.prototype.get=gJe;Hm.prototype.has=mJe;Hm.prototype.set=yJe;var rC=Hm,vJe=ch,bJe=Va,xJe=vJe(bJe,"Map"),fz=xJe,rG=VQe,wJe=rC,SJe=fz;function EJe(){this.size=0,this.__data__={hash:new rG,map:new(SJe||wJe),string:new rG}}var _Je=EJe;function AJe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var $Je=AJe,OJe=$Je;function CJe(e,t){var n=e.__data__;return OJe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var iC=CJe,kJe=iC;function PJe(e){var t=kJe(this,e).delete(e);return this.size-=t?1:0,t}var TJe=PJe,MJe=iC;function NJe(e){return MJe(this,e).get(e)}var RJe=NJe,DJe=iC;function IJe(e){return DJe(this,e).has(e)}var FJe=IJe,jJe=iC;function LJe(e,t){var n=jJe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var zJe=LJe,BJe=_Je,UJe=TJe,WJe=RJe,qJe=FJe,HJe=zJe;function Gm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gm.prototype.clear=BJe;Gm.prototype.delete=UJe;Gm.prototype.get=WJe;Gm.prototype.has=qJe;Gm.prototype.set=HJe;var dz=Gm,cde=dz,GJe="Expected a function";function hz(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(GJe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(hz.Cache||cde),n}hz.Cache=cde;var fde=hz;const VJe=lt(fde);var XJe=fde,KJe=500;function YJe(e){var t=XJe(e,function(r){return n.size===KJe&&n.clear(),r}),n=t.cache;return t}var QJe=YJe,JJe=QJe,ZJe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eZe=/\\(\\)?/g,tZe=JJe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ZJe,function(n,r,i,o){t.push(i?o.replace(eZe,"$1"):r||n)}),t}),nZe=tZe;function rZe(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var oC=rZe,iG=Bm,iZe=oC,oZe=ui,aZe=Um,sZe=1/0,oG=iG?iG.prototype:void 0,aG=oG?oG.toString:void 0;function dde(e){if(typeof e=="string")return e;if(oZe(e))return iZe(e,dde)+"";if(aZe(e))return aG?aG.call(e):"";var t=e+"";return t=="0"&&1/e==-sZe?"-0":t}var lZe=dde,uZe=lZe;function cZe(e){return e==null?"":uZe(e)}var hde=cZe,fZe=ui,dZe=uz,hZe=nZe,pZe=hde;function gZe(e,t){return fZe(e)?e:dZe(e,t)?[e]:hZe(pZe(e))}var aC=gZe,mZe=Um,yZe=1/0;function vZe(e){if(typeof e=="string"||mZe(e))return e;var t=e+"";return t=="0"&&1/e==-yZe?"-0":t}var Qb=vZe,bZe=aC,xZe=Qb;function wZe(e,t){t=bZe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[xZe(t[n++])];return n&&n==r?e:void 0}var sC=wZe,SZe=sC;function EZe(e,t,n){var r=e==null?void 0:SZe(e,t);return r===void 0?n:r}var pde=EZe;const io=lt(pde);function _Ze(e){return e==null}var AZe=_Ze;const ze=lt(AZe);var $Ze=xu,OZe=ui,CZe=Xa,kZe="[object String]";function PZe(e){return typeof e=="string"||!OZe(e)&&CZe(e)&&$Ze(e)==kZe}var TZe=PZe;const Jb=lt(TZe);var gde={exports:{}},mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pz=Symbol.for("react.element"),gz=Symbol.for("react.portal"),lC=Symbol.for("react.fragment"),uC=Symbol.for("react.strict_mode"),cC=Symbol.for("react.profiler"),fC=Symbol.for("react.provider"),dC=Symbol.for("react.context"),MZe=Symbol.for("react.server_context"),hC=Symbol.for("react.forward_ref"),pC=Symbol.for("react.suspense"),gC=Symbol.for("react.suspense_list"),mC=Symbol.for("react.memo"),yC=Symbol.for("react.lazy"),NZe=Symbol.for("react.offscreen"),mde;mde=Symbol.for("react.module.reference");function ea(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pz:switch(e=e.type,e){case lC:case cC:case uC:case pC:case gC:return e;default:switch(e=e&&e.$$typeof,e){case MZe:case dC:case hC:case yC:case mC:case fC:return e;default:return t}}case gz:return t}}}mt.ContextConsumer=dC;mt.ContextProvider=fC;mt.Element=pz;mt.ForwardRef=hC;mt.Fragment=lC;mt.Lazy=yC;mt.Memo=mC;mt.Portal=gz;mt.Profiler=cC;mt.StrictMode=uC;mt.Suspense=pC;mt.SuspenseList=gC;mt.isAsyncMode=function(){return!1};mt.isConcurrentMode=function(){return!1};mt.isContextConsumer=function(e){return ea(e)===dC};mt.isContextProvider=function(e){return ea(e)===fC};mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pz};mt.isForwardRef=function(e){return ea(e)===hC};mt.isFragment=function(e){return ea(e)===lC};mt.isLazy=function(e){return ea(e)===yC};mt.isMemo=function(e){return ea(e)===mC};mt.isPortal=function(e){return ea(e)===gz};mt.isProfiler=function(e){return ea(e)===cC};mt.isStrictMode=function(e){return ea(e)===uC};mt.isSuspense=function(e){return ea(e)===pC};mt.isSuspenseList=function(e){return ea(e)===gC};mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lC||e===cC||e===uC||e===pC||e===gC||e===NZe||typeof e=="object"&&e!==null&&(e.$$typeof===yC||e.$$typeof===mC||e.$$typeof===fC||e.$$typeof===dC||e.$$typeof===hC||e.$$typeof===mde||e.getModuleId!==void 0)};mt.typeOf=ea;gde.exports=mt;var yde=gde.exports,RZe=xu,DZe=Xa,IZe="[object Number]";function FZe(e){return typeof e=="number"||DZe(e)&&RZe(e)==IZe}var vde=FZe;const jZe=lt(vde);var LZe=vde;function zZe(e){return LZe(e)&&e!=+e}var BZe=zZe;const fh=lt(BZe);var Sa=function(t){return t===0?0:t>0?1:-1},qf=function(t){return Jb(t)&&t.indexOf("%")===t.length-1},he=function(t){return jZe(t)&&!fh(t)},Mn=function(t){return he(t)||Jb(t)},UZe=0,Vm=function(t){var n=++UZe;return"".concat(t||"").concat(n)},Ea=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&!Jb(t))return r;var o;if(qf(t)){var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return fh(o)&&(o=r),i&&o>n&&(o=n),o},Lh=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},WZe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},Xr=function(t,n){return he(t)&&he(n)?function(r){return t+r*(n-t)}:function(){return n}};function G2(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):io(r,t))===n})}function kp(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function AD(e){"@babel/helpers - typeof";return AD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AD(e)}var qZe=["viewBox","children"],HZe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],sG=["points","pathLength"],_T={svg:qZe,polygon:sG,polyline:sG},mz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],V2=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(T.isValidElement(t)&&(r=t.props),!Wm(r))return null;var i={};return Object.keys(r).forEach(function(o){mz.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},GZe=function(t,n,r){return function(i){return t(n,r,i),null}},Dg=function(t,n,r){if(!Wm(t)||AD(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var a=t[o];mz.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=GZe(a,n,r))}),i},VZe=["children"],XZe=["children"];function lG(e,t){if(e==null)return{};var n=KZe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KZe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $D(e){"@babel/helpers - typeof";return $D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$D(e)}var uG={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Bl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},cG=null,AT=null,vC=function e(t){if(t===cG&&Array.isArray(AT))return AT;var n=[];return T.Children.forEach(t,function(r){ze(r)||(yde.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),AT=n,cG=t,n};function Do(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return Bl(i)}):r=[Bl(t)],vC(e).forEach(function(i){var o=io(i,"type.displayName")||io(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function _r(e,t){var n=Do(e,t);return n&&n[0]}var OD=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!he(r)||r<=0||!he(i)||i<=0)},YZe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bde=function(t){return t&&t.type&&Jb(t.type)&&YZe.indexOf(t.type)>=0},QZe=function(t){return t&&$D(t)==="object"&&"clipDot"in t},JZe=function(t,n,r,i){var o,a=(o=_T==null?void 0:_T[i])!==null&&o!==void 0?o:[];return!Te(t)&&(i&&a.includes(n)||HZe.includes(n))||r&&mz.includes(n)},ZZe=function(t){var n=[];return vC(t).forEach(function(r){bde(r)&&n.push(r)}),n},Se=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(T.isValidElement(t)&&(i=t.props),!Wm(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;JZe((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},CD=function e(t,n){if(t===n)return!0;var r=T.Children.count(t);if(r!==T.Children.count(n))return!1;if(r===0)return!0;if(r===1)return fG(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!fG(o,a))return!1}return!0},fG=function(t,n){if(ze(t)&&ze(n))return!0;if(!ze(t)&&!ze(n)){var r=t.props||{},i=r.children,o=lG(r,VZe),a=n.props||{},s=a.children,l=lG(a,XZe);return i&&s?kp(o,l)&&CD(i,s):!i&&!s?kp(o,l):!1}return!1},dG=function(t,n){var r=[],i={};return vC(t).forEach(function(o,a){if(bde(o))r.push(o);else if(o){var s=Bl(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},eet=function(t){var n=t&&t.type;return n&&uG[n]?uG[n]:null},tet=function(t,n){return vC(n).indexOf(t)},net=["children","width","height","viewBox","className","style","title","desc"];function kD(){return kD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kD.apply(this,arguments)}function ret(e,t){if(e==null)return{};var n=iet(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function iet(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function X2(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,u=ret(e,net),c=i||{width:n,height:r,x:0,y:0},f=ke("recharts-surface",o);return D.createElement("svg",kD({},Se(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),t)}var oet=["children","className"];function PD(){return PD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PD.apply(this,arguments)}function aet(e,t){if(e==null)return{};var n=set(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function set(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Qe=D.forwardRef(function(e,t){var n=e.children,r=e.className,i=aet(e,oet),o=ke("recharts-layer",r);return D.createElement("g",PD({className:o},Se(i,!0),{ref:t}),n)}),ld=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function uet(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var xde=uet,cet=xde;function fet(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:cet(e,t,n)}var det=fet,het="\\ud800-\\udfff",pet="\\u0300-\\u036f",get="\\ufe20-\\ufe2f",met="\\u20d0-\\u20ff",yet=pet+get+met,vet="\\ufe0e\\ufe0f",bet="\\u200d",xet=RegExp("["+bet+het+yet+vet+"]");function wet(e){return xet.test(e)}var wde=wet;function Eet(e){return e.split("")}var _et=Eet,Sde="\\ud800-\\udfff",Aet="\\u0300-\\u036f",$et="\\ufe20-\\ufe2f",Oet="\\u20d0-\\u20ff",Cet=Aet+$et+Oet,ket="\\ufe0e\\ufe0f",Pet="["+Sde+"]",TD="["+Cet+"]",MD="\\ud83c[\\udffb-\\udfff]",Tet="(?:"+TD+"|"+MD+")",Ede="[^"+Sde+"]",_de="(?:\\ud83c[\\udde6-\\uddff]){2}",Ade="[\\ud800-\\udbff][\\udc00-\\udfff]",Met="\\u200d",$de=Tet+"?",Ode="["+ket+"]?",Net="(?:"+Met+"(?:"+[Ede,_de,Ade].join("|")+")"+Ode+$de+")*",Ret=Ode+$de+Net,Det="(?:"+[Ede+TD+"?",TD,_de,Ade,Pet].join("|")+")",Iet=RegExp(MD+"(?="+MD+")|"+Det+Ret,"g");function Fet(e){return e.match(Iet)||[]}var jet=Fet,Let=_et,zet=wde,Bet=jet;function Uet(e){return zet(e)?Bet(e):Let(e)}var Wet=Uet,qet=det,Het=wde,Get=Wet,Vet=hde;function Xet(e){return function(t){t=Vet(t);var n=Het(t)?Get(t):void 0,r=n?n[0]:t.charAt(0),i=n?qet(n,1).join(""):t.slice(1);return r[e]()+i}}var Ket=Xet,Yet=Ket,Qet=Yet("toUpperCase"),Jet=Qet;const bC=lt(Jet);function s1(e){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s1(e)}var Zet=["type","size","sizeType"];function ND(){return ND=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ND.apply(this,arguments)}function hG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hG(Object(n),!0).forEach(function(r){ett(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ett(e,t,n){return t=ttt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ttt(e){var t=ntt(e,"string");return s1(t)=="symbol"?t:t+""}function ntt(e,t){if(s1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(s1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rtt(e,t){if(e==null)return{};var n=itt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function itt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Cde={symbolCircle:O5,symbolCross:Q_e,symbolDiamond:Z_e,symbolSquare:eAe,symbolStar:iAe,symbolTriangle:oAe,symbolWye:sAe},ott=Math.PI/180,att=function(t){var n="symbol".concat(bC(t));return Cde[n]||O5},stt=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*ott;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ltt=function(t,n){Cde["symbol".concat(bC(t))]=n},yz=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,a=t.sizeType,s=a===void 0?"area":a,l=rtt(t,Zet),u=pG(pG({},l),{},{type:r,size:o,sizeType:s}),c=function(){var m=att(r),y=ene().type(m).size(stt(o,s,r));return y()},f=u.className,d=u.cx,h=u.cy,p=Se(u,!0);return d===+d&&h===+h&&o===+o?D.createElement("path",ND({},p,{className:ke("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:c()})):null};yz.registerSymbol=ltt;function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function RD(){return RD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RD.apply(this,arguments)}function gG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function utt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gG(Object(n),!0).forEach(function(r){l1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ctt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ftt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pde(r.key),r)}}function dtt(e,t,n){return t&&ftt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function htt(e,t,n){return t=K2(t),ptt(e,kde()?Reflect.construct(t,n||[],K2(e).constructor):t.apply(e,n))}function ptt(e,t){if(t&&(Ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gtt(e)}function gtt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kde=function(){return!!e})()}function K2(e){return K2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K2(e)}function mtt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DD(e,t)}function DD(e,t){return DD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DD(e,t)}function l1(e,t,n){return t=Pde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pde(e){var t=ytt(e,"string");return Ig(t)=="symbol"?t:t+""}function ytt(e,t){if(Ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bo=32,vz=function(e){function t(){return ctt(this,t),htt(this,t,arguments)}return mtt(t,e),dtt(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=bo/2,a=bo/6,s=bo/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:bo,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(bo,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(bo/8,"h").concat(bo,"v").concat(bo*3/4,"h").concat(-bo,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=utt({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(yz,{fill:l,cx:o,cy:o,size:bo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:bo,height:bo},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(h,p){var g=h.formatter||l,m=ke(l1(l1({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=Te(h.value)?null:h.value;ld(!Te(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=h.inactive?u:h.color;return D.createElement("li",RD({className:m,style:f,key:"legend-item-".concat(p)},Dg(r.props,h,p)),D.createElement(X2,{width:a,height:a,viewBox:c,style:d},r.renderIcon(h)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(y,h,p):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(T.PureComponent);l1(vz,"displayName","Legend");l1(vz,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var vtt=rC;function btt(){this.__data__=new vtt,this.size=0}var xtt=btt;function wtt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Stt=wtt;function Ett(e){return this.__data__.get(e)}var _tt=Ett;function Att(e){return this.__data__.has(e)}var $tt=Att,Ott=rC,Ctt=fz,ktt=dz,Ptt=200;function Ttt(e,t){var n=this.__data__;if(n instanceof Ott){var r=n.__data__;if(!Ctt||r.length<Ptt-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ktt(r)}return n.set(e,t),this.size=n.size,this}var Mtt=Ttt,Ntt=rC,Rtt=xtt,Dtt=Stt,Itt=_tt,Ftt=$tt,jtt=Mtt;function Xm(e){var t=this.__data__=new Ntt(e);this.size=t.size}Xm.prototype.clear=Rtt;Xm.prototype.delete=Dtt;Xm.prototype.get=Itt;Xm.prototype.has=Ftt;Xm.prototype.set=jtt;var bz=Xm,Ltt="__lodash_hash_undefined__";function ztt(e){return this.__data__.set(e,Ltt),this}var Btt=ztt;function Utt(e){return this.__data__.has(e)}var Wtt=Utt,qtt=dz,Htt=Btt,Gtt=Wtt;function Y2(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new qtt;++t<n;)this.add(e[t])}Y2.prototype.add=Y2.prototype.push=Htt;Y2.prototype.has=Gtt;var Tde=Y2;function Vtt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Mde=Vtt;function Xtt(e,t){return e.has(t)}var Nde=Xtt,Ktt=Tde,Ytt=Mde,Qtt=Nde,Jtt=1,Ztt=2;function ent(e,t,n,r,i,o){var a=n&Jtt,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,h=n&Ztt?new Ktt:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],g=t[f];if(r)var m=a?r(g,p,f,t,e,o):r(p,g,f,e,t,o);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!Ytt(t,function(y,v){if(!Qtt(h,v)&&(p===y||i(p,y,n,r,o)))return h.push(v)})){d=!1;break}}else if(!(p===g||i(p,g,n,r,o))){d=!1;break}}return o.delete(e),o.delete(t),d}var Rde=ent,tnt=Va,nnt=tnt.Uint8Array,Dde=nnt;function rnt(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var int=rnt;function ont(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var xz=ont,mG=Bm,yG=Dde,ant=tC,snt=Rde,lnt=int,unt=xz,cnt=1,fnt=2,dnt="[object Boolean]",hnt="[object Date]",pnt="[object Error]",gnt="[object Map]",mnt="[object Number]",ynt="[object RegExp]",vnt="[object Set]",bnt="[object String]",xnt="[object Symbol]",wnt="[object ArrayBuffer]",Snt="[object DataView]",vG=mG?mG.prototype:void 0,$T=vG?vG.valueOf:void 0;function Ent(e,t,n,r,i,o,a){switch(n){case Snt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wnt:return!(e.byteLength!=t.byteLength||!o(new yG(e),new yG(t)));case dnt:case hnt:case mnt:return ant(+e,+t);case pnt:return e.name==t.name&&e.message==t.message;case ynt:case bnt:return e==t+"";case gnt:var s=lnt;case vnt:var l=r&cnt;if(s||(s=unt),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=fnt,a.set(e,t);var c=snt(s(e),s(t),r,i,o,a);return a.delete(e),c;case xnt:if($T)return $T.call(e)==$T.call(t)}return!1}var _nt=Ent;function Ant(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var wz=Ant,$nt=wz,Ont=ui;function Cnt(e,t,n){var r=t(e);return Ont(e)?r:$nt(r,n(e))}var Ide=Cnt;function knt(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var Pnt=knt;function Tnt(){return[]}var Fde=Tnt,Mnt=Pnt,Nnt=Fde,Rnt=Object.prototype,Dnt=Rnt.propertyIsEnumerable,bG=Object.getOwnPropertySymbols,Int=bG?function(e){return e==null?[]:(e=Object(e),Mnt(bG(e),function(t){return Dnt.call(e,t)}))}:Nnt,Sz=Int;function Fnt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var jnt=Fnt,Lnt=xu,znt=Xa,Bnt="[object Arguments]";function Unt(e){return znt(e)&&Lnt(e)==Bnt}var Wnt=Unt,xG=Wnt,qnt=Xa,jde=Object.prototype,Hnt=jde.hasOwnProperty,Gnt=jde.propertyIsEnumerable,Vnt=xG(function(){return arguments}())?xG:function(e){return qnt(e)&&Hnt.call(e,"callee")&&!Gnt.call(e,"callee")},Ez=Vnt,Q2={exports:{}};function Xnt(){return!1}var Knt=Xnt;Q2.exports;(function(e,t){var n=Va,r=Knt,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u})(Q2,Q2.exports);var _z=Q2.exports,Ynt=9007199254740991,Qnt=/^(?:0|[1-9]\d*)$/;function Jnt(e,t){var n=typeof e;return t=t??Ynt,!!t&&(n=="number"||n!="symbol"&&Qnt.test(e))&&e>-1&&e%1==0&&e<t}var Az=Jnt,Znt=9007199254740991;function ert(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Znt}var $z=ert,trt=xu,nrt=$z,rrt=Xa,irt="[object Arguments]",ort="[object Array]",art="[object Boolean]",srt="[object Date]",lrt="[object Error]",urt="[object Function]",crt="[object Map]",frt="[object Number]",drt="[object Object]",hrt="[object RegExp]",prt="[object Set]",grt="[object String]",mrt="[object WeakMap]",yrt="[object ArrayBuffer]",vrt="[object DataView]",brt="[object Float32Array]",xrt="[object Float64Array]",wrt="[object Int8Array]",Srt="[object Int16Array]",Ert="[object Int32Array]",_rt="[object Uint8Array]",Art="[object Uint8ClampedArray]",$rt="[object Uint16Array]",Ort="[object Uint32Array]",It={};It[brt]=It[xrt]=It[wrt]=It[Srt]=It[Ert]=It[_rt]=It[Art]=It[$rt]=It[Ort]=!0;It[irt]=It[ort]=It[yrt]=It[art]=It[vrt]=It[srt]=It[lrt]=It[urt]=It[crt]=It[frt]=It[drt]=It[hrt]=It[prt]=It[grt]=It[mrt]=!1;function Crt(e){return rrt(e)&&nrt(e.length)&&!!It[trt(e)]}var krt=Crt;function Prt(e){return function(t){return e(t)}}var xC=Prt,J2={exports:{}};J2.exports;(function(e,t){var n=sde,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(J2,J2.exports);var Oz=J2.exports,Trt=krt,Mrt=xC,wG=Oz,SG=wG&&wG.isTypedArray,Nrt=SG?Mrt(SG):Trt,Lde=Nrt,Rrt=jnt,Drt=Ez,Irt=ui,Frt=_z,jrt=Az,Lrt=Lde,zrt=Object.prototype,Brt=zrt.hasOwnProperty;function Urt(e,t){var n=Irt(e),r=!n&&Drt(e),i=!n&&!r&&Frt(e),o=!n&&!r&&!i&&Lrt(e),a=n||r||i||o,s=a?Rrt(e.length,String):[],l=s.length;for(var u in e)(t||Brt.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||jrt(u,l)))&&s.push(u);return s}var zde=Urt,Wrt=Object.prototype;function qrt(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Wrt;return e===n}var Cz=qrt;function Hrt(e,t){return function(n){return e(t(n))}}var Bde=Hrt,Grt=Bde,Vrt=Grt(Object.keys,Object),Xrt=Vrt,Krt=Cz,Yrt=Xrt,Qrt=Object.prototype,Jrt=Qrt.hasOwnProperty;function Zrt(e){if(!Krt(e))return Yrt(e);var t=[];for(var n in Object(e))Jrt.call(e,n)&&n!="constructor"&&t.push(n);return t}var eit=Zrt,tit=cz,nit=$z;function rit(e){return e!=null&&nit(e.length)&&!tit(e)}var Zb=rit,iit=zde,oit=eit,ait=Zb;function sit(e){return ait(e)?iit(e):oit(e)}var ex=sit,lit=Ide,uit=Sz,cit=ex;function fit(e){return lit(e,cit,uit)}var Ude=fit,EG=Ude,dit=1,hit=Object.prototype,pit=hit.hasOwnProperty;function git(e,t,n,r,i,o){var a=n&dit,s=EG(e),l=s.length,u=EG(t),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in t:pit.call(t,d)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var g=!0;o.set(e,t),o.set(t,e);for(var m=a;++f<l;){d=s[f];var y=e[d],v=t[d];if(r)var b=a?r(v,y,d,t,e,o):r(y,v,d,e,t,o);if(!(b===void 0?y===v||i(y,v,n,r,o):b)){g=!1;break}m||(m=d=="constructor")}if(g&&!m){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof w=="function"&&w instanceof w)&&(g=!1)}return o.delete(e),o.delete(t),g}var mit=git,yit=ch,vit=Va,bit=yit(vit,"DataView"),xit=bit,wit=ch,Sit=Va,Eit=wit(Sit,"Promise"),_it=Eit,Ait=ch,$it=Va,Oit=Ait($it,"Set"),Wde=Oit,Cit=ch,kit=Va,Pit=Cit(kit,"WeakMap"),Tit=Pit,ID=xit,FD=fz,jD=_it,LD=Wde,zD=Tit,qde=xu,Km=ude,_G="[object Map]",Mit="[object Object]",AG="[object Promise]",$G="[object Set]",OG="[object WeakMap]",CG="[object DataView]",Nit=Km(ID),Rit=Km(FD),Dit=Km(jD),Iit=Km(LD),Fit=Km(zD),Pf=qde;(ID&&Pf(new ID(new ArrayBuffer(1)))!=CG||FD&&Pf(new FD)!=_G||jD&&Pf(jD.resolve())!=AG||LD&&Pf(new LD)!=$G||zD&&Pf(new zD)!=OG)&&(Pf=function(e){var t=qde(e),n=t==Mit?e.constructor:void 0,r=n?Km(n):"";if(r)switch(r){case Nit:return CG;case Rit:return _G;case Dit:return AG;case Iit:return $G;case Fit:return OG}return t});var wC=Pf,OT=bz,jit=Rde,Lit=_nt,zit=mit,kG=wC,PG=ui,TG=_z,Bit=Lde,Uit=1,MG="[object Arguments]",NG="[object Array]",Cw="[object Object]",Wit=Object.prototype,RG=Wit.hasOwnProperty;function qit(e,t,n,r,i,o){var a=PG(e),s=PG(t),l=a?NG:kG(e),u=s?NG:kG(t);l=l==MG?Cw:l,u=u==MG?Cw:u;var c=l==Cw,f=u==Cw,d=l==u;if(d&&TG(e)){if(!TG(t))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new OT),a||Bit(e)?jit(e,t,n,r,i,o):Lit(e,t,l,n,r,i,o);if(!(n&Uit)){var h=c&&RG.call(e,"__wrapped__"),p=f&&RG.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,m=p?t.value():t;return o||(o=new OT),i(g,m,n,r,o)}}return d?(o||(o=new OT),zit(e,t,n,r,i,o)):!1}var Hit=qit,Git=Hit,DG=Xa;function Hde(e,t,n,r,i){return e===t?!0:e==null||t==null||!DG(e)&&!DG(t)?e!==e&&t!==t:Git(e,t,n,r,Hde,i)}var kz=Hde,Vit=bz,Xit=kz,Kit=1,Yit=2;function Qit(e,t,n,r){var i=n.length,o=i,a=!r;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in e))return!1}else{var f=new Vit;if(r)var d=r(u,c,l,e,t,f);if(!(d===void 0?Xit(c,u,Kit|Yit,r,f):d))return!1}}return!0}var Jit=Qit,Zit=Ka;function eot(e){return e===e&&!Zit(e)}var Gde=eot,tot=Gde,not=ex;function rot(e){for(var t=not(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,tot(i)]}return t}var iot=rot;function oot(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Vde=oot,aot=Jit,sot=iot,lot=Vde;function uot(e){var t=sot(e);return t.length==1&&t[0][2]?lot(t[0][0],t[0][1]):function(n){return n===e||aot(n,e,t)}}var cot=uot;function fot(e,t){return e!=null&&t in Object(e)}var dot=fot,hot=aC,pot=Ez,got=ui,mot=Az,yot=$z,vot=Qb;function bot(e,t,n){t=hot(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=vot(t[r]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&yot(i)&&mot(a,i)&&(got(e)||pot(e)))}var xot=bot,wot=dot,Sot=xot;function Eot(e,t){return e!=null&&Sot(e,t,wot)}var _ot=Eot,Aot=kz,$ot=pde,Oot=_ot,Cot=uz,kot=Gde,Pot=Vde,Tot=Qb,Mot=1,Not=2;function Rot(e,t){return Cot(e)&&kot(t)?Pot(Tot(e),t):function(n){var r=$ot(n,e);return r===void 0&&r===t?Oot(n,e):Aot(t,r,Mot|Not)}}var Dot=Rot;function Iot(e){return e}var Ym=Iot;function Fot(e){return function(t){return t==null?void 0:t[e]}}var jot=Fot,Lot=sC;function zot(e){return function(t){return Lot(t,e)}}var Bot=zot,Uot=jot,Wot=Bot,qot=uz,Hot=Qb;function Got(e){return qot(e)?Uot(Hot(e)):Wot(e)}var Vot=Got,Xot=cot,Kot=Dot,Yot=Ym,Qot=ui,Jot=Vot;function Zot(e){return typeof e=="function"?e:e==null?Yot:typeof e=="object"?Qot(e)?Kot(e[0],e[1]):Xot(e):Jot(e)}var lf=Zot;function eat(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var tat=eat;function nat(e){return e!==e}var rat=nat;function iat(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var oat=iat,aat=tat,sat=rat,lat=oat;function uat(e,t,n){return t===t?lat(e,t,n):aat(e,sat,n)}var cat=uat,fat=cat;function dat(e,t){var n=e==null?0:e.length;return!!n&&fat(e,t,0)>-1}var hat=dat;function pat(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var gat=pat;function mat(){}var yat=mat,CT=Wde,vat=yat,bat=xz,xat=1/0,wat=CT&&1/bat(new CT([,-0]))[1]==xat?function(e){return new CT(e)}:vat,Sat=wat,Eat=Tde,_at=hat,Aat=gat,$at=Nde,Oat=Sat,Cat=xz,kat=200;function Pat(e,t,n){var r=-1,i=_at,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=Aat;else if(o>=kat){var u=t?null:Oat(e);if(u)return Cat(u);a=!1,i=$at,l=new Eat}else l=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Tat=Pat,Mat=lf,Nat=Tat;function Rat(e,t){return e&&e.length?Nat(e,Mat(t)):[]}var Dat=Rat;const IG=lt(Dat);function Xde(e,t,n){return t===!0?IG(e,n):Te(t)?IG(e,t):e}function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}var Iat=["ref"];function FG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FG(Object(n),!0).forEach(function(r){SC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yde(r.key),r)}}function jat(e,t,n){return t&&jG(e.prototype,t),n&&jG(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lat(e,t,n){return t=Z2(t),zat(e,Kde()?Reflect.construct(t,n||[],Z2(e).constructor):t.apply(e,n))}function zat(e,t){if(t&&(Fg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bat(e)}function Bat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kde=function(){return!!e})()}function Z2(e){return Z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z2(e)}function Uat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BD(e,t)}function BD(e,t){return BD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BD(e,t)}function SC(e,t,n){return t=Yde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yde(e){var t=Wat(e,"string");return Fg(t)=="symbol"?t:t+""}function Wat(e,t){if(Fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qat(e,t){if(e==null)return{};var n=Hat(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hat(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Gat(e){return e.value}function Vat(e,t){if(D.isValidElement(e))return D.cloneElement(e,t);if(typeof e=="function")return D.createElement(e,t);t.ref;var n=qat(t,Iat);return D.createElement(vz,n)}var LG=1,Pp=function(e){function t(){var n;Fat(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Lat(this,t,[].concat(i)),SC(n,"lastBoundingBox",{width:-1,height:-1}),n}return Uat(t,e),jat(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>LG||Math.abs(i.height-this.lastBoundingBox.height)>LG)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var p=this.getBBoxSnapshot();d={top:((c||0)-p.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return fl(fl({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=fl(fl({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){r.wrapperNode=h}},Vat(o,fl(fl({},this.props),{},{payload:Xde(c,u,Gat)})))}}],[{key:"getWithHeight",value:function(r,i){var o=fl(fl({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&he(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(T.PureComponent);SC(Pp,"displayName","Legend");SC(Pp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zG=Bm,Xat=Ez,Kat=ui,BG=zG?zG.isConcatSpreadable:void 0;function Yat(e){return Kat(e)||Xat(e)||!!(BG&&e&&e[BG])}var Qat=Yat,Jat=wz,Zat=Qat;function Qde(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Zat),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Qde(s,t-1,n,r,i):Jat(i,s):r||(i[i.length]=s)}return i}var Pz=Qde;function est(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(n(o[l],l,o)===!1)break}return t}}var tst=est,nst=tst,rst=nst(),ist=rst,ost=ist,ast=ex;function sst(e,t){return e&&ost(e,t,ast)}var Jde=sst,lst=Zb;function ust(e,t){return function(n,r){if(n==null)return n;if(!lst(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var cst=ust,fst=Jde,dst=cst,hst=dst(fst),Tz=hst,pst=Tz,gst=Zb;function mst(e,t){var n=-1,r=gst(e)?Array(e.length):[];return pst(e,function(i,o,a){r[++n]=t(i,o,a)}),r}var Zde=mst;function yst(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var vst=yst,UG=Um;function bst(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=UG(e),a=t!==void 0,s=t===null,l=t===t,u=UG(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var xst=bst,wst=xst;function Sst(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=wst(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var Est=Sst,kT=oC,_st=sC,Ast=lf,$st=Zde,Ost=vst,Cst=xC,kst=Est,Pst=Ym,Tst=ui;function Mst(e,t,n){t.length?t=kT(t,function(o){return Tst(o)?function(a){return _st(a,o.length===1?o[0]:o)}:o}):t=[Pst];var r=-1;t=kT(t,Cst(Ast));var i=$st(e,function(o,a,s){var l=kT(t,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Ost(i,function(o,a){return kst(o,a,n)})}var Nst=Mst;function Rst(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Dst=Rst,Ist=Dst,WG=Math.max;function Fst(e,t,n){return t=WG(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=WG(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Ist(e,this,s)}}var ehe=Fst;function jst(e){return function(){return e}}var Lst=jst,zst=ch,Bst=function(){try{var e=zst(Object,"defineProperty");return e({},"",{}),e}catch{}}(),the=Bst,Ust=Lst,qG=the,Wst=Ym,qst=qG?function(e,t){return qG(e,"toString",{configurable:!0,enumerable:!1,value:Ust(t),writable:!0})}:Wst,Hst=qst,Gst=800,Vst=16,Xst=Date.now;function Kst(e){var t=0,n=0;return function(){var r=Xst(),i=Vst-(r-n);if(n=r,i>0){if(++t>=Gst)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Yst=Kst,Qst=Hst,Jst=Yst,Zst=Jst(Qst),nhe=Zst,elt=Ym,tlt=ehe,nlt=nhe;function rlt(e,t){return nlt(tlt(e,t,elt),e+"")}var ilt=rlt,olt=tC,alt=Zb,slt=Az,llt=Ka;function ult(e,t,n){if(!llt(n))return!1;var r=typeof t;return(r=="number"?alt(n)&&slt(t,n.length):r=="string"&&t in n)?olt(n[t],e):!1}var EC=ult,clt=Pz,flt=Nst,dlt=ilt,HG=EC,hlt=dlt(function(e,t){if(e==null)return[];var n=t.length;return n>1&&HG(e,t[0],t[1])?t=[]:n>2&&HG(t[0],t[1],t[2])&&(t=[t[0]]),flt(e,clt(t,1),[])}),plt=hlt;const Mz=lt(plt);function u1(e){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(e)}function UD(){return UD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UD.apply(this,arguments)}function glt(e,t){return blt(e)||vlt(e,t)||ylt(e,t)||mlt()}function mlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ylt(e,t){if(e){if(typeof e=="string")return GG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GG(e,t)}}function GG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vlt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function blt(e){if(Array.isArray(e))return e}function VG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VG(Object(n),!0).forEach(function(r){xlt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xlt(e,t,n){return t=wlt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wlt(e){var t=Slt(e,"string");return u1(t)=="symbol"?t:t+""}function Slt(e,t){if(u1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(u1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Elt(e){return Array.isArray(e)&&Mn(e[0])&&Mn(e[1])?e.join(" ~ "):e}var _lt=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,a=t.itemStyle,s=a===void 0?{}:a,l=t.labelStyle,u=l===void 0?{}:l,c=t.payload,f=t.formatter,d=t.itemSorter,h=t.wrapperClassName,p=t.labelClassName,g=t.label,m=t.labelFormatter,y=t.accessibilityLayer,v=y===void 0?!1:y,b=function(){if(c&&c.length){var P={padding:0,margin:0},R=(d?Mz(c,d):c).map(function(k,C){if(k.type==="none")return null;var M=PT({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},s),I=k.formatter||f||Elt,N=k.value,F=k.name,L=N,z=F;if(I&&L!=null&&z!=null){var B=I(N,F,k,C,c);if(Array.isArray(B)){var V=glt(B,2);L=V[0],z=V[1]}else L=B}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:M},Mn(z)?D.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Mn(z)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},L),D.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:P},R)}return null},x=PT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=PT({margin:0},u),E=!ze(g),S=E?g:"",A=ke("recharts-default-tooltip",h),$=ke("recharts-tooltip-label",p);E&&m&&c!==void 0&&c!==null&&(S=m(g,c));var _=v?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",UD({className:A,style:x},_),D.createElement("p",{className:$,style:w},D.isValidElement(S)?S:"".concat(S)),b())};function c1(e){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c1(e)}function kw(e,t,n){return t=Alt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Alt(e){var t=$lt(e,"string");return c1(t)=="symbol"?t:t+""}function $lt(e,t){if(c1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(c1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ly="recharts-tooltip-wrapper",Olt={visibility:"hidden"};function Clt(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return ke(Ly,kw(kw(kw(kw({},"".concat(Ly,"-right"),he(n)&&t&&he(t.x)&&n>=t.x),"".concat(Ly,"-left"),he(n)&&t&&he(t.x)&&n<t.x),"".concat(Ly,"-bottom"),he(r)&&t&&he(t.y)&&r>=t.y),"".concat(Ly,"-top"),he(r)&&t&&he(t.y)&&r<t.y))}function XG(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(o&&he(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(t[r])return a[r]?c:f;if(a[r]){var d=c,h=l[r];return d<h?Math.max(f,l[r]):Math.max(c,l[r])}var p=f+s,g=l[r]+u;return p>g?Math.max(c,l[r]):Math.max(f,l[r])}function klt(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Plt(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,a=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=XG({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=XG({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=klt({translateX:c,translateY:f,useTranslate3d:s})):u=Olt,{cssProperties:u,cssClasses:Clt({translateX:c,translateY:f,coordinate:n})}}function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function KG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KG(Object(n),!0).forEach(function(r){qD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tlt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mlt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ihe(r.key),r)}}function Nlt(e,t,n){return t&&Mlt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rlt(e,t,n){return t=e_(t),Dlt(e,rhe()?Reflect.construct(t,n||[],e_(e).constructor):t.apply(e,n))}function Dlt(e,t){if(t&&(jg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ilt(e)}function Ilt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rhe=function(){return!!e})()}function e_(e){return e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e_(e)}function Flt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WD(e,t)}function WD(e,t){return WD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WD(e,t)}function qD(e,t,n){return t=ihe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ihe(e){var t=jlt(e,"string");return jg(t)=="symbol"?t:t+""}function jlt(e,t){if(jg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QG=1,Llt=function(e){function t(){var n;Tlt(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Rlt(this,t,[].concat(i)),qD(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qD(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Flt(t,e),Nlt(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>QG||Math.abs(r.height-this.state.lastBoundingBox.height)>QG)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,h=i.offset,p=i.position,g=i.reverseDirection,m=i.useTranslate3d,y=i.viewBox,v=i.wrapperStyle,b=Plt({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:y}),x=b.cssClasses,w=b.cssProperties,E=YG(YG({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return D.createElement("div",{tabIndex:-1,className:x,style:E,ref:function(A){r.wrapperNode=A}},u)}}])}(T.PureComponent),zlt=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Io={isSsr:zlt(),get:function(t){return Io[t]},set:function(t,n){if(typeof t=="string")Io[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){Io[i]=t[i]})}}};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function JG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JG(Object(n),!0).forEach(function(r){Nz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Blt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ult(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ahe(r.key),r)}}function Wlt(e,t,n){return t&&Ult(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qlt(e,t,n){return t=t_(t),Hlt(e,ohe()?Reflect.construct(t,n||[],t_(e).constructor):t.apply(e,n))}function Hlt(e,t){if(t&&(Lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Glt(e)}function Glt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ohe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ohe=function(){return!!e})()}function t_(e){return t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t_(e)}function Vlt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HD(e,t)}function HD(e,t){return HD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HD(e,t)}function Nz(e,t,n){return t=ahe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ahe(e){var t=Xlt(e,"string");return Lg(t)=="symbol"?t:t+""}function Xlt(e,t){if(Lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Klt(e){return e.dataKey}function Ylt(e,t){return D.isValidElement(e)?D.cloneElement(e,t):typeof e=="function"?D.createElement(e,t):D.createElement(_lt,t)}var Bi=function(e){function t(){return Blt(this,t),qlt(this,t,arguments)}return Vlt(t,e),Wlt(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,h=i.offset,p=i.payload,g=i.payloadUniqBy,m=i.position,y=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,x=i.wrapperStyle,w=p??[];f&&w.length&&(w=Xde(p.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),g,Klt));var E=w.length>0;return D.createElement(Llt,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:E,offset:h,position:m,reverseDirection:y,useTranslate3d:v,viewBox:b,wrapperStyle:x},Ylt(u,ZG(ZG({},this.props),{},{payload:w})))}}])}(T.PureComponent);Nz(Bi,"displayName","Tooltip");Nz(Bi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Io.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Qlt=Va,Jlt=function(){return Qlt.Date.now()},Zlt=Jlt,eut=/\s/;function tut(e){for(var t=e.length;t--&&eut.test(e.charAt(t)););return t}var nut=tut,rut=nut,iut=/^\s+/;function out(e){return e&&e.slice(0,rut(e)+1).replace(iut,"")}var aut=out,sut=aut,eV=Ka,lut=Um,tV=NaN,uut=/^[-+]0x[0-9a-f]+$/i,cut=/^0b[01]+$/i,fut=/^0o[0-7]+$/i,dut=parseInt;function hut(e){if(typeof e=="number")return e;if(lut(e))return tV;if(eV(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=eV(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=sut(e);var n=cut.test(e);return n||fut.test(e)?dut(e.slice(2),n?2:8):uut.test(e)?tV:+e}var she=hut,put=Ka,TT=Zlt,nV=she,gut="Expected a function",mut=Math.max,yut=Math.min;function vut(e,t,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(gut);t=nV(t)||0,put(n)&&(c=!!n.leading,f="maxWait"in n,o=f?mut(nV(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function h(E){var S=r,A=i;return r=i=void 0,u=E,a=e.apply(A,S),a}function p(E){return u=E,s=setTimeout(y,t),c?h(E):a}function g(E){var S=E-l,A=E-u,$=t-S;return f?yut($,o-A):$}function m(E){var S=E-l,A=E-u;return l===void 0||S>=t||S<0||f&&A>=o}function y(){var E=TT();if(m(E))return v(E);s=setTimeout(y,g(E))}function v(E){return s=void 0,d&&r?h(E):(r=i=void 0,a)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function x(){return s===void 0?a:v(TT())}function w(){var E=TT(),S=m(E);if(r=arguments,i=this,l=E,S){if(s===void 0)return p(l);if(f)return clearTimeout(s),s=setTimeout(y,t),h(l)}return s===void 0&&(s=setTimeout(y,t)),a}return w.cancel=b,w.flush=x,w}var but=vut,xut=but,wut=Ka,Sut="Expected a function";function Eut(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(Sut);return wut(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xut(e,t,{leading:r,maxWait:t,trailing:i})}var _ut=Eut;const lhe=lt(_ut);function f1(e){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(e)}function rV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rV(Object(n),!0).forEach(function(r){Aut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aut(e,t,n){return t=$ut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ut(e){var t=Out(e,"string");return f1(t)=="symbol"?t:t+""}function Out(e,t){if(f1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(f1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cut(e,t){return Mut(e)||Tut(e,t)||Put(e,t)||kut()}function kut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Put(e,t){if(e){if(typeof e=="string")return iV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iV(e,t)}}function iV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tut(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Mut(e){if(Array.isArray(e))return e}var Rz=T.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,a=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,c=u===void 0?0:u,f=e.minHeight,d=e.maxHeight,h=e.children,p=e.debounce,g=p===void 0?0:p,m=e.id,y=e.className,v=e.onResize,b=e.style,x=b===void 0?{}:b,w=T.useRef(null),E=T.useRef();E.current=v,T.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var S=T.useState({containerWidth:i.width,containerHeight:i.height}),A=Cut(S,2),$=A[0],_=A[1],O=T.useCallback(function(R,k){_(function(C){var M=Math.round(R),I=Math.round(k);return C.containerWidth===M&&C.containerHeight===I?C:{containerWidth:M,containerHeight:I}})},[]);T.useEffect(function(){var R=function(F){var L,z=F[0].contentRect,B=z.width,V=z.height;O(B,V),(L=E.current)===null||L===void 0||L.call(E,B,V)};g>0&&(R=lhe(R,g,{trailing:!0,leading:!1}));var k=new ResizeObserver(R),C=w.current.getBoundingClientRect(),M=C.width,I=C.height;return O(M,I),k.observe(w.current),function(){k.disconnect()}},[O,g]);var P=T.useMemo(function(){var R=$.containerWidth,k=$.containerHeight;if(R<0||k<0)return null;ld(qf(a)||qf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),ld(!n||n>0,"The aspect(%s) must be greater than zero.",n);var C=qf(a)?R:a,M=qf(l)?k:l;n&&n>0&&(C?M=C/n:M&&(C=M*n),d&&M>d&&(M=d)),ld(C>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,M,a,l,c,f,n);var I=!Array.isArray(h)&&Bl(h.type).endsWith("Chart");return D.Children.map(h,function(N){return yde.isElement(N)?T.cloneElement(N,Pw({width:C,height:M},I?{style:Pw({height:"100%",width:"100%",maxHeight:M,maxWidth:C},N.props.style)}:{})):N})},[n,h,l,d,f,c,$,a]);return D.createElement("div",{id:m?"".concat(m):void 0,className:ke("recharts-responsive-container",y),style:Pw(Pw({},x),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:w},P)}),uhe=function(t){return null};uhe.displayName="Cell";function d1(e){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d1(e)}function oV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oV(Object(n),!0).forEach(function(r){Nut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nut(e,t,n){return t=Rut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rut(e){var t=Dut(e,"string");return d1(t)=="symbol"?t:t+""}function Dut(e,t){if(d1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(d1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nh={widthCache:{},cacheCount:0},Iut=2e3,Fut={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aV="recharts_measurement_span";function jut(e){var t=GD({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Tp=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Io.isSsr)return{width:0,height:0};var r=jut(n),i=JSON.stringify({text:t,copyStyle:r});if(Nh.widthCache[i])return Nh.widthCache[i];try{var o=document.getElementById(aV);o||(o=document.createElement("span"),o.setAttribute("id",aV),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=GD(GD({},Fut),r);Object.assign(o.style,a),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Nh.widthCache[i]=l,++Nh.cacheCount>Iut&&(Nh.cacheCount=0,Nh.widthCache={}),l}catch{return{width:0,height:0}}},Lut=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function h1(e){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(e)}function n_(e,t){return Wut(e)||Uut(e,t)||But(e,t)||zut()}function zut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function But(e,t){if(e){if(typeof e=="string")return sV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sV(e,t)}}function sV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uut(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Wut(e){if(Array.isArray(e))return e}function qut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gut(r.key),r)}}function Hut(e,t,n){return t&&lV(e.prototype,t),n&&lV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gut(e){var t=Vut(e,"string");return h1(t)=="symbol"?t:t+""}function Vut(e,t){if(h1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(h1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xut=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Kut=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,che={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Yut=Object.keys(che),ap="NaN";function Qut(e,t){return e*che[t]}var Tw=function(){function e(t,n){qut(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Xut.test(n)&&(this.num=NaN,this.unit=""),Yut.includes(n)&&(this.num=Qut(t,n),this.unit="px")}return Hut(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Kut.exec(n))!==null&&r!==void 0?r:[],o=n_(i,3),a=o[1],s=o[2];return new e(parseFloat(a),s??"")}}])}();function fhe(e){if(e.includes(ap))return ap;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=uV.exec(t))!==null&&n!==void 0?n:[],i=n_(r,4),o=i[1],a=i[2],s=i[3],l=Tw.parse(o??""),u=Tw.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return ap;t=t.replace(uV,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,d=(f=cV.exec(t))!==null&&f!==void 0?f:[],h=n_(d,4),p=h[1],g=h[2],m=h[3],y=Tw.parse(p??""),v=Tw.parse(m??""),b=g==="+"?y.add(v):y.subtract(v);if(b.isNaN())return ap;t=t.replace(cV,b.toString())}return t}var fV=/\(([^()]*)\)/;function Jut(e){for(var t=e;t.includes("(");){var n=fV.exec(t),r=n_(n,2),i=r[1];t=t.replace(fV,fhe(i))}return t}function Zut(e){var t=e.replace(/\s+/g,"");return t=Jut(t),t=fhe(t),t}function ect(e){try{return Zut(e)}catch{return ap}}function MT(e){var t=ect(e.slice(5,-1));return t===ap?"":t}var tct=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nct=["dx","dy","angle","className","breakAll"];function VD(){return VD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VD.apply(this,arguments)}function dV(e,t){if(e==null)return{};var n=rct(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rct(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function hV(e,t){return sct(e)||act(e,t)||oct(e,t)||ict()}function ict(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oct(e,t){if(e){if(typeof e=="string")return pV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pV(e,t)}}function pV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function act(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function sct(e){if(Array.isArray(e))return e}var dhe=/[ \f\n\r\t\v\u2028\u2029]+/,hhe=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];ze(n)||(r?o=n.toString().split(""):o=n.toString().split(dhe));var a=o.map(function(l){return{word:l,width:Tp(l,i).width}}),s=r?0:Tp("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},lct=function(t,n,r,i,o){var a=t.maxLines,s=t.children,l=t.style,u=t.breakAll,c=he(a),f=s,d=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce(function(M,I){var N=I.word,F=I.width,L=M[M.length-1];if(L&&(i==null||o||L.width+F+r<Number(i)))L.words.push(N),L.width+=F+r;else{var z={words:[N],width:F};M.push(z)}return M},[])},h=d(n),p=function(C){return C.reduce(function(M,I){return M.width>I.width?M:I})};if(!c)return h;for(var g="",m=function(C){var M=f.slice(0,C),I=hhe({breakAll:u,style:l,children:M+g}).wordsWithComputedWidth,N=d(I),F=N.length>a||p(N).width>Number(i);return[F,N]},y=0,v=f.length-1,b=0,x;y<=v&&b<=f.length-1;){var w=Math.floor((y+v)/2),E=w-1,S=m(E),A=hV(S,2),$=A[0],_=A[1],O=m(w),P=hV(O,1),R=P[0];if(!$&&!R&&(y=w+1),$&&R&&(v=w-1),!$&&R){x=_;break}b++}return x||h},gV=function(t){var n=ze(t)?[]:t.toString().split(dhe);return[{words:n}]},uct=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,a=t.breakAll,s=t.maxLines;if((n||r)&&!Io.isSsr){var l,u,c=hhe({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return gV(i);return lct({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return gV(i)},mV="#808080",zg=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.lineHeight,s=a===void 0?"1em":a,l=t.capHeight,u=l===void 0?"0.71em":l,c=t.scaleToFit,f=c===void 0?!1:c,d=t.textAnchor,h=d===void 0?"start":d,p=t.verticalAnchor,g=p===void 0?"end":p,m=t.fill,y=m===void 0?mV:m,v=dV(t,tct),b=T.useMemo(function(){return uct({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),x=v.dx,w=v.dy,E=v.angle,S=v.className,A=v.breakAll,$=dV(v,nct);if(!Mn(r)||!Mn(o))return null;var _=r+(he(x)?x:0),O=o+(he(w)?w:0),P;switch(g){case"start":P=MT("calc(".concat(u,")"));break;case"middle":P=MT("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:P=MT("calc(".concat(b.length-1," * -").concat(s,")"));break}var R=[];if(f){var k=b[0].width,C=v.width;R.push("scale(".concat((he(C)?C/k:1)/k,")"))}return E&&R.push("rotate(".concat(E,", ").concat(_,", ").concat(O,")")),R.length&&($.transform=R.join(" ")),D.createElement("text",VD({},Se($,!0),{x:_,y:O,className:ke("recharts-text",S),textAnchor:h,fill:y.includes("url")?mV:y}),b.map(function(M,I){var N=M.words.join(A?"":" ");return D.createElement("tspan",{x:_,dy:I===0?P:s,key:"".concat(N,"-").concat(I)},N)}))};const yV=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cv,scaleDiverging:J5,scaleDivergingLog:Z5,scaleDivergingPow:UA,scaleDivergingSqrt:nre,scaleDivergingSymlog:ej,scaleIdentity:z5,scaleImplicit:EE,scaleLinear:Mv,scaleLog:U5,scaleOrdinal:ob,scalePoint:T0,scalePow:FA,scaleQuantile:G5,scaleQuantize:V5,scaleRadial:Qne,scaleSequential:LA,scaleSequentialLog:Y5,scaleSequentialPow:zA,scaleSequentialQuantile:tre,scaleSequentialSqrt:ere,scaleSequentialSymlog:Q5,scaleSqrt:Yne,scaleSymlog:q5,scaleThreshold:X5,scaleTime:Jne,scaleUtc:Zne,tickFormat:L5},Symbol.toStringTag,{value:"Module"}));var cct=Um;function fct(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(a!=null&&(s===void 0?a===a&&!cct(a):n(a,s)))var s=a,l=o}return l}var _C=fct;function dct(e,t){return e>t}var phe=dct,hct=_C,pct=phe,gct=Ym;function mct(e){return e&&e.length?hct(e,gct,pct):void 0}var yct=mct;const AC=lt(yct);function vct(e,t){return e<t}var ghe=vct,bct=_C,xct=ghe,wct=Ym;function Sct(e){return e&&e.length?bct(e,wct,xct):void 0}var Ect=Sct;const $C=lt(Ect);var _ct=oC,Act=lf,$ct=Zde,Oct=ui;function Cct(e,t){var n=Oct(e)?_ct:$ct;return n(e,Act(t))}var kct=Cct,Pct=Pz,Tct=kct;function Mct(e,t){return Pct(Tct(e,t),1)}var Nct=Mct;const Rct=lt(Nct);var Dct=kz;function Ict(e,t){return Dct(e,t)}var Fct=Ict;const tx=lt(Fct);var Qm=1e9,jct={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Iz,Ht=!0,Go="[DecimalError] ",ud=Go+"Invalid argument: ",Dz=Go+"Exponent out of range: ",Jm=Math.floor,Tf=Math.pow,Lct=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gi,In=1e7,Ft=7,mhe=9007199254740991,r_=Jm(mhe/Ft),ge={};ge.absoluteValue=ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ge.comparedTo=ge.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ft;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ge.dividedBy=ge.div=function(e){return Ul(this,new this.constructor(e))};ge.dividedToIntegerBy=ge.idiv=function(e){var t=this,n=t.constructor;return _t(Ul(t,new n(e),0,1),n.precision)};ge.equals=ge.eq=function(e){return!this.cmp(e)};ge.exponent=function(){return wn(this)};ge.greaterThan=ge.gt=function(e){return this.cmp(e)>0};ge.greaterThanOrEqualTo=ge.gte=function(e){return this.cmp(e)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(e){return this.cmp(e)<0};ge.lessThanOrEqualTo=ge.lte=function(e){return this.cmp(e)<1};ge.logarithm=ge.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Gi))throw Error(Go+"NaN");if(n.s<1)throw Error(Go+(n.s?"NaN":"-Infinity"));return n.eq(Gi)?new r(0):(Ht=!1,t=Ul(p1(n,o),p1(e,o),o),Ht=!0,_t(t,i))};ge.minus=ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bhe(t,e):yhe(t,(e.s=-e.s,e))};ge.modulo=ge.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Go+"NaN");return n.s?(Ht=!1,t=Ul(n,e,0,1).times(e),Ht=!0,n.minus(t)):_t(new r(n),i)};ge.naturalExponential=ge.exp=function(){return vhe(this)};ge.naturalLogarithm=ge.ln=function(){return p1(this)};ge.negated=ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ge.plus=ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yhe(t,e):bhe(t,(e.s=-e.s,e))};ge.precision=ge.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ud+e);if(t=wn(i)+1,r=i.d.length-1,n=r*Ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ge.squareRoot=ge.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Go+"NaN")}for(e=wn(s),Ht=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=xs(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Jm((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Ul(s,o,a+2)).times(.5),xs(o.d).slice(0,a)===(t=xs(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(_t(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return Ht=!0,_t(r,n)};ge.times=ge.mul=function(e){var t,n,r,i,o,a,s,l,u,c=this,f=c.constructor,d=c.d,h=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,n=c.e+e.e,l=d.length,u=h.length,l<u&&(o=d,d=h,h=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+h[r]*d[i-r-1]+t,o[i--]=s%In|0,t=s/In|0;o[i]=(o[i]+t)%In|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Ht?_t(e,f.precision):e};ge.toDecimalPlaces=ge.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ws(e,0,Qm),t===void 0?t=r.rounding:Ws(t,0,8),_t(n,e+wn(n)+1,t))};ge.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Bd(r,!0):(Ws(e,0,Qm),t===void 0?t=i.rounding:Ws(t,0,8),r=_t(new i(r),e+1,t),n=Bd(r,!0,e+1)),n};ge.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Bd(i):(Ws(e,0,Qm),t===void 0?t=o.rounding:Ws(t,0,8),r=_t(new o(i),e+wn(i)+1,t),n=Bd(r.abs(),!1,e+wn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ge.toInteger=ge.toint=function(){var e=this,t=e.constructor;return _t(new t(e),wn(e)+1,t.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Gi);if(s=new l(s),!s.s){if(e.s<1)throw Error(Go+"Infinity");return s}if(s.eq(Gi))return s;if(r=l.precision,e.eq(Gi))return _t(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=c<0?-c:c)<=mhe){for(i=new l(Gi),t=Math.ceil(r/Ft+4),Ht=!1;n%2&&(i=i.times(s),bV(i.d,t)),n=Jm(n/2),n!==0;)s=s.times(s),bV(s.d,t);return Ht=!0,e.s<0?new l(Gi).div(i):_t(i,r)}}else if(o<0)throw Error(Go+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,Ht=!1,i=e.times(p1(s,r+u)),Ht=!0,i=vhe(i),i.s=o,i};ge.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=wn(i),r=Bd(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ws(e,1,Qm),t===void 0?t=o.rounding:Ws(t,0,8),i=_t(new o(i),e,t),n=wn(i),r=Bd(i,e<=n||n<=o.toExpNeg,e)),r};ge.toSignificantDigits=ge.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ws(e,1,Qm),t===void 0?t=r.rounding:Ws(t,0,8)),_t(new r(n),e,t)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wn(e),n=e.constructor;return Bd(e,t<=n.toExpNeg||t>=n.toExpPos)};function yhe(e,t){var n,r,i,o,a,s,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Ht?_t(t,f):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Ft),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/In|0,l[o]%=In;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Ht?_t(t,f):t}function Ws(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ud+e)}function xs(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=Ft-r.length,n&&(o+=ju(n)),o+=r;a=e[t],r=a+"",n=Ft-r.length,n&&(o+=ju(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Ul=function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%In|0,a=o/In|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*In+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,d,h,p,g,m,y,v,b,x,w,E,S,A,$=r.constructor,_=r.s==i.s?1:-1,O=r.d,P=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(Go+"Division by zero");for(l=r.e-i.e,S=P.length,w=O.length,h=new $(_),p=h.d=[],u=0;P[u]==(O[u]||0);)++u;if(P[u]>(O[u]||0)&&--l,o==null?v=o=$.precision:a?v=o+(wn(r)-wn(i))+1:v=o,v<0)return new $(0);if(v=v/Ft+2|0,u=0,S==1)for(c=0,P=P[0],v++;(u<w||c)&&v--;u++)b=c*In+(O[u]||0),p[u]=b/P|0,c=b%P|0;else{for(c=In/(P[0]+1)|0,c>1&&(P=e(P,c),O=e(O,c),S=P.length,w=O.length),x=S,g=O.slice(0,S),m=g.length;m<S;)g[m++]=0;A=P.slice(),A.unshift(0),E=P[0],P[1]>=In/2&&++E;do c=0,s=t(P,g,S,m),s<0?(y=g[0],S!=m&&(y=y*In+(g[1]||0)),c=y/E|0,c>1?(c>=In&&(c=In-1),f=e(P,c),d=f.length,m=g.length,s=t(f,g,d,m),s==1&&(c--,n(f,S<d?A:P,d))):(c==0&&(s=c=1),f=P.slice()),d=f.length,d<m&&f.unshift(0),n(g,f,m),s==-1&&(m=g.length,s=t(P,g,S,m),s<1&&(c++,n(g,S<m?A:P,m))),m=g.length):s===0&&(c++,g=[0]),p[u++]=c,s&&g[0]?g[m++]=O[x]||0:(g=[O[x]],m=1);while((x++<w||g[0]!==void 0)&&v--)}return p[0]||p.shift(),h.e=l,_t(h,a?o+wn(h)+1:o)}}();function vhe(e,t){var n,r,i,o,a,s,l=0,u=0,c=e.constructor,f=c.precision;if(wn(e)>16)throw Error(Dz+wn(e));if(!e.s)return new c(Gi);for(t==null?(Ht=!1,s=f):s=t,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log(Tf(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Gi),c.precision=s;;){if(i=_t(i.times(e),s),n=n.times(++l),a=o.plus(Ul(i,n,s)),xs(a.d).slice(0,s)===xs(o.d).slice(0,s)){for(;u--;)o=_t(o.times(o),s);return c.precision=f,t==null?(Ht=!0,_t(o,f)):o}o=a}}function wn(e){for(var t=e.e*Ft,n=e.d[0];n>=10;n/=10)t++;return t}function NT(e,t,n){if(t>e.LN10.sd())throw Ht=!0,n&&(e.precision=n),Error(Go+"LN10 precision limit exceeded");return _t(new e(e.LN10),t)}function ju(e){for(var t="";e--;)t+="0";return t}function p1(e,t){var n,r,i,o,a,s,l,u,c,f=1,d=10,h=e,p=h.d,g=h.constructor,m=g.precision;if(h.s<1)throw Error(Go+(h.s?"NaN":"-Infinity"));if(h.eq(Gi))return new g(0);if(t==null?(Ht=!1,u=m):u=t,h.eq(10))return t==null&&(Ht=!0),NT(g,u);if(u+=d,g.precision=u,n=xs(p),r=n.charAt(0),o=wn(h),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(e),n=xs(h.d),r=n.charAt(0),f++;o=wn(h),r>1?(h=new g("0."+n),o++):h=new g(r+"."+n.slice(1))}else return l=NT(g,u+2,m).times(o+""),h=p1(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=m,t==null?(Ht=!0,_t(h,m)):h;for(s=a=h=Ul(h.minus(Gi),h.plus(Gi),u),c=_t(h.times(h),u),i=3;;){if(a=_t(a.times(c),u),l=s.plus(Ul(a,new g(i),u)),xs(l.d).slice(0,u)===xs(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(NT(g,u+2,m).times(o+""))),s=Ul(s,new g(f),u),g.precision=m,t==null?(Ht=!0,_t(s,m)):s;s=l,i+=2}}function vV(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Jm(n/Ft),e.d=[],r=(n+1)%Ft,n<0&&(r+=Ft),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ft;r<i;)e.d.push(+t.slice(r,r+=Ft));t=t.slice(r),r=Ft-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ht&&(e.e>r_||e.e<-r_))throw Error(Dz+n)}else e.s=0,e.e=0,e.d=[0];return e}function _t(e,t,n){var r,i,o,a,s,l,u,c,f=e.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=Ft,i=t,u=f[c=0];else{if(c=Math.ceil((r+1)/Ft),o=f.length,c>=o)return e;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=Ft,i=r-Ft+a}if(n!==void 0&&(o=Tf(10,a-i-1),s=u/o%10|0,l=t<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Tf(10,a-i):0:f[c-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(o=wn(e),f.length=1,t=t-o-1,f[0]=Tf(10,(Ft-t%Ft)%Ft),e.e=Jm(-t/Ft)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Tf(10,Ft-r),f[c]=i>0?(u/Tf(10,a-i)%Tf(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==In&&(f[0]=1,++e.e);break}else{if(f[c]+=o,f[c]!=In)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Ht&&(e.e>r_||e.e<-r_))throw Error(Dz+wn(e));return e}function bhe(e,t){var n,r,i,o,a,s,l,u,c,f,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),Ht?_t(t,h):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(h/Ft),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=In-1;--l[o],l[i]+=In}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Ht?_t(t,h):t):new d(0)}function Bd(e,t,n){var r,i=wn(e),o=xs(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ju(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ju(-i-1)+o,n&&(r=n-a)>0&&(o+=ju(r))):i>=a?(o+=ju(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ju(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ju(r))),e.s<0?"-"+o:o}function bV(e,t){if(e.length>t)return e.length=t,!0}function xhe(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ud+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return vV(a,o.toString())}else if(typeof o!="string")throw Error(ud+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Lct.test(o))vV(a,o);else throw Error(ud+o)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=xhe,i.config=i.set=zct,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function zct(e){if(!e||typeof e!="object")throw Error(Go+"Object expected");var t,n,r,i=["precision",1,Qm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Jm(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ud+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ud+n+": "+r);return this}var Iz=xhe(jct);Gi=new Iz(1);const yt=Iz;function Bct(e){return Hct(e)||qct(e)||Wct(e)||Uct()}function Uct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wct(e,t){if(e){if(typeof e=="string")return XD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XD(e,t)}}function qct(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Hct(e){if(Array.isArray(e))return XD(e)}function XD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gct=function(t){return t},whe={"@@functional/placeholder":!0},She=function(t){return t===whe},xV=function(t){return function n(){return arguments.length===0||arguments.length===1&&She(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Vct=function e(t,n){return t===1?n:xV(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==whe}).length;return a>=t?n.apply(void 0,i):e(t-a,xV(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return She(f)?l.shift():f});return n.apply(void 0,Bct(c).concat(l))}))})},OC=function(t){return Vct(t.length,t)},KD=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},Xct=OC(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Kct=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Gct;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},YD=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Ehe=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=t.apply(void 0,o)),r}};function Yct(e){var t;return e===0?t=1:t=Math.floor(new yt(e).abs().log(10).toNumber())+1,t}function Qct(e,t,n){for(var r=new yt(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Jct=OC(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Zct=OC(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),eft=OC(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const CC={rangeStep:Qct,getDigitCount:Yct,interpolateNumber:Jct,uninterpolateNumber:Zct,uninterpolateTruncation:eft};function QD(e){return rft(e)||nft(e)||_he(e)||tft()}function tft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nft(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function rft(e){if(Array.isArray(e))return JD(e)}function g1(e,t){return aft(e)||oft(e,t)||_he(e,t)||ift()}function ift(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _he(e,t){if(e){if(typeof e=="string")return JD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JD(e,t)}}function JD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oft(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function aft(e){if(Array.isArray(e))return e}function Ahe(e){var t=g1(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function $he(e,t,n){if(e.lte(0))return new yt(0);var r=CC.getDigitCount(e.toNumber()),i=new yt(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new yt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?l:new yt(Math.ceil(l))}function sft(e,t,n){var r=1,i=new yt(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new yt(10).pow(CC.getDigitCount(e)-1),i=new yt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new yt(Math.floor(e)))}else e===0?i=new yt(Math.floor((t-1)/2)):n||(i=new yt(Math.floor(e)));var a=Math.floor((t-1)/2),s=Kct(Xct(function(l){return i.add(new yt(l-a).mul(r)).toNumber()}),KD);return s(0,t)}function Ohe(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var o=$he(new yt(t).sub(e).div(n-1),r,i),a;e<=0&&t>=0?a=new yt(0):(a=new yt(e).add(t).div(2),a=a.sub(new yt(a).mod(o)));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new yt(t).sub(a).div(o).toNumber()),u=s+l+1;return u>n?Ohe(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:o,tickMin:a.sub(new yt(s).mul(o)),tickMax:a.add(new yt(l).mul(o))})}function lft(e){var t=g1(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=Ahe([n,r]),l=g1(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(QD(KD(0,i-1).map(function(){return 1/0}))):[].concat(QD(KD(0,i-1).map(function(){return-1/0})),[c]);return n>r?YD(f):f}if(u===c)return sft(u,i,o);var d=Ohe(u,c,a,o),h=d.step,p=d.tickMin,g=d.tickMax,m=CC.rangeStep(p,g.add(new yt(.1).mul(h)),h);return n>r?YD(m):m}function uft(e,t){var n=g1(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Ahe([r,i]),s=g1(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(t,2),f=$he(new yt(u).sub(l).div(c-1),o,0),d=[].concat(QD(CC.rangeStep(new yt(l),new yt(u).sub(new yt(.99).mul(f)),f)),[u]);return r>i?YD(d):d}var cft=Ehe(lft),fft=Ehe(uft),dft="Invariant failed";function Ud(e,t){throw new Error(dft)}var hft=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i_.apply(this,arguments)}function pft(e,t){return vft(e)||yft(e,t)||mft(e,t)||gft()}function gft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mft(e,t){if(e){if(typeof e=="string")return wV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wV(e,t)}}function wV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yft(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vft(e){if(Array.isArray(e))return e}function bft(e,t){if(e==null)return{};var n=xft(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xft(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Phe(r.key),r)}}function Eft(e,t,n){return t&&Sft(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ft(e,t,n){return t=o_(t),Aft(e,Che()?Reflect.construct(t,n||[],o_(e).constructor):t.apply(e,n))}function Aft(e,t){if(t&&(Bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ft(e)}function $ft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Che(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Che=function(){return!!e})()}function o_(e){return o_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o_(e)}function Oft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZD(e,t)}function ZD(e,t){return ZD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZD(e,t)}function khe(e,t,n){return t=Phe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Phe(e){var t=Cft(e,"string");return Bg(t)=="symbol"?t:t+""}function Cft(e,t){if(Bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nx=function(e){function t(){return wft(this,t),_ft(this,t,arguments)}return Oft(t,e),Eft(t,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=bft(r,hft),h=Se(d,!1);this.props.direction==="x"&&c.type!=="number"&&Ud();var p=l.map(function(g){var m=u(g,s),y=m.x,v=m.y,b=m.value,x=m.errorVal;if(!x)return null;var w=[],E,S;if(Array.isArray(x)){var A=pft(x,2);E=A[0],S=A[1]}else E=S=x;if(o==="vertical"){var $=c.scale,_=v+i,O=_+a,P=_-a,R=$(b-E),k=$(b+S);w.push({x1:k,y1:O,x2:k,y2:P}),w.push({x1:R,y1:_,x2:k,y2:_}),w.push({x1:R,y1:O,x2:R,y2:P})}else if(o==="horizontal"){var C=f.scale,M=y+i,I=M-a,N=M+a,F=C(b-E),L=C(b+S);w.push({x1:I,y1:L,x2:N,y2:L}),w.push({x1:M,y1:F,x2:M,y2:L}),w.push({x1:I,y1:F,x2:N,y2:F})}return D.createElement(Qe,i_({className:"recharts-errorBar",key:"bar-".concat(w.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},h),w.map(function(z){return D.createElement("line",i_({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return D.createElement(Qe,{className:"recharts-errorBars"},p)}}])}(D.Component);khe(nx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});khe(nx,"displayName","ErrorBar");function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function SV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SV(Object(n),!0).forEach(function(r){kft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kft(e,t,n){return t=Pft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pft(e){var t=Tft(e,"string");return m1(t)=="symbol"?t:t+""}function Tft(e,t){if(m1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(m1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var The=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,a=_r(n,Pp);if(!a)return null;var s=Pp.defaultProps,l=s!==void 0?wf(wf({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,h=f.props,p=h.sectors||h.data||[];return c.concat(p.map(function(g){return{type:a.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,h=d!==void 0?wf(wf({},d),f.props):{},p=h.dataKey,g=h.name,m=h.legendType,y=h.hide;return{inactive:y,dataKey:p,type:l.iconType||m||"square",color:Fz(f),value:g||p,payload:h}}),wf(wf(wf({},l),Pp.getWithHeight(a,i)),{},{payload:u,item:a})};function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}function EV(e){return Dft(e)||Rft(e)||Nft(e)||Mft()}function Mft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nft(e,t){if(e){if(typeof e=="string")return eI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eI(e,t)}}function Rft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dft(e){if(Array.isArray(e))return eI(e)}function eI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_V(Object(n),!0).forEach(function(r){Mp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_V(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mp(e,t,n){return t=Ift(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ift(e){var t=Fft(e,"string");return y1(t)=="symbol"?t:t+""}function Fft(e,t){if(y1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(y1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fr(e,t,n){return ze(e)||ze(t)?n:Mn(t)?io(e,t,n):Te(t)?t(e):n}function V0(e,t,n,r){var i=Rct(e,function(s){return fr(s,t)});if(n==="number"){var o=i.filter(function(s){return he(s)||parseFloat(s)});return o.length?[$C(o),AC(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ze(s)}):i;return a.map(function(s){return Mn(s)||s instanceof Date?s:""})}var jft=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if(Sa(f-c)!==Sa(d-f)){var p=[];if(Sa(d-f)===Sa(l[1]-l[0])){h=d;var g=f+l[1]-l[0];p[0]=Math.min(g,(g+c)/2),p[1]=Math.max(g,(g+c)/2)}else{h=c;var m=d+l[1]-l[0];p[0]=Math.min(f,(m+f)/2),p[1]=Math.max(f,(m+f)/2)}var y=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>y[0]&&t<=y[1]||t>=p[0]&&t<=p[1]){a=i[u].index;break}}else{var v=Math.min(c,d),b=Math.max(c,d);if(t>(v+f)/2&&t<=(b+f)/2){a=i[u].index;break}}}else for(var x=0;x<s;x++)if(x===0&&t<=(r[x].coordinate+r[x+1].coordinate)/2||x>0&&x<s-1&&t>(r[x].coordinate+r[x-1].coordinate)/2&&t<=(r[x].coordinate+r[x+1].coordinate)/2||x===s-1&&t>(r[x].coordinate+r[x-1].coordinate)/2){a=r[x].index;break}return a},Fz=function(t){var n,r=t,i=r.type.displayName,o=(n=t.type)!==null&&n!==void 0&&n.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Lft=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),d=0,h=f.length;d<h;d++){var p=c[f[d]],g=p.items,m=p.cateAxisId,y=g.filter(function(S){return Bl(S.type).indexOf("Bar")>=0});if(y&&y.length){var v=y[0].type.defaultProps,b=v!==void 0?sn(sn({},v),y[0].props):y[0].props,x=b.barSize,w=b[m];a[w]||(a[w]=[]);var E=ze(x)?n:x;a[w].push({item:y[0],stackList:y.slice(1),barSize:ze(E)?void 0:Ea(E,r,0)})}}return a},zft=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,a=o===void 0?[]:o,s=t.maxBarSize,l=a.length;if(l<1)return null;var u=Ea(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,h=i/l,p=a.reduce(function(x,w){return x+w.barSize||0},0);p+=(l-1)*u,p>=i&&(p-=(l-1)*u,u=0),p>=i&&h>0&&(d=!0,h*=.9,p=l*h);var g=(i-p)/2>>0,m={offset:g-u,size:0};c=a.reduce(function(x,w){var E={item:w.item,position:{offset:m.offset+m.size+u,size:d?h:w.barSize}},S=[].concat(EV(x),[E]);return m=S[S.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){S.push({item:A,position:m})}),S},f)}else{var y=Ea(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var v=(i-2*y-(l-1)*u)/l;v>1&&(v>>=0);var b=s===+s?Math.min(v,s):v;c=a.reduce(function(x,w,E){var S=[].concat(EV(x),[{item:w.item,position:{offset:y+(v+u)*E+(v-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){S.push({item:A,position:S[S.length-1].position})}),S},f)}return c},Bft=function(t,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=The({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,h=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&h!=="center"&&he(t[h]))return sn(sn({},t),{},Mp({},h,t[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&p!=="middle"&&he(t[p]))return sn(sn({},t),{},Mp({},p,t[p]+(d||0)))}return t},Uft=function(t,n,r){return ze(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Mhe=function(t,n,r,i,o){var a=n.props.children,s=Do(a,nx).filter(function(u){return Uft(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,c){var f=fr(c,r);if(ze(f))return u;var d=Array.isArray(f)?[$C(f),AC(f)]:[f,f],h=l.reduce(function(p,g){var m=fr(c,g,0),y=d[0]-Math.abs(Array.isArray(m)?m[0]:m),v=d[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(y,p[0]),Math.max(v,p[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},Wft=function(t,n,r,i,o){var a=n.map(function(s){return Mhe(t,s,r,o,i)}).filter(function(s){return!ze(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},Nhe=function(t,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&Mhe(t,l,u,i)||V0(t,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},Rhe=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Hf=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,a=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Sa(s[0]-s[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var c=(t.ticks||t.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!fh(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},RT=new WeakMap,Mw=function(t,n){if(typeof n!="function")return t;RT.has(t)||RT.set(t,new WeakMap);var r=RT.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Dhe=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Cv(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Mv(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:T0(),realScaleType:"point"}:o==="category"?{scale:Cv(),realScaleType:"band"}:{scale:Mv(),realScaleType:"linear"};if(Jb(i)){var l="scale".concat(bC(i));return{scale:(yV[l]||T0)(),realScaleType:yV[l]?l:"point"}}return Te(i)?{scale:i}:{scale:T0(),realScaleType:"point"}},AV=1e-4,Ihe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-AV,a=Math.max(i[0],i[1])+AV,s=t(n[0]),l=t(n[r-1]);(s<o||s>a||l<o||l>a)&&t.domain([n[0],n[r-1]])}},qft=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},Hft=function(t,n){if(!n||n.length!==2||!he(n[0])||!he(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!he(t[0])||t[0]<r)&&(o[0]=r),(!he(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Gft=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=fh(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1])}},Vft=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=fh(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=o,t[a][r][1]=o+s,o=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},Xft={sign:Gft,expand:vAe,none:ig,silhouette:bAe,wiggle:xAe,positive:Vft},Kft=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Xft[r],a=yAe().keys(i).value(function(s,l){return+fr(s,l,0)}).order(bN).offset(o);return a(t)},Yft=function(t,n,r,i,o,a){if(!t)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,d){var h,p=(h=d.type)!==null&&h!==void 0&&h.defaultProps?sn(sn({},d.type.defaultProps),d.props):d.props,g=p.stackId,m=p.hide;if(m)return f;var y=p[r],v=f[y]||{hasStack:!1,stackGroups:{}};if(Mn(g)){var b=v.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(d),v.hasStack=!0,v.stackGroups[g]=b}else v.stackGroups[Vm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return sn(sn({},f),{},Mp({},y,v))},l),c={};return Object.keys(u).reduce(function(f,d){var h=u[d];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,m){var y=h.stackGroups[m];return sn(sn({},g),{},Mp({},m,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:Kft(t,y.items,o)}))},p)}return sn(sn({},f),{},Mp({},d,h))},c)},Fhe=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=t.domain();if(!u.length)return null;var c=cft(u,o,s);return t.domain([$C(c),AC(c)]),{niceTicks:c}}if(o&&i==="number"){var f=t.domain(),d=fft(f,o,s);return{niceTicks:d}}return null};function $V(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ze(i[t.dataKey])){var s=G2(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=fr(i,ze(a)?t.dataKey:a);return ze(l)?null:t.scale(l)}var OV=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,a=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=fr(a,n.dataKey,n.domain[s]);return ze(l)?null:n.scale(l)-o/2+i},Qft=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Jft=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(Mn(o)){var a=n[o];if(a){var s=a.items.indexOf(t);return s>=0?a.stackedData[s]:null}}return null},Zft=function(t){return t.reduce(function(n,r){return[$C(r.concat([n[0]]).filter(he)),AC(r.concat([n[1]]).filter(he))]},[1/0,-1/0])},jhe=function(t,n,r){return Object.keys(t).reduce(function(i,o){var a=t[o],s=a.stackedData,l=s.reduce(function(u,c){var f=Zft(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},CV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tI=function(t,n,r){if(Te(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(he(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(CV.test(t[0])){var o=+CV.exec(t[0])[1];i[0]=n[0]-o}else Te(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(he(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(kV.test(t[1])){var a=+kV.exec(t[1])[1];i[1]=n[1]+a}else Te(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},a_=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=Mz(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},PV=function(t,n,r){return!t||!t.length||tx(t,io(r,"type.defaultProps.domain"))?n:t},Lhe=function(t,n){var r=t.type.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return sn(sn({},Se(t,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Fz(t),value:fr(n,i),type:l,payload:n,chartType:u,hide:c})};function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}function TV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TV(Object(n),!0).forEach(function(r){zhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zhe(e,t,n){return t=edt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function edt(e){var t=tdt(e,"string");return v1(t)=="symbol"?t:t+""}function tdt(e,t){if(v1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(v1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ndt(e,t){return adt(e)||odt(e,t)||idt(e,t)||rdt()}function rdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function idt(e,t){if(e){if(typeof e=="string")return MV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MV(e,t)}}function MV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function odt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function adt(e){if(Array.isArray(e))return e}var s_=Math.PI/180,sdt=function(t){return t*180/Math.PI},bt=function(t,n,r,i){return{x:t+Math.cos(-s_*i)*r,y:n+Math.sin(-s_*i)*r}},ldt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},udt=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.startAngle,u=t.endAngle,c=Ea(t.cx,a,a/2),f=Ea(t.cy,s,s/2),d=ldt(a,s,r),h=Ea(t.innerRadius,d,0),p=Ea(t.outerRadius,d,d*.8),g=Object.keys(n);return g.reduce(function(m,y){var v=n[y],b=v.domain,x=v.reversed,w;if(ze(v.range))i==="angleAxis"?w=[l,u]:i==="radiusAxis"&&(w=[h,p]),x&&(w=[w[1],w[0]]);else{w=v.range;var E=w,S=ndt(E,2);l=S[0],u=S[1]}var A=Dhe(v,o),$=A.realScaleType,_=A.scale;_.domain(b).range(w),Ihe(_);var O=Fhe(_,yl(yl({},v),{},{realScaleType:$})),P=yl(yl(yl({},v),O),{},{range:w,radius:p,realScaleType:$,scale:_,cx:c,cy:f,innerRadius:h,outerRadius:p,startAngle:l,endAngle:u});return yl(yl({},m),{},zhe({},y,P))},{})},cdt=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},fdt=function(t,n){var r=t.x,i=t.y,o=n.cx,a=n.cy,s=cdt({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:sdt(u),angleInRadian:u}},ddt=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},hdt=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return t+s*360},NV=function(t,n){var r=t.x,i=t.y,o=fdt({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=ddt(n),f=c.startAngle,d=c.endAngle,h=s,p;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}return p?yl(yl({},n),{},{radius:a,angle:hdt(h,n)}):null},Bhe=function(t){return!T.isValidElement(t)&&!Te(t)&&typeof t!="boolean"?t.className:""};function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}var pdt=["offset"];function gdt(e){return bdt(e)||vdt(e)||ydt(e)||mdt()}function mdt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ydt(e,t){if(e){if(typeof e=="string")return nI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nI(e,t)}}function vdt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bdt(e){if(Array.isArray(e))return nI(e)}function nI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xdt(e,t){if(e==null)return{};var n=wdt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wdt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function RV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RV(Object(n),!0).forEach(function(r){Sdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sdt(e,t,n){return t=Edt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Edt(e){var t=_dt(e,"string");return b1(t)=="symbol"?t:t+""}function _dt(e,t){if(b1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(b1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x1.apply(this,arguments)}var Adt=function(t){var n=t.value,r=t.formatter,i=ze(t.children)?n:t.children;return Te(r)?r(i):i},$dt=function(t,n){var r=Sa(n-t),i=Math.min(Math.abs(n-t),360);return r*i},Odt=function(t,n,r){var i=t.position,o=t.viewBox,a=t.offset,s=t.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,h=l.startAngle,p=l.endAngle,g=l.clockWise,m=(f+d)/2,y=$dt(h,p),v=y>=0?1:-1,b,x;i==="insideStart"?(b=h+v*a,x=g):i==="insideEnd"?(b=p-v*a,x=!g):i==="end"&&(b=p+v*a,x=g),x=y<=0?x:!x;var w=bt(u,c,m,b),E=bt(u,c,m,b+(x?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(x?0:1,`,
    `).concat(E.x,",").concat(E.y),A=ze(t.id)?Vm("recharts-radial-line-"):t.id;return D.createElement("text",x1({},r,{dominantBaseline:"central",className:ke("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:A,d:S})),D.createElement("textPath",{xlinkHref:"#".concat(A)},n))},Cdt=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var h=bt(a,s,u+r,d),p=h.x,g=h.y;return{x:p,y:g,textAnchor:p>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var m=(l+u)/2,y=bt(a,s,m,d),v=y.x,b=y.y;return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},kdt=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,d=f*i,h=f>0?"end":"start",p=f>0?"start":"end",g=u>=0?1:-1,m=g*i,y=g>0?"end":"start",v=g>0?"start":"end";if(o==="top"){var b={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return _n(_n({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var x={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:p};return _n(_n({},x),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var w={x:s-m,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return _n(_n({},w),r?{width:Math.max(w.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+m,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return _n(_n({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return o==="insideLeft"?_n({x:s+m,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},S):o==="insideRight"?_n({x:s+u-m,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},S):o==="insideTop"?_n({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:p},S):o==="insideBottom"?_n({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:h},S):o==="insideTopLeft"?_n({x:s+m,y:l+d,textAnchor:v,verticalAnchor:p},S):o==="insideTopRight"?_n({x:s+u-m,y:l+d,textAnchor:y,verticalAnchor:p},S):o==="insideBottomLeft"?_n({x:s+m,y:l+c-d,textAnchor:v,verticalAnchor:h},S):o==="insideBottomRight"?_n({x:s+u-m,y:l+c-d,textAnchor:y,verticalAnchor:h},S):Wm(o)&&(he(o.x)||qf(o.x))&&(he(o.y)||qf(o.y))?_n({x:s+Ea(o.x,u),y:l+Ea(o.y,c),textAnchor:"end",verticalAnchor:"end"},S):_n({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Pdt=function(t){return"cx"in t&&he(t.cx)};function nr(e){var t=e.offset,n=t===void 0?5:t,r=xdt(e,pdt),i=_n({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||ze(s)&&ze(l)&&!T.isValidElement(u)&&!Te(u))return null;if(T.isValidElement(u))return T.cloneElement(u,i);var h;if(Te(u)){if(h=T.createElement(u,i),T.isValidElement(h))return h}else h=Adt(i);var p=Pdt(o),g=Se(i,!0);if(p&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Odt(i,h,g);var m=p?Cdt(i):kdt(i);return D.createElement(zg,x1({className:ke("recharts-label",f)},g,m,{breakAll:d}),h)}nr.displayName="Label";var Uhe=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,a=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,c=t.outerRadius,f=t.x,d=t.y,h=t.top,p=t.left,g=t.width,m=t.height,y=t.clockWise,v=t.labelViewBox;if(v)return v;if(he(g)&&he(m)){if(he(f)&&he(d))return{x:f,y:d,width:g,height:m};if(he(h)&&he(p))return{x:h,y:p,width:g,height:m}}return he(f)&&he(d)?{x:f,y:d,width:0,height:0}:he(n)&&he(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},Tdt=function(t,n){return t?t===!0?D.createElement(nr,{key:"label-implicit",viewBox:n}):Mn(t)?D.createElement(nr,{key:"label-implicit",viewBox:n,value:t}):T.isValidElement(t)?t.type===nr?T.cloneElement(t,{key:"label-implicit",viewBox:n}):D.createElement(nr,{key:"label-implicit",content:t,viewBox:n}):Te(t)?D.createElement(nr,{key:"label-implicit",content:t,viewBox:n}):Wm(t)?D.createElement(nr,x1({viewBox:n},t,{key:"label-implicit"})):null:null},Mdt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=Uhe(t),a=Do(i,nr).map(function(l,u){return T.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Tdt(t.label,n||o);return[s].concat(gdt(a))};nr.parseViewBox=Uhe;nr.renderCallByParent=Mdt;function Ndt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Whe=Ndt;const qhe=lt(Whe);function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}var Rdt=["valueAccessor"],Ddt=["data","dataKey","clockWise","id","textBreakAll"];function Idt(e){return zdt(e)||Ldt(e)||jdt(e)||Fdt()}function Fdt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jdt(e,t){if(e){if(typeof e=="string")return rI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rI(e,t)}}function Ldt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zdt(e){if(Array.isArray(e))return rI(e)}function rI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l_.apply(this,arguments)}function DV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DV(Object(n),!0).forEach(function(r){Bdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bdt(e,t,n){return t=Udt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Udt(e){var t=Wdt(e,"string");return w1(t)=="symbol"?t:t+""}function Wdt(e,t){if(w1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(w1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FV(e,t){if(e==null)return{};var n=qdt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qdt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Hdt=function(t){return Array.isArray(t.value)?qhe(t.value):t.value};function Wl(e){var t=e.valueAccessor,n=t===void 0?Hdt:t,r=FV(e,Rdt),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=FV(r,Ddt);return!i||!i.length?null:D.createElement(Qe,{className:"recharts-label-list"},i.map(function(c,f){var d=ze(o)?n(c,f):fr(c&&c.payload,o),h=ze(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(nr,l_({},Se(c,!0),u,h,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:nr.parseViewBox(ze(a)?c:IV(IV({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Wl.displayName="LabelList";function Gdt(e,t){return e?e===!0?D.createElement(Wl,{key:"labelList-implicit",data:t}):D.isValidElement(e)||Te(e)?D.createElement(Wl,{key:"labelList-implicit",data:t,content:e}):Wm(e)?D.createElement(Wl,l_({data:t},e,{key:"labelList-implicit"})):null:null}function Vdt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Do(r,Wl).map(function(a,s){return T.cloneElement(a,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var o=Gdt(e.label,t);return[o].concat(Idt(i))}Wl.renderCallByParent=Vdt;function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function iI(){return iI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iI.apply(this,arguments)}function jV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jV(Object(n),!0).forEach(function(r){Xdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xdt(e,t,n){return t=Kdt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kdt(e){var t=Ydt(e,"string");return S1(t)=="symbol"?t:t+""}function Ydt(e,t){if(S1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(S1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qdt=function(t,n){var r=Sa(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Nw=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,a=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/s_,d=u?o:o+a*f,h=bt(n,r,c,d),p=bt(n,r,i,d),g=u?o-a*f:o,m=bt(n,r,c*Math.cos(f*s_),g);return{center:h,circleTangency:p,lineTangency:m,theta:f}},Hhe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.startAngle,s=t.endAngle,l=Qdt(a,s),u=a+l,c=bt(n,r,o,a),f=bt(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=bt(n,r,i,a),p=bt(n,r,i,u);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Jdt=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,c=t.endAngle,f=Sa(c-u),d=Nw({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),h=d.circleTangency,p=d.lineTangency,g=d.theta,m=Nw({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),y=m.circleTangency,v=m.lineTangency,b=m.theta,x=l?Math.abs(u-c):Math.abs(u-c)-g-b;if(x<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Hhe({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var w="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(x>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var E=Nw({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=E.circleTangency,A=E.lineTangency,$=E.theta,_=Nw({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=_.circleTangency,P=_.lineTangency,R=_.theta,k=l?Math.abs(u-c):Math.abs(u-c)-$-R;if(k<0&&a===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},Zdt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ghe=function(t){var n=LV(LV({},Zdt),t),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(a<o||c===f)return null;var h=ke("recharts-sector",d),p=a-o,g=Ea(s,p,0,!0),m;return g>0&&Math.abs(c-f)<360?m=Jdt({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):m=Hhe({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),D.createElement("path",iI({},Se(n,!0),{className:h,d:m,role:"img"}))};function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function oI(){return oI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oI.apply(this,arguments)}function zV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zV(Object(n),!0).forEach(function(r){eht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eht(e,t,n){return t=tht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tht(e){var t=nht(e,"string");return E1(t)=="symbol"?t:t+""}function nht(e,t){if(E1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(E1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UV={curveBasisClosed:rne,curveBasisOpen:one,curveBasis:tne,curveBumpX:Qte,curveBumpY:G_e,curveLinearClosed:fne,curveLinear:ib,curveMonotoneX:pne,curveMonotoneY:gne,curveNatural:yne,curveStep:vne,curveStepAfter:xne,curveStepBefore:bne},Rw=function(t){return t.x===+t.x&&t.y===+t.y},zy=function(t){return t.x},By=function(t){return t.y},rht=function(t,n){if(Te(t))return t;var r="curve".concat(bC(t));return(r==="curveMonotone"||r==="curveBump")&&n?UV["".concat(r).concat(n==="vertical"?"Y":"X")]:UV[r]||ib},iht=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,a=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,c=rht(r,s),f=u?o.filter(function(g){return Rw(g)}):o,d;if(Array.isArray(a)){var h=u?a.filter(function(g){return Rw(g)}):a,p=f.map(function(g,m){return BV(BV({},g),{},{base:h[m]})});return s==="vertical"?d=Zh().y(By).x1(zy).x0(function(g){return g.base.x}):d=Zh().x(zy).y1(By).y0(function(g){return g.base.y}),d.defined(Rw).curve(c),d(p)}return s==="vertical"&&he(a)?d=Zh().y(By).x1(zy).x0(a):he(a)?d=Zh().x(zy).y1(By).y0(a):d=$5().x(zy).y(By),d.defined(Rw).curve(c),d(f)},aI=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?iht(t):i;return D.createElement("path",oI({},Se(t,!1),V2(t),{className:ke("recharts-curve",n),d:a,ref:o}))},oht=Object.getOwnPropertyNames,aht=Object.getOwnPropertySymbols,sht=Object.prototype.hasOwnProperty;function WV(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function Dw(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=e(n,r,i);return o.delete(n),o.delete(r),l}}function qV(e){return oht(e).concat(aht(e))}var Vhe=Object.hasOwn||function(e,t){return sht.call(e,t)};function Zm(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var Xhe="_owner",HV=Object.getOwnPropertyDescriptor,GV=Object.keys;function lht(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function uht(e,t){return Zm(e.getTime(),t.getTime())}function VV(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.entries(),o=0,a,s;(a=i.next())&&!a.done;){for(var l=t.entries(),u=!1,c=0;(s=l.next())&&!s.done;){var f=a.value,d=f[0],h=f[1],p=s.value,g=p[0],m=p[1];!u&&!r[c]&&(u=n.equals(d,g,o,c,e,t,n)&&n.equals(h,m,d,g,e,t,n))&&(r[c]=!0),c++}if(!u)return!1;o++}return!0}function cht(e,t,n){var r=GV(e),i=r.length;if(GV(t).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===Xhe&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Vhe(t,o)||!n.equals(e[o],t[o],o,o,e,t,n))return!1;return!0}function Uy(e,t,n){var r=qV(e),i=r.length;if(qV(t).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],o===Xhe&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Vhe(t,o)||!n.equals(e[o],t[o],o,o,e,t,n)||(a=HV(e,o),s=HV(t,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function fht(e,t){return Zm(e.valueOf(),t.valueOf())}function dht(e,t){return e.source===t.source&&e.flags===t.flags}function XV(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.values(),o,a;(o=i.next())&&!o.done;){for(var s=t.values(),l=!1,u=0;(a=s.next())&&!a.done;)!l&&!r[u]&&(l=n.equals(o.value,a.value,o.value,a.value,e,t,n))&&(r[u]=!0),u++;if(!l)return!1}return!0}function hht(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var pht="[object Arguments]",ght="[object Boolean]",mht="[object Date]",yht="[object Map]",vht="[object Number]",bht="[object Object]",xht="[object RegExp]",wht="[object Set]",Sht="[object String]",Eht=Array.isArray,KV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,YV=Object.assign,_ht=Object.prototype.toString.call.bind(Object.prototype.toString);function Aht(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,a=e.areRegExpsEqual,s=e.areSetsEqual,l=e.areTypedArraysEqual;return function(c,f,d){if(c===f)return!0;if(c==null||f==null||typeof c!="object"||typeof f!="object")return c!==c&&f!==f;var h=c.constructor;if(h!==f.constructor)return!1;if(h===Object)return i(c,f,d);if(Eht(c))return t(c,f,d);if(KV!=null&&KV(c))return l(c,f,d);if(h===Date)return n(c,f,d);if(h===RegExp)return a(c,f,d);if(h===Map)return r(c,f,d);if(h===Set)return s(c,f,d);var p=_ht(c);return p===mht?n(c,f,d):p===xht?a(c,f,d):p===yht?r(c,f,d):p===wht?s(c,f,d):p===bht?typeof c.then!="function"&&typeof f.then!="function"&&i(c,f,d):p===pht?i(c,f,d):p===ght||p===vht||p===Sht?o(c,f,d):!1}}function $ht(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Uy:lht,areDatesEqual:uht,areMapsEqual:r?WV(VV,Uy):VV,areObjectsEqual:r?Uy:cht,arePrimitiveWrappersEqual:fht,areRegExpsEqual:dht,areSetsEqual:r?WV(XV,Uy):XV,areTypedArraysEqual:r?Uy:hht};if(n&&(i=YV({},i,n(i))),t){var o=Dw(i.areArraysEqual),a=Dw(i.areMapsEqual),s=Dw(i.areObjectsEqual),l=Dw(i.areSetsEqual);i=YV({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function Oht(e){return function(t,n,r,i,o,a,s){return e(t,n,s)}}function Cht(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(l,u){var c=r(),f=c.cache,d=f===void 0?t?new WeakMap:void 0:f,h=c.meta;return n(l,u,{cache:d,equals:i,meta:h,strict:o})};if(t)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var kht=uf();uf({strict:!0});uf({circular:!0});uf({circular:!0,strict:!0});uf({createInternalComparator:function(){return Zm}});uf({strict:!0,createInternalComparator:function(){return Zm}});uf({circular:!0,createInternalComparator:function(){return Zm}});uf({circular:!0,createInternalComparator:function(){return Zm},strict:!0});function uf(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,o=e.strict,a=o===void 0?!1:o,s=$ht(e),l=Aht(s),u=r?r(l):Oht(l);return Cht({circular:n,comparator:l,createState:i,equals:u,strict:a})}function Pht(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function QV(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):Pht(i)};requestAnimationFrame(r)}function sI(e){"@babel/helpers - typeof";return sI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sI(e)}function Tht(e){return Dht(e)||Rht(e)||Nht(e)||Mht()}function Mht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nht(e,t){if(e){if(typeof e=="string")return JV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JV(e,t)}}function JV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dht(e){if(Array.isArray(e))return e}function Iht(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Tht(a),l=s[0],u=s.slice(1);if(typeof l=="number"){QV(i.bind(null,u),l);return}i(l),QV(i.bind(null,u));return}sI(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function ZV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZV(Object(n),!0).forEach(function(r){Khe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Khe(e,t,n){return t=Fht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fht(e){var t=jht(e,"string");return _1(t)==="symbol"?t:String(t)}function jht(e,t){if(_1(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lht=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},zht=function(t){return t},Bht=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},X0=function(t,n){return Object.keys(n).reduce(function(r,i){return eX(eX({},r),{},Khe({},i,t(i,n[i])))},{})},tX=function(t,n,r){return t.map(function(i){return"".concat(Bht(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Uht(e,t){return Hht(e)||qht(e,t)||Yhe(e,t)||Wht()}function Wht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qht(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Hht(e){if(Array.isArray(e))return e}function Ght(e){return Kht(e)||Xht(e)||Yhe(e)||Vht()}function Vht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yhe(e,t){if(e){if(typeof e=="string")return lI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lI(e,t)}}function Xht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kht(e){if(Array.isArray(e))return lI(e)}function lI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u_=1e-4,Qhe=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Jhe=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},nX=function(t,n){return function(r){var i=Qhe(t,n);return Jhe(i,r)}},Yht=function(t,n){return function(r){var i=Qhe(t,n),o=[].concat(Ght(i.map(function(a,s){return a*s}).slice(1)),[0]);return Jhe(o,r)}},rX=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),c=Uht(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=nX(i,a),d=nX(o,s),h=Yht(i,a),p=function(y){return y>1?1:y<0?0:y},g=function(y){for(var v=y>1?1:y,b=v,x=0;x<8;++x){var w=f(b)-v,E=h(b);if(Math.abs(w-v)<u_||E<u_)return d(b);b=p(b-w/E)}return d(b)};return g.isStepper=!1,g},Qht=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,a=t.dt,s=a===void 0?17:a,l=function(c,f,d){var h=-(c-f)*r,p=d*o,g=d+(h-p)*s/1e3,m=d*s/1e3+c;return Math.abs(m-f)<u_&&Math.abs(g)<u_?[f,0]:[m,g]};return l.isStepper=!0,l.dt=s,l},Jht=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rX(i);case"spring":return Qht();default:if(i.split("(")[0]==="cubic-bezier")return rX(i)}return typeof i=="function"?i:null};function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function iX(e){return tpt(e)||ept(e)||Zhe(e)||Zht()}function Zht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ept(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tpt(e){if(Array.isArray(e))return cI(e)}function oX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oX(Object(n),!0).forEach(function(r){uI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uI(e,t,n){return t=npt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function npt(e){var t=rpt(e,"string");return A1(t)==="symbol"?t:String(t)}function rpt(e,t){if(A1(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(A1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ipt(e,t){return spt(e)||apt(e,t)||Zhe(e,t)||opt()}function opt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zhe(e,t){if(e){if(typeof e=="string")return cI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cI(e,t)}}function cI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function apt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function spt(e){if(Array.isArray(e))return e}var c_=function(t,n,r){return t+(n-t)*r},fI=function(t){var n=t.from,r=t.to;return n!==r},lpt=function e(t,n,r){var i=X0(function(o,a){if(fI(a)){var s=t(a.from,a.to,a.velocity),l=ipt(s,2),u=l[0],c=l[1];return Yn(Yn({},a),{},{from:u,velocity:c})}return a},n);return r<1?X0(function(o,a){return fI(a)?Yn(Yn({},a),{},{velocity:c_(a.velocity,i[o].velocity,r),from:c_(a.from,i[o].from,r)}):a},n):e(t,i,r-1)};const upt=function(e,t,n,r,i){var o=Lht(e,t),a=o.reduce(function(m,y){return Yn(Yn({},m),{},uI({},y,[e[y],t[y]]))},{}),s=o.reduce(function(m,y){return Yn(Yn({},m),{},uI({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return X0(function(y,v){return v.from},s)},h=function(){return!Object.values(s).filter(fI).length},p=function(y){u||(u=y);var v=y-u,b=v/n.dt;s=lpt(n,s,b),i(Yn(Yn(Yn({},e),t),d())),u=y,h()||(l=requestAnimationFrame(f))},g=function(y){c||(c=y);var v=(y-c)/r,b=X0(function(w,E){return c_.apply(void 0,iX(E).concat([n(v)]))},a);if(i(Yn(Yn(Yn({},e),t),b)),v<1)l=requestAnimationFrame(f);else{var x=X0(function(w,E){return c_.apply(void 0,iX(E).concat([n(1)]))},a);i(Yn(Yn(Yn({},e),t),x))}};return f=n.isStepper?p:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}var cpt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function fpt(e,t){if(e==null)return{};var n=dpt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dpt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function DT(e){return mpt(e)||gpt(e)||ppt(e)||hpt()}function hpt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ppt(e,t){if(e){if(typeof e=="string")return dI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dI(e,t)}}function gpt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mpt(e){if(Array.isArray(e))return dI(e)}function dI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aX(Object(n),!0).forEach(function(r){b0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b0(e,t,n){return t=epe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ypt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vpt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,epe(r.key),r)}}function bpt(e,t,n){return t&&vpt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function epe(e){var t=xpt(e,"string");return Ug(t)==="symbol"?t:String(t)}function xpt(e,t){if(Ug(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ug(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wpt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hI(e,t)}function hI(e,t){return hI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hI(e,t)}function Spt(e){var t=Ept();return function(){var r=f_(e),i;if(t){var o=f_(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return pI(this,i)}}function pI(e,t){if(t&&(Ug(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gI(e)}function gI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ept(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f_(e){return f_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f_(e)}var Vo=function(e){wpt(n,e);var t=Spt(n);function n(r,i){var o;ypt(this,n),o=t.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,d=a.children,h=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(gI(o)),o.changeStyle=o.changeStyle.bind(gI(o)),!s||h<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),pI(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},pI(o);o.state={style:l?b0({},l,u):u}}else o.state={style:{}};return o}return bpt(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(s){if(!a){var h={style:l?b0({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(h);return}if(!(kht(i.to,c)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?f:i.to;if(this.state&&d){var m={style:l?b0({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(m)}this.runAnimation(ra(ra({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,h=upt(a,s,Jht(u),l,this.changeStyle),p=function(){o.stopJSAnimation=h()};this.manager.start([d,c,p,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,d=f===void 0?0:f,h=function(g,m,y){if(y===0)return g;var v=m.duration,b=m.easing,x=b===void 0?"ease":b,w=m.style,E=m.properties,S=m.onAnimationEnd,A=y>0?a[y-1]:m,$=E||Object.keys(w);if(typeof x=="function"||x==="spring")return[].concat(DT(g),[o.runJSAnimation.bind(o,{from:A.style,to:w,duration:v,easing:x}),v]);var _=tX($,v,x),O=ra(ra(ra({},A.style),w),{},{transition:_});return[].concat(DT(g),[O,v,S]).filter(zht)};return this.manager.start([l].concat(DT(a.reduce(h,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Iht());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,h=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?b0({},s,l):l,m=tX(Object.keys(g),a,u);p.start([c,o,ra(ra({},g),{},{transition:m}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=fpt(i,cpt),u=T.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(h){var p=h.props,g=p.style,m=g===void 0?{}:g,y=p.className,v=T.cloneElement(h,ra(ra({},l),{},{style:ra(ra({},m),c),className:y}));return v};return u===1?f(T.Children.only(o)):D.createElement("div",null,T.Children.map(o,function(d){return f(d)}))}}]),n}(T.PureComponent);Vo.displayName="Animate";Vo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vo.propTypes={from:je.oneOfType([je.object,je.string]),to:je.oneOfType([je.object,je.string]),attributeName:je.string,duration:je.number,begin:je.number,easing:je.oneOfType([je.string,je.func]),steps:je.arrayOf(je.shape({duration:je.number.isRequired,style:je.object.isRequired,easing:je.oneOfType([je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),je.func]),properties:je.arrayOf("string"),onAnimationEnd:je.func})),children:je.oneOfType([je.node,je.func]),isActive:je.bool,canBegin:je.bool,onAnimationEnd:je.func,shouldReAnimate:je.bool,onAnimationStart:je.func,onAnimationReStart:je.func};je.object,je.object,je.object,je.element;je.object,je.object,je.object,je.oneOfType([je.array,je.element]),je.any;function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}function d_(){return d_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d_.apply(this,arguments)}function _pt(e,t){return Cpt(e)||Opt(e,t)||$pt(e,t)||Apt()}function Apt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $pt(e,t){if(e){if(typeof e=="string")return sX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sX(e,t)}}function sX(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Opt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Cpt(e){if(Array.isArray(e))return e}function lX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lX(Object(n),!0).forEach(function(r){kpt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kpt(e,t,n){return t=Ppt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ppt(e){var t=Tpt(e,"string");return $1(t)=="symbol"?t:t+""}function Tpt(e,t){if($1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cX=function(t,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,h=4;d<h;d++)f[d]=o[d]>a?a:o[d];c="M".concat(t,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(n)),c+="L ".concat(t+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+s*f[1])),c+="L ".concat(t+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-l*f[2],",").concat(n+i)),c+="L ".concat(t+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var p=Math.min(a,o);c="M ".concat(t,",").concat(n+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+l*p,",").concat(n,`
            L `).concat(t+r-l*p,",").concat(n,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+r,",").concat(n+s*p,`
            L `).concat(t+r,",").concat(n+i-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+r-l*p,",").concat(n+i,`
            L `).concat(t+l*p,",").concat(n+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t,",").concat(n+i-s*p," Z")}else c="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Mpt=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},Npt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kC=function(t){var n=uX(uX({},Npt),t),r=T.useRef(),i=T.useState(-1),o=_pt(i,2),a=o[0],s=o[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,h=n.className,p=n.animationEasing,g=n.animationDuration,m=n.animationBegin,y=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var b=ke("recharts-rectangle",h);return v?D.createElement(Vo,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:p,isActive:v},function(x){var w=x.width,E=x.height,S=x.x,A=x.y;return D.createElement(Vo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:g,isActive:y,easing:p},D.createElement("path",d_({},Se(n,!0),{className:b,d:cX(S,A,w,E,d),ref:r})))}):D.createElement("path",d_({},Se(n,!0),{className:b,d:cX(l,u,c,f,d)}))},Rpt=["points","className","baseLinePoints","connectNulls"];function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sp.apply(this,arguments)}function Dpt(e,t){if(e==null)return{};var n=Ipt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ipt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fX(e){return zpt(e)||Lpt(e)||jpt(e)||Fpt()}function Fpt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpt(e,t){if(e){if(typeof e=="string")return mI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(e,t)}}function Lpt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zpt(e){if(Array.isArray(e))return mI(e)}function mI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dX=function(t){return t&&t.x===+t.x&&t.y===+t.y},Bpt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){dX(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),dX(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},K0=function(t,n){var r=Bpt(t);n&&(r=[r.reduce(function(o,a){return[].concat(fX(o),fX(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Upt=function(t,n,r){var i=K0(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(K0(n.reverse(),r).slice(1))},jz=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,o=t.connectNulls,a=Dpt(t,Rpt);if(!n||!n.length)return null;var s=ke("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=Upt(n,i,o);return D.createElement("g",{className:s},D.createElement("path",sp({},Se(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?D.createElement("path",sp({},Se(a,!0),{fill:"none",d:K0(n,o)})):null,l?D.createElement("path",sp({},Se(a,!0),{fill:"none",d:K0(i,o)})):null)}var c=K0(n,o);return D.createElement("path",sp({},Se(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function yI(){return yI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yI.apply(this,arguments)}var rx=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,a=ke("recharts-dot",o);return n===+n&&r===+r&&i===+i?D.createElement("circle",yI({},Se(t,!1),V2(t),{className:a,cx:n,cy:r,r:i})):null};function O1(e){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}var Wpt=["x","y","top","left","width","height","className"];function vI(){return vI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vI.apply(this,arguments)}function hX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qpt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hX(Object(n),!0).forEach(function(r){Hpt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hpt(e,t,n){return t=Gpt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gpt(e){var t=Vpt(e,"string");return O1(t)=="symbol"?t:t+""}function Vpt(e,t){if(O1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(O1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xpt(e,t){if(e==null)return{};var n=Kpt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kpt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Ypt=function(t,n,r,i,o,a){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Qpt=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.top,s=a===void 0?0:a,l=t.left,u=l===void 0?0:l,c=t.width,f=c===void 0?0:c,d=t.height,h=d===void 0?0:d,p=t.className,g=Xpt(t,Wpt),m=qpt({x:r,y:o,top:s,left:u,width:f,height:h},g);return!he(r)||!he(o)||!he(f)||!he(h)||!he(s)||!he(u)?null:D.createElement("path",vI({},Se(m,!0),{className:ke("recharts-cross",p),d:Ypt(r,o,f,h,s,u)}))},Jpt=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}function Zpt(e,t){if(e==null)return{};var n=egt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function egt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(this,arguments)}function pX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pX(Object(n),!0).forEach(function(r){tgt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tgt(e,t,n){return t=ngt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ngt(e){var t=rgt(e,"string");return C1(t)=="symbol"?t:t+""}function rgt(e,t){if(C1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(C1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var igt=function(t,n,r,i){var o="";return i.forEach(function(a,s){var l=bt(n,r,t,a);s?o+="L ".concat(l.x,",").concat(l.y):o+="M ".concat(l.x,",").concat(l.y)}),o+="Z",o},ogt=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.polarAngles,s=t.radialLines;if(!a||!a.length||!s)return null;var l=k1({stroke:"#ccc"},Se(t,!1));return D.createElement("g",{className:"recharts-polar-grid-angle"},a.map(function(u){var c=bt(n,r,i,u),f=bt(n,r,o,u);return D.createElement("line",au({},l,{key:"line-".concat(u),x1:c.x,y1:c.y,x2:f.x,y2:f.y}))}))},agt=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.index,a=k1(k1({stroke:"#ccc"},Se(t,!1)),{},{fill:"none"});return D.createElement("circle",au({},a,{className:ke("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(o),cx:n,cy:r,r:i}))},sgt=function(t){var n=t.radius,r=t.index,i=k1(k1({stroke:"#ccc"},Se(t,!1)),{},{fill:"none"});return D.createElement("path",au({},i,{className:ke("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(r),d:igt(n,t.cx,t.cy,t.polarAngles)}))},lgt=function(t){var n=t.polarRadius,r=t.gridType;return!n||!n.length?null:D.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,o){var a=o;return r==="circle"?D.createElement(agt,au({key:a},t,{radius:i,index:o})):D.createElement(sgt,au({key:a},t,{radius:i,index:o}))}))},tpe=function(t){var n=t.cx,r=n===void 0?0:n,i=t.cy,o=i===void 0?0:i,a=t.innerRadius,s=a===void 0?0:a,l=t.outerRadius,u=l===void 0?0:l,c=t.gridType,f=c===void 0?"polygon":c,d=t.radialLines,h=d===void 0?!0:d,p=Zpt(t,Jpt);return u<=0?null:D.createElement("g",{className:"recharts-polar-grid"},D.createElement(ogt,au({cx:r,cy:o,innerRadius:s,outerRadius:u,gridType:f,radialLines:h},p)),D.createElement(lgt,au({cx:r,cy:o,innerRadius:s,outerRadius:u,gridType:f,radialLines:h},p)))};tpe.displayName="PolarGrid";var ugt=_C,cgt=phe,fgt=lf;function dgt(e,t){return e&&e.length?ugt(e,fgt(t),cgt):void 0}var hgt=dgt;const pgt=lt(hgt);var ggt=_C,mgt=lf,ygt=ghe;function vgt(e,t){return e&&e.length?ggt(e,mgt(t),ygt):void 0}var bgt=vgt;const xgt=lt(bgt);var wgt=["cx","cy","angle","ticks","axisLine"],Sgt=["ticks","tick","angle","tickFormatter","stroke"];function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y0.apply(this,arguments)}function gX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gX(Object(n),!0).forEach(function(r){PC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mX(e,t){if(e==null)return{};var n=Egt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Egt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rpe(r.key),r)}}function Agt(e,t,n){return t&&yX(e.prototype,t),n&&yX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $gt(e,t,n){return t=h_(t),Ogt(e,npe()?Reflect.construct(t,n||[],h_(e).constructor):t.apply(e,n))}function Ogt(e,t){if(t&&(Wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cgt(e)}function Cgt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function npe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(npe=function(){return!!e})()}function h_(e){return h_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h_(e)}function kgt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bI(e,t)}function bI(e,t){return bI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bI(e,t)}function PC(e,t,n){return t=rpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rpe(e){var t=Pgt(e,"string");return Wg(t)=="symbol"?t:t+""}function Pgt(e,t){if(Wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ix=function(e){function t(){return _gt(this,t),$gt(this,t,arguments)}return kgt(t,e),Agt(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return bt(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=pgt(s,function(c){return c.coordinate||0}),u=xgt(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=mX(r,wgt),c=s.reduce(function(p,g){return[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)]},[1/0,-1/0]),f=bt(i,o,c[0],a),d=bt(i,o,c[1],a),h=Sf(Sf(Sf({},Se(u,!1)),{},{fill:"none"},Se(l,!1)),{},{x1:f.x,y1:f.y,x2:d.x,y2:d.y});return D.createElement("line",Y0({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=mX(i,Sgt),f=this.getTickTextAnchor(),d=Se(c,!1),h=Se(a,!1),p=o.map(function(g,m){var y=r.getTickValueCoord(g),v=Sf(Sf(Sf(Sf({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},d),{},{stroke:"none",fill:u},h),{},{index:m},y),{},{payload:g});return D.createElement(Qe,Y0({className:ke("recharts-polar-radius-axis-tick",Bhe(a)),key:"tick-".concat(g.coordinate)},Dg(r.props,g,m)),t.renderTickItem(a,v,l?l(g.value,m):g.value))});return D.createElement(Qe,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:D.createElement(Qe,{className:ke("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),nr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return D.isValidElement(r)?a=D.cloneElement(r,i):Te(r)?a=r(i):a=D.createElement(zg,Y0({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(T.PureComponent);PC(ix,"displayName","PolarRadiusAxis");PC(ix,"axisType","radiusAxis");PC(ix,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ff.apply(this,arguments)}function vX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vX(Object(n),!0).forEach(function(r){TC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tgt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ope(r.key),r)}}function Mgt(e,t,n){return t&&bX(e.prototype,t),n&&bX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ngt(e,t,n){return t=p_(t),Rgt(e,ipe()?Reflect.construct(t,n||[],p_(e).constructor):t.apply(e,n))}function Rgt(e,t){if(t&&(qg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dgt(e)}function Dgt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ipe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ipe=function(){return!!e})()}function p_(e){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p_(e)}function Igt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xI(e,t)}function xI(e,t){return xI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xI(e,t)}function TC(e,t,n){return t=ope(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ope(e){var t=Fgt(e,"string");return qg(t)=="symbol"?t:t+""}function Fgt(e,t){if(qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jgt=Math.PI/180,xX=1e-5,ox=function(e){function t(){return Tgt(this,t),Ngt(this,t,arguments)}return Igt(t,e),Mgt(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=bt(o,a,s,r.coordinate),d=bt(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*jgt),a;return o>xX?a=i==="outer"?"start":"end":o<-xX?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=Ef(Ef({},Se(this.props,!1)),{},{fill:"none"},Se(s,!1));if(l==="circle")return D.createElement(rx,Ff({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,f=c.map(function(d){return bt(i,o,a,d.coordinate)});return D.createElement(jz,Ff({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=Se(this.props,!1),f=Se(a,!1),d=Ef(Ef({},c),{},{fill:"none"},Se(s,!1)),h=o.map(function(p,g){var m=r.getTickLineCoord(p),y=r.getTickTextAnchor(p),v=Ef(Ef(Ef({textAnchor:y},c),{},{stroke:"none",fill:u},f),{},{index:g,payload:p,x:m.x2,y:m.y2});return D.createElement(Qe,Ff({className:ke("recharts-polar-angle-axis-tick",Bhe(a)),key:"tick-".concat(p.coordinate)},Dg(r.props,p,g)),s&&D.createElement("line",Ff({className:"recharts-polar-angle-axis-tick-line"},d,m)),a&&t.renderTickItem(a,v,l?l(p.value,g):p.value))});return D.createElement(Qe,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:D.createElement(Qe,{className:ke("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return D.isValidElement(r)?a=D.cloneElement(r,i):Te(r)?a=r(i):a=D.createElement(zg,Ff({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(T.PureComponent);TC(ox,"displayName","PolarAngleAxis");TC(ox,"axisType","angleAxis");TC(ox,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Lgt=Bde,zgt=Lgt(Object.getPrototypeOf,Object),Lz=zgt,Bgt=xu,Ugt=Lz,Wgt=Xa,qgt="[object Object]",Hgt=Function.prototype,Ggt=Object.prototype,ape=Hgt.toString,Vgt=Ggt.hasOwnProperty,Xgt=ape.call(Object);function Kgt(e){if(!Wgt(e)||Bgt(e)!=qgt)return!1;var t=Ugt(e);if(t===null)return!0;var n=Vgt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&ape.call(n)==Xgt}var spe=Kgt;const Ygt=lt(spe);var Qgt=xu,Jgt=Xa,Zgt="[object Boolean]";function emt(e){return e===!0||e===!1||Jgt(e)&&Qgt(e)==Zgt}var tmt=emt;const nmt=lt(tmt);function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g_.apply(this,arguments)}function rmt(e,t){return smt(e)||amt(e,t)||omt(e,t)||imt()}function imt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function omt(e,t){if(e){if(typeof e=="string")return wX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wX(e,t)}}function wX(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function amt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function smt(e){if(Array.isArray(e))return e}function SX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SX(Object(n),!0).forEach(function(r){lmt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lmt(e,t,n){return t=umt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function umt(e){var t=cmt(e,"string");return P1(t)=="symbol"?t:t+""}function cmt(e,t){if(P1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(P1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _X=function(t,n,r,i,o){var a=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-a/2,",").concat(n+o),s+="L ".concat(t+r-a/2-i,",").concat(n+o),s+="L ".concat(t,",").concat(n," Z"),s},fmt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dmt=function(t){var n=EX(EX({},fmt),t),r=T.useRef(),i=T.useState(-1),o=rmt(i,2),a=o[0],s=o[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,h=n.className,p=n.animationEasing,g=n.animationDuration,m=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var v=ke("recharts-trapezoid",h);return y?D.createElement(Vo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:p,isActive:y},function(b){var x=b.upperWidth,w=b.lowerWidth,E=b.height,S=b.x,A=b.y;return D.createElement(Vo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:g,easing:p},D.createElement("path",g_({},Se(n,!0),{className:v,d:_X(S,A,x,w,E),ref:r})))}):D.createElement("g",null,D.createElement("path",g_({},Se(n,!0),{className:v,d:_X(l,u,c,f,d)})))},hmt=["option","shapeType","propTransformer","activeClassName","isActive"];function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function pmt(e,t){if(e==null)return{};var n=gmt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gmt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function AX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function m_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AX(Object(n),!0).forEach(function(r){mmt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mmt(e,t,n){return t=ymt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ymt(e){var t=vmt(e,"string");return T1(t)=="symbol"?t:t+""}function vmt(e,t){if(T1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(T1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bmt(e,t){return m_(m_({},t),e)}function xmt(e,t){return e==="symbols"}function $X(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return D.createElement(kC,n);case"trapezoid":return D.createElement(dmt,n);case"sector":return D.createElement(Ghe,n);case"symbols":if(xmt(t))return D.createElement(yz,n);break;default:return null}}function wmt(e){return T.isValidElement(e)?e.props:e}function Smt(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?bmt:r,o=e.activeClassName,a=o===void 0?"recharts-active-shape":o,s=e.isActive,l=pmt(e,hmt),u;if(T.isValidElement(t))u=T.cloneElement(t,m_(m_({},l),wmt(t)));else if(Te(t))u=t(l);else if(Ygt(t)&&!nmt(t)){var c=i(t,l);u=D.createElement($X,{shapeType:n,elementProps:c})}else{var f=l;u=D.createElement($X,{shapeType:n,elementProps:f})}return s?D.createElement(Qe,{className:a},u):u}function MC(e,t){return t!=null&&"trapezoids"in e.props}function NC(e,t){return t!=null&&"sectors"in e.props}function M1(e,t){return t!=null&&"points"in e.props}function Emt(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function _mt(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Amt(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function $mt(e,t){var n;return MC(e,t)?n=Emt:NC(e,t)?n=_mt:M1(e,t)&&(n=Amt),n}function Omt(e,t){var n;return MC(e,t)?n="trapezoids":NC(e,t)?n="sectors":M1(e,t)&&(n="points"),n}function Cmt(e,t){if(MC(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(NC(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return M1(e,t)?t.payload:{}}function kmt(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Omt(n,t),o=Cmt(n,t),a=r.filter(function(l,u){var c=tx(o,l),f=n.props[i].filter(function(p){var g=$mt(n,t);return g(p,t)}),d=n.props[i].indexOf(f[f.length-1]),h=u===d;return c&&h}),s=r.indexOf(a[a.length-1]);return s}function Pmt(e){return e&&e.length?e[0]:void 0}var Tmt=Pmt,Mmt=Tmt;const Nmt=lt(Mmt);var Rmt=["key"];function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function Dmt(e,t){if(e==null)return{};var n=Imt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Imt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y_.apply(this,arguments)}function OX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OX(Object(n),!0).forEach(function(r){El(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,upe(r.key),r)}}function jmt(e,t,n){return t&&CX(e.prototype,t),n&&CX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lmt(e,t,n){return t=v_(t),zmt(e,lpe()?Reflect.construct(t,n||[],v_(e).constructor):t.apply(e,n))}function zmt(e,t){if(t&&(Hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bmt(e)}function Bmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lpe=function(){return!!e})()}function v_(e){return v_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v_(e)}function Umt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wI(e,t)}function wI(e,t){return wI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wI(e,t)}function El(e,t,n){return t=upe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function upe(e){var t=Wmt(e,"string");return Hg(t)=="symbol"?t:t+""}function Wmt(e,t){if(Hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ax=function(e){function t(){var n;Fmt(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Lmt(this,t,[].concat(i)),El(n,"state",{isAnimationFinished:!1}),El(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Te(a)&&a()}),El(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Te(a)&&a()}),El(n,"handleMouseEnter",function(a){var s=n.props.onMouseEnter;s&&s(n.props,a)}),El(n,"handleMouseLeave",function(a){var s=n.props.onMouseLeave;s&&s(n.props,a)}),n}return Umt(t,e),jmt(t,[{key:"renderDots",value:function(r){var i=this.props,o=i.dot,a=i.dataKey,s=Se(this.props,!1),l=Se(o,!0),u=r.map(function(c,f){var d=zr(zr(zr({key:"dot-".concat(f),r:3},s),l),{},{dataKey:a,cx:c.x,cy:c.y,index:f,payload:c});return t.renderDotItem(o,d)});return D.createElement(Qe,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,o=i.shape,a=i.dot,s=i.isRange,l=i.baseLinePoints,u=i.connectNulls,c;return D.isValidElement(o)?c=D.cloneElement(o,zr(zr({},this.props),{},{points:r})):Te(o)?c=o(zr(zr({},this.props),{},{points:r})):c=D.createElement(jz,y_({},Se(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:s?l:null,connectNulls:u})),D.createElement(Qe,{className:"recharts-radar-polygon"},c,a?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,o=i.points,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state.prevPoints;return D.createElement(Vo,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var h=d.t,p=f&&f.length/o.length,g=o.map(function(m,y){var v=f&&f[Math.floor(y*p)];if(v){var b=Xr(v.x,m.x),x=Xr(v.y,m.y);return zr(zr({},m),{},{x:b(h),y:x(h)})}var w=Xr(m.cx,m.x),E=Xr(m.cy,m.y);return zr(zr({},m),{},{x:w(h),y:E(h)})});return r.renderPolygonStatically(g)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,a=r.isRange,s=this.state.prevPoints;return o&&i&&i.length&&!a&&(!s||!tx(s,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.className,a=r.points,s=r.isAnimationActive;if(i||!a||!a.length)return null;var l=this.state.isAnimationFinished,u=ke("recharts-radar",o);return D.createElement(Qe,{className:u},this.renderPolygon(),(!s||l)&&Wl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var o;if(D.isValidElement(r))o=D.cloneElement(r,i);else if(Te(r))o=r(i);else{var a=i.key,s=Dmt(i,Rmt);o=D.createElement(rx,y_({},s,{key:a,className:ke("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return o}}])}(T.PureComponent);El(ax,"displayName","Radar");El(ax,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Io.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});El(ax,"getComposedData",function(e){var t=e.radiusAxis,n=e.angleAxis,r=e.displayedData,i=e.dataKey,o=e.bandSize,a=n.cx,s=n.cy,l=!1,u=[],c=n.type!=="number"?o??0:0;r.forEach(function(d,h){var p=fr(d,n.dataKey,h),g=fr(d,i),m=n.scale(p)+c,y=Array.isArray(g)?qhe(g):g,v=ze(y)?void 0:t.scale(y);Array.isArray(g)&&g.length>=2&&(l=!0),u.push(zr(zr({},bt(a,s,v,m)),{},{name:p,value:g,cx:a,cy:s,radius:v,angle:m,payload:d}))});var f=[];return l&&u.forEach(function(d){if(Array.isArray(d.value)){var h=Nmt(d.value),p=ze(h)?void 0:t.scale(h);f.push(zr(zr({},d),{},{radius:p},bt(a,s,p,d.angle)))}else f.push(d)}),{points:u,isRange:l,baseLinePoints:f}});var qmt=Math.ceil,Hmt=Math.max;function Gmt(e,t,n,r){for(var i=-1,o=Hmt(qmt((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}var Vmt=Gmt,Xmt=she,kX=1/0,Kmt=17976931348623157e292;function Ymt(e){if(!e)return e===0?e:0;if(e=Xmt(e),e===kX||e===-kX){var t=e<0?-1:1;return t*Kmt}return e===e?e:0}var Qmt=Ymt,Jmt=Vmt,Zmt=EC,IT=Qmt;function eyt(e){return function(t,n,r){return r&&typeof r!="number"&&Zmt(t,n,r)&&(n=r=void 0),t=IT(t),n===void 0?(n=t,t=0):n=IT(n),r=r===void 0?t<n?1:-1:IT(r),Jmt(t,n,r,e)}}var tyt=eyt,nyt=tyt,ryt=nyt(),iyt=ryt;const b_=lt(iyt);function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function PX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PX(Object(n),!0).forEach(function(r){cpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cpe(e,t,n){return t=oyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oyt(e){var t=ayt(e,"string");return N1(t)=="symbol"?t:t+""}function ayt(e,t){if(N1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(N1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var syt=["Webkit","Moz","O","ms"],lyt=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=syt.reduce(function(o,a){return TX(TX({},o),{},cpe({},a+r,n))},{});return i[t]=n,i};function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x_.apply(this,arguments)}function MX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MX(Object(n),!0).forEach(function(r){Ii(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uyt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dpe(r.key),r)}}function cyt(e,t,n){return t&&NX(e.prototype,t),n&&NX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fyt(e,t,n){return t=w_(t),dyt(e,fpe()?Reflect.construct(t,n||[],w_(e).constructor):t.apply(e,n))}function dyt(e,t){if(t&&(Gg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hyt(e)}function hyt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fpe=function(){return!!e})()}function w_(e){return w_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w_(e)}function pyt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SI(e,t)}function SI(e,t){return SI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SI(e,t)}function Ii(e,t,n){return t=dpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dpe(e){var t=gyt(e,"string");return Gg(t)=="symbol"?t:t+""}function gyt(e,t){if(Gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var myt=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,a=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=T0().domain(b_(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},RX=function(t){return t.changedTouches&&!!t.changedTouches.length},Vg=function(e){function t(n){var r;return uyt(this,t),r=fyt(this,t,[n]),Ii(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ii(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ii(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Ii(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ii(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ii(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ii(r,"handleSlideDragStart",function(i){var o=RX(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return pyt(t,e),cyt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),h=t.getIndexInRange(a,f),p=t.getIndexInRange(a,d);return{startIndex:h-h%l,endIndex:p===c?c:p-p%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=fr(o[r],s,r);return Te(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,h=l.endIndex,p=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+c-f-s,u+c-f-a):g<0&&(g=Math.max(g,u-a,u-s));var m=this.getIndex({startX:a+g,endX:s+g});(m.startIndex!==d||m.endIndex!==h)&&p&&p(m),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=RX(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,d=c.width,h=c.travellerWidth,p=c.onChange,g=c.gap,m=c.data,y={startX:this.state.startX,endX:this.state.endX},v=r.pageX-o;v>0?v=Math.min(v,f+d-h-u):v<0&&(v=Math.max(v,f-u)),y[a]=u+v;var b=this.getIndex(y),x=b.startIndex,w=b.endIndex,E=function(){var A=m.length-1;return a==="startX"&&(s>l?x%g===0:w%g===0)||s<l&&w===A||a==="endX"&&(s>l?w%g===0:x%g===0)||s>l&&w===A};this.setState(Ii(Ii({},a,u+v),"brushMoveStartX",r.pageX),function(){p&&E()&&p(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var h=s[d];i==="startX"&&h>=u||i==="endX"&&h<=l||this.setState(Ii({},i,h),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=T.Children.only(u);return f?D.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,h=l.ariaLabel,p=l.data,g=l.startIndex,m=l.endIndex,y=Math.max(r,this.props.x),v=FT(FT({},Se(this.props,!1)),{},{x:y,y:u,width:c,height:f}),b=h||"Min value: ".concat((o=p[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=p[m])===null||a===void 0?void 0:a.name);return D.createElement(Qe,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,v))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,h=5,p={pointerEvents:"none",fill:u};return D.createElement(Qe,{className:"recharts-brush-texts"},D.createElement(zg,x_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-h,y:a+s/2},p),this.getTextOfTick(i)),D.createElement(zg,x_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+h,y:a+s/2},p),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,h=d.startX,p=d.endX,g=d.isTextActive,m=d.isSlideMoving,y=d.isTravellerMoving,v=d.isTravellerFocused;if(!i||!i.length||!he(s)||!he(l)||!he(u)||!he(c)||u<=0||c<=0)return null;var b=ke("recharts-brush",o),x=D.Children.count(a)===1,w=lyt("userSelect","none");return D.createElement(Qe,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(g||m||y||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):Te(r)?o=r(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return FT({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?myt({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(T.PureComponent);Ii(Vg,"displayName","Brush");Ii(Vg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var yyt=Tz;function vyt(e,t){var n;return yyt(e,function(r,i,o){return n=t(r,i,o),!n}),!!n}var byt=vyt,xyt=Mde,wyt=lf,Syt=byt,Eyt=ui,_yt=EC;function Ayt(e,t,n){var r=Eyt(e)?xyt:Syt;return n&&_yt(e,t,n)&&(t=void 0),r(e,wyt(t))}var $yt=Ayt;const Oyt=lt($yt);var Ts=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},DX=the;function Cyt(e,t,n){t=="__proto__"&&DX?DX(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var zz=Cyt,kyt=zz,Pyt=Jde,Tyt=lf;function Myt(e,t){var n={};return t=Tyt(t),Pyt(e,function(r,i,o){kyt(n,i,t(r,i,o))}),n}var Nyt=Myt;const Ryt=lt(Nyt);function Dyt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Iyt=Dyt,Fyt=Tz;function jyt(e,t){var n=!0;return Fyt(e,function(r,i,o){return n=!!t(r,i,o),n}),n}var Lyt=jyt,zyt=Iyt,Byt=Lyt,Uyt=lf,Wyt=ui,qyt=EC;function Hyt(e,t,n){var r=Wyt(e)?zyt:Byt;return n&&qyt(e,t,n)&&(t=void 0),r(e,Uyt(t))}var Gyt=Hyt;const Vyt=lt(Gyt);var Xyt=["x","y"];function R1(e){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(e)}function EI(){return EI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EI.apply(this,arguments)}function IX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IX(Object(n),!0).forEach(function(r){Kyt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kyt(e,t,n){return t=Yyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yyt(e){var t=Qyt(e,"string");return R1(t)=="symbol"?t:t+""}function Qyt(e,t){if(R1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(R1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jyt(e,t){if(e==null)return{};var n=Zyt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zyt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function e0t(e,t){var n=e.x,r=e.y,i=Jyt(e,Xyt),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),f="".concat(t.width||i.width),d=parseInt(f,10);return Wy(Wy(Wy(Wy(Wy({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:d,name:t.name,radius:t.radius})}function FX(e){return D.createElement(Smt,EI({shapeType:"rectangle",propTransformer:e0t,activeClassName:"recharts-active-bar"},e))}var t0t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var o=typeof r=="number";return o?t(r,i):(o||Ud(),n)}},n0t=["value","background"],hpe;function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function r0t(e,t){if(e==null)return{};var n=i0t(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function i0t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S_.apply(this,arguments)}function jX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jX(Object(n),!0).forEach(function(r){oc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gpe(r.key),r)}}function a0t(e,t,n){return t&&LX(e.prototype,t),n&&LX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s0t(e,t,n){return t=E_(t),l0t(e,ppe()?Reflect.construct(t,n||[],E_(e).constructor):t.apply(e,n))}function l0t(e,t){if(t&&(Xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u0t(e)}function u0t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ppe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ppe=function(){return!!e})()}function E_(e){return E_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E_(e)}function c0t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_I(e,t)}function _I(e,t){return _I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_I(e,t)}function oc(e,t,n){return t=gpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gpe(e){var t=f0t(e,"string");return Xg(t)=="symbol"?t:t+""}function f0t(e,t){if(Xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sx=function(e){function t(){var n;o0t(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=s0t(this,t,[].concat(i)),oc(n,"state",{isAnimationFinished:!1}),oc(n,"id",Vm("recharts-bar-")),oc(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),oc(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return c0t(t,e),a0t(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Se(this.props,!1);return r&&r.map(function(f,d){var h=d===l,p=h?u:a,g=mn(mn(mn({},c),f),{},{isActive:h,option:p,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(Qe,S_({className:"recharts-bar-rectangle"},Dg(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),D.createElement(FX,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return D.createElement(Vo,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,g=o.map(function(m,y){var v=d&&d[y];if(v){var b=Xr(v.x,m.x),x=Xr(v.y,m.y),w=Xr(v.width,m.width),E=Xr(v.height,m.height);return mn(mn({},m),{},{x:b(p),y:x(p),width:w(p),height:E(p)})}if(a==="horizontal"){var S=Xr(0,m.height),A=S(p);return mn(mn({},m),{},{y:m.y+m.height-A,height:A})}var $=Xr(0,m.width),_=$(p);return mn(mn({},m),{},{width:_})});return D.createElement(Qe,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!tx(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Se(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=r0t(u,n0t);if(!f)return null;var h=mn(mn(mn(mn(mn({},d),{},{fill:"#eee"},f),l),Dg(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return D.createElement(FX,S_({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Do(c,nx);if(!f)return null;var d=u==="vertical"?a[0].height/2:a[0].width/2,h=function(m,y){var v=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:v,errorVal:fr(m,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(Qe,p,f.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,h=r.isAnimationActive,p=r.background,g=r.id;if(i||!o||!o.length)return null;var m=this.state.isAnimationFinished,y=ke("recharts-bar",a),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,x=v||b,w=ze(g)?this.id:g;return D.createElement(Qe,{className:y},v||b?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(w)},D.createElement("rect",{x:v?u:u-f/2,y:b?c:c-d/2,width:v?f:f*2,height:b?d:d*2}))):null,D.createElement(Qe,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(w,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,w),(!h||m)&&Wl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(T.PureComponent);hpe=sx;oc(sx,"displayName","Bar");oc(sx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Io.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oc(sx,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,f=e.displayedData,d=e.offset,h=qft(r,n);if(!h)return null;var p=t.layout,g=n.type.defaultProps,m=g!==void 0?mn(mn({},g),n.props):n.props,y=m.dataKey,v=m.children,b=m.minPointSize,x=p==="horizontal"?a:o,w=u?x.scale.domain():null,E=Qft({numericAxis:x}),S=Do(v,uhe),A=f.map(function($,_){var O,P,R,k,C,M;u?O=Hft(u[c+_],w):(O=fr($,y),Array.isArray(O)||(O=[E,O]));var I=t0t(b,hpe.defaultProps.minPointSize)(O[1],_);if(p==="horizontal"){var N,F=[a.scale(O[0]),a.scale(O[1])],L=F[0],z=F[1];P=OV({axis:o,ticks:s,bandSize:i,offset:h.offset,entry:$,index:_}),R=(N=z??L)!==null&&N!==void 0?N:void 0,k=h.size;var B=L-z;if(C=Number.isNaN(B)?0:B,M={x:P,y:a.y,width:k,height:a.height},Math.abs(I)>0&&Math.abs(C)<Math.abs(I)){var V=Sa(C||I)*(Math.abs(I)-Math.abs(C));R-=V,C+=V}}else{var ce=[o.scale(O[0]),o.scale(O[1])],fe=ce[0],Ee=ce[1];if(P=fe,R=OV({axis:a,ticks:l,bandSize:i,offset:h.offset,entry:$,index:_}),k=Ee-fe,C=h.size,M={x:o.x,y:R,width:o.width,height:C},Math.abs(I)>0&&Math.abs(k)<Math.abs(I)){var Xe=Sa(k||I)*(Math.abs(I)-Math.abs(k));k+=Xe}}return mn(mn(mn({},$),{},{x:P,y:R,width:k,height:C,value:u?O:O[1],payload:$,background:M},S&&S[_]&&S[_].props),{},{tooltipPayload:[Lhe(n,$)],tooltipPosition:{x:P+k/2,y:R+C/2}})});return mn({data:A,layout:p},d)});function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function d0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mpe(r.key),r)}}function h0t(e,t,n){return t&&zX(e.prototype,t),n&&zX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function BX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BX(Object(n),!0).forEach(function(r){RC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RC(e,t,n){return t=mpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mpe(e){var t=p0t(e,"string");return D1(t)=="symbol"?t:t+""}function p0t(e,t){if(D1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(D1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g0t=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,u=t.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!_r(u,sx);return c.reduce(function(h,p){var g=n[p],m=g.orientation,y=g.domain,v=g.padding,b=v===void 0?{}:v,x=g.mirror,w=g.reversed,E="".concat(m).concat(x?"Mirror":""),S,A,$,_,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=y[1]-y[0],R=1/0,k=g.categoricalDomain.sort();if(k.forEach(function(ce,fe){fe>0&&(R=Math.min((ce||0)-(k[fe-1]||0),R))}),Number.isFinite(R)){var C=R/P,M=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(S=C*M/2),g.padding==="no-gap"){var I=Ea(t.barCategoryGap,C*M),N=C*M/2;S=N-I-(N-I)/M*I}}}i==="xAxis"?A=[r.left+(b.left||0)+(S||0),r.left+r.width-(b.right||0)-(S||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(S||0),r.top+r.height-(b.bottom||0)-(S||0)]:A=g.range,w&&(A=[A[1],A[0]]);var F=Dhe(g,o,d),L=F.scale,z=F.realScaleType;L.domain(y).range(A),Ihe(L);var B=Fhe(L,da(da({},g),{},{realScaleType:z}));i==="xAxis"?(O=m==="top"&&!x||m==="bottom"&&x,$=r.left,_=f[E]-O*g.height):i==="yAxis"&&(O=m==="left"&&!x||m==="right"&&x,$=f[E]-O*g.width,_=r.top);var V=da(da(da({},g),B),{},{realScaleType:z,x:$,y:_,scale:L,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return V.bandSize=a_(V,B),!g.hide&&i==="xAxis"?f[E]+=(O?-1:1)*V.height:g.hide||(f[E]+=(O?-1:1)*V.width),da(da({},h),{},RC({},p,V))},{})},ype=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},m0t=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return ype({x:n,y:r},{x:i,y:o})},vpe=function(){function e(t){d0t(this,e),this.scale=t}return h0t(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();RC(vpe,"EPS",1e-4);var Bz=function(t){var n=Object.keys(t).reduce(function(r,i){return da(da({},r),{},RC({},i,vpe.create(t[i])))},{});return da(da({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Ryt(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return Vyt(i,function(o,a){return n[a].isInRange(o)})}})};function y0t(e){return(e%180+180)%180}var v0t=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=y0t(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},b0t=VJe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),bpe=T.createContext(void 0),xpe=T.createContext(void 0),wpe=T.createContext(void 0),x0t=T.createContext({}),Spe=T.createContext(void 0),Epe=T.createContext(0),_pe=T.createContext(0),UX=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=t.clipPathId,s=t.children,l=t.width,u=t.height,c=b0t(o);return D.createElement(bpe.Provider,{value:r},D.createElement(xpe.Provider,{value:i},D.createElement(x0t.Provider,{value:o},D.createElement(wpe.Provider,{value:c},D.createElement(Spe.Provider,{value:a},D.createElement(Epe.Provider,{value:u},D.createElement(_pe.Provider,{value:l},s)))))))},w0t=function(){return T.useContext(Spe)},Ape=function(t){var n=T.useContext(bpe);n==null&&Ud();var r=n[t];return r==null&&Ud(),r},$pe=function(t){var n=T.useContext(xpe);n==null&&Ud();var r=n[t];return r==null&&Ud(),r},S0t=function(){var t=T.useContext(wpe);return t},Ope=function(){return T.useContext(_pe)},Cpe=function(){return T.useContext(Epe)};function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function E0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _0t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ppe(r.key),r)}}function A0t(e,t,n){return t&&_0t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $0t(e,t,n){return t=__(t),O0t(e,kpe()?Reflect.construct(t,n||[],__(e).constructor):t.apply(e,n))}function O0t(e,t){if(t&&(Kg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C0t(e)}function C0t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kpe=function(){return!!e})()}function __(e){return __=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},__(e)}function k0t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AI(e,t)}function AI(e,t){return AI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AI(e,t)}function WX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WX(Object(n),!0).forEach(function(r){Uz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uz(e,t,n){return t=Ppe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ppe(e){var t=P0t(e,"string");return Kg(t)=="symbol"?t:t+""}function P0t(e,t){if(Kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T0t(e,t){return D0t(e)||R0t(e,t)||N0t(e,t)||M0t()}function M0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N0t(e,t){if(e){if(typeof e=="string")return HX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HX(e,t)}}function HX(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R0t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function D0t(e){if(Array.isArray(e))return e}function $I(){return $I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$I.apply(this,arguments)}var I0t=function(t,n){var r;return D.isValidElement(t)?r=D.cloneElement(t,n):Te(t)?r=t(n):r=D.createElement("line",$I({},n,{className:"recharts-reference-line-line"})),r},F0t=function(t,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,d=o.width,h=o.height;if(r){var p=u.y,g=t.y.apply(p,{position:a});if(Ts(u,"discard")&&!t.y.isInRange(g))return null;var m=[{x:c+d,y:g},{x:c,y:g}];return l==="left"?m.reverse():m}if(n){var y=u.x,v=t.x.apply(y,{position:a});if(Ts(u,"discard")&&!t.x.isInRange(v))return null;var b=[{x:v,y:f+h},{x:v,y:f}];return s==="top"?b.reverse():b}if(i){var x=u.segment,w=x.map(function(E){return t.apply(E,{position:a})});return Ts(u,"discard")&&Oyt(w,function(E){return!t.isInRange(E)})?null:w}return null};function j0t(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,u=w0t(),c=Ape(i),f=$pe(o),d=S0t();if(!u||!d)return null;ld(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Bz({x:c.scale,y:f.scale}),p=Mn(t),g=Mn(n),m=r&&r.length===2,y=F0t(h,p,g,m,d,e.position,c.orientation,f.orientation,e);if(!y)return null;var v=T0t(y,2),b=v[0],x=b.x,w=b.y,E=v[1],S=E.x,A=E.y,$=Ts(e,"hidden")?"url(#".concat(u,")"):void 0,_=qX(qX({clipPath:$},Se(e,!0)),{},{x1:x,y1:w,x2:S,y2:A});return D.createElement(Qe,{className:ke("recharts-reference-line",s)},I0t(a,_),nr.renderCallByParent(e,m0t({x1:x,y1:w,x2:S,y2:A})))}var Wz=function(e){function t(){return E0t(this,t),$0t(this,t,arguments)}return k0t(t,e),A0t(t,[{key:"render",value:function(){return D.createElement(j0t,this.props)}}])}(D.Component);Uz(Wz,"displayName","ReferenceLine");Uz(Wz,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function OI(){return OI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OI.apply(this,arguments)}function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function GX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GX(Object(n),!0).forEach(function(r){DC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z0t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mpe(r.key),r)}}function B0t(e,t,n){return t&&z0t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U0t(e,t,n){return t=A_(t),W0t(e,Tpe()?Reflect.construct(t,n||[],A_(e).constructor):t.apply(e,n))}function W0t(e,t){if(t&&(Yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q0t(e)}function q0t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tpe=function(){return!!e})()}function A_(e){return A_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A_(e)}function H0t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CI(e,t)}function CI(e,t){return CI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CI(e,t)}function DC(e,t,n){return t=Mpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mpe(e){var t=G0t(e,"string");return Yg(t)=="symbol"?t:t+""}function G0t(e,t){if(Yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V0t=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,a=Bz({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Ts(t,"discard")&&!a.isInRange(s)?null:s},IC=function(e){function t(){return L0t(this,t),U0t(this,t,arguments)}return H0t(t,e),B0t(t,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Mn(i),c=Mn(o);if(ld(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=V0t(this.props);if(!f)return null;var d=f.x,h=f.y,p=this.props,g=p.shape,m=p.className,y=Ts(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=VX(VX({clipPath:y},Se(this.props,!0)),{},{cx:d,cy:h});return D.createElement(Qe,{className:ke("recharts-reference-dot",m)},t.renderDot(g,v),nr.renderCallByParent(this.props,{x:d-a,y:h-a,width:2*a,height:2*a}))}}])}(D.Component);DC(IC,"displayName","ReferenceDot");DC(IC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});DC(IC,"renderDot",function(e,t){var n;return D.isValidElement(e)?n=D.cloneElement(e,t):Te(e)?n=e(t):n=D.createElement(rx,OI({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function kI(){return kI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kI.apply(this,arguments)}function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function XX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XX(Object(n),!0).forEach(function(r){FC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K0t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rpe(r.key),r)}}function Y0t(e,t,n){return t&&K0t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q0t(e,t,n){return t=$_(t),J0t(e,Npe()?Reflect.construct(t,n||[],$_(e).constructor):t.apply(e,n))}function J0t(e,t){if(t&&(Qg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z0t(e)}function Z0t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Npe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Npe=function(){return!!e})()}function $_(e){return $_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$_(e)}function evt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PI(e,t)}function PI(e,t){return PI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PI(e,t)}function FC(e,t,n){return t=Rpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rpe(e){var t=tvt(e,"string");return Qg(t)=="symbol"?t:t+""}function tvt(e,t){if(Qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nvt=function(t,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=Bz({x:c.scale,y:f.scale}),h={x:t?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},p={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Ts(o,"discard")&&(!d.isInRange(h)||!d.isInRange(p))?null:ype(h,p)},jC=function(e){function t(){return X0t(this,t),Q0t(this,t,arguments)}return evt(t,e),Y0t(t,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;ld(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Mn(i),d=Mn(o),h=Mn(a),p=Mn(s),g=this.props.shape;if(!f&&!d&&!h&&!p&&!g)return null;var m=nvt(f,d,h,p,this.props);if(!m&&!g)return null;var y=Ts(this.props,"hidden")?"url(#".concat(c,")"):void 0;return D.createElement(Qe,{className:ke("recharts-reference-area",l)},t.renderRect(g,KX(KX({clipPath:y},Se(this.props,!0)),m)),nr.renderCallByParent(this.props,m))}}])}(D.Component);FC(jC,"displayName","ReferenceArea");FC(jC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});FC(jC,"renderRect",function(e,t){var n;return D.isValidElement(e)?n=D.cloneElement(e,t):Te(e)?n=e(t):n=D.createElement(kC,kI({},t,{className:"recharts-reference-area-rect"})),n});function Dpe(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function rvt(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return v0t(r,n)}function ivt(e,t,n){var r=n==="width",i=e.x,o=e.y,a=e.width,s=e.height;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function O_(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function ovt(e,t){return Dpe(e,t+1)}function avt(e,t,n,r,i){for(var o=(r||[]).slice(),a=t.start,s=t.end,l=0,u=1,c=a,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:Dpe(r,u)};var g=l,m,y=function(){return m===void 0&&(m=n(p,g)),m},v=p.coordinate,b=l===0||O_(e,v,y,c,s);b||(l=0,c=a,u+=1),b&&(c=v+e*(y()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function YX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YX(Object(n),!0).forEach(function(r){svt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function svt(e,t,n){return t=lvt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lvt(e){var t=uvt(e,"string");return I1(t)=="symbol"?t:t+""}function uvt(e,t){if(I1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(I1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cvt(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,u=function(d){var h=o[d],p,g=function(){return p===void 0&&(p=n(h,d)),p};if(d===a-1){var m=e*(h.coordinate+e*g()/2-l);o[d]=h=Sr(Sr({},h),{},{tickCoord:m>0?h.coordinate-m*e:h.coordinate})}else o[d]=h=Sr(Sr({},h),{},{tickCoord:h.coordinate});var y=O_(e,h.tickCoord,g,s,l);y&&(l=h.tickCoord-e*(g()/2+i),o[d]=Sr(Sr({},h),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function fvt(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,u=t.end;if(o){var c=r[s-1],f=n(c,s-1),d=e*(c.coordinate+e*f/2-u);a[s-1]=c=Sr(Sr({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate});var h=O_(e,c.tickCoord,function(){return f},l,u);h&&(u=c.tickCoord-e*(f/2+i),a[s-1]=Sr(Sr({},c),{},{isShow:!0}))}for(var p=o?s-1:s,g=function(v){var b=a[v],x,w=function(){return x===void 0&&(x=n(b,v)),x};if(v===0){var E=e*(b.coordinate-e*w()/2-l);a[v]=b=Sr(Sr({},b),{},{tickCoord:E<0?b.coordinate-E*e:b.coordinate})}else a[v]=b=Sr(Sr({},b),{},{tickCoord:b.coordinate});var S=O_(e,b.tickCoord,w,l,u);S&&(l=b.tickCoord+e*(w()/2+i),a[v]=Sr(Sr({},b),{},{isShow:!0}))},m=0;m<p;m++)g(m);return a}function dvt(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,f=e.angle;if(!i||!i.length||!r)return[];if(he(l)||Io.isSsr)return ovt(i,typeof l=="number"&&he(l)?l:0);var d=[],h=s==="top"||s==="bottom"?"width":"height",p=c&&h==="width"?Tp(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(b,x){var w=Te(u)?u(b.value,x):b.value;return h==="width"?rvt(Tp(w,{fontSize:t,letterSpacing:n}),p,f):Tp(w,{fontSize:t,letterSpacing:n})[h]},m=i.length>=2?Sa(i[1].coordinate-i[0].coordinate):1,y=ivt(o,m,h);return l==="equidistantPreserveStart"?avt(m,y,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=fvt(m,y,g,i,a,l==="preserveStartEnd"):d=cvt(m,y,g,i,a),d.filter(function(v){return v.isShow}))}var hvt=["viewBox"],pvt=["viewBox"],gvt=["ticks"];function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lp.apply(this,arguments)}function QX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QX(Object(n),!0).forEach(function(r){qz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jT(e,t){if(e==null)return{};var n=mvt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mvt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fpe(r.key),r)}}function vvt(e,t,n){return t&&JX(e.prototype,t),n&&JX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bvt(e,t,n){return t=C_(t),xvt(e,Ipe()?Reflect.construct(t,n||[],C_(e).constructor):t.apply(e,n))}function xvt(e,t){if(t&&(Jg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wvt(e)}function wvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ipe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ipe=function(){return!!e})()}function C_(e){return C_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C_(e)}function Svt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TI(e,t)}function TI(e,t){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TI(e,t)}function qz(e,t,n){return t=Fpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fpe(e){var t=Evt(e,"string");return Jg(t)=="symbol"?t:t+""}function Evt(e,t){if(Jg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LC=function(e){function t(n){var r;return yvt(this,t),r=bvt(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return Svt(t,e),vvt(t,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=jT(r,hvt),s=this.props,l=s.viewBox,u=jT(s,pvt);return!kp(o,l)||!kp(a,u)||!kp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,h,p,g,m,y,v,b=f?-1:1,x=r.tickSize||c,w=he(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=p=r.coordinate,m=a+ +!f*l,g=m-b*x,v=g-b*d,y=w;break;case"left":g=m=r.coordinate,p=o+ +!f*s,h=p-b*x,y=h-b*d,v=w;break;case"right":g=m=r.coordinate,p=o+ +f*s,h=p+b*x,y=h+b*d,v=w;break;default:h=p=r.coordinate,m=a+ +f*l,g=m+b*x,v=g+b*d,y=w;break}return{line:{x1:h,y1:g,x2:p,y2:m},tick:{x:y,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=jr(jr(jr({},Se(this.props,!1)),Se(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=jr(jr({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var h=+(l==="left"&&!u||l==="right"&&u);f=jr(jr({},f),{},{x1:i+h*a,y1:o,x2:i+h*a,y2:o+s})}return D.createElement("line",lp({},f,{className:ke("recharts-cartesian-axis-line",io(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,h=dvt(jr(jr({},this.props),{},{ticks:r}),i,o),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),m=Se(this.props,!1),y=Se(c,!1),v=jr(jr({},m),{},{fill:"none"},Se(l,!1)),b=h.map(function(x,w){var E=a.getTickLineCoord(x),S=E.line,A=E.tick,$=jr(jr(jr(jr({textAnchor:p,verticalAnchor:g},m),{},{stroke:"none",fill:u},y),A),{},{index:w,payload:x,visibleTicksCount:h.length,tickFormatter:f});return D.createElement(Qe,lp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},Dg(a.props,x,w)),l&&D.createElement("line",lp({},v,S,{className:ke("recharts-cartesian-axis-tick-line",io(l,"className"))})),c&&t.renderTickItem(c,$,"".concat(Te(f)?f(x.value,w):x.value).concat(d||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,h=jT(f,gvt),p=d;return Te(l)&&(p=d&&d.length>0?l(this.props):l(h)),a<=0||s<=0||!p||!p.length?null:D.createElement(Qe,{className:ke("recharts-cartesian-axis",u),ref:function(m){r.layerReference=m}},o&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),nr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return D.isValidElement(r)?a=D.cloneElement(r,i):Te(r)?a=r(i):a=D.createElement(zg,lp({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(T.Component);qz(LC,"displayName","CartesianAxis");qz(LC,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _vt=["type","layout","connectNulls","ref"],Avt=["key"];function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function ZX(e,t){if(e==null)return{};var n=$vt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $vt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q0.apply(this,arguments)}function eK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eK(Object(n),!0).forEach(function(r){ha(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rh(e){return Pvt(e)||kvt(e)||Cvt(e)||Ovt()}function Ovt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cvt(e,t){if(e){if(typeof e=="string")return MI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MI(e,t)}}function kvt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pvt(e){if(Array.isArray(e))return MI(e)}function MI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lpe(r.key),r)}}function Mvt(e,t,n){return t&&tK(e.prototype,t),n&&tK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nvt(e,t,n){return t=k_(t),Rvt(e,jpe()?Reflect.construct(t,n||[],k_(e).constructor):t.apply(e,n))}function Rvt(e,t){if(t&&(Zg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dvt(e)}function Dvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jpe=function(){return!!e})()}function k_(e){return k_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k_(e)}function Ivt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NI(e,t)}function NI(e,t){return NI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NI(e,t)}function ha(e,t,n){return t=Lpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lpe(e){var t=Fvt(e,"string");return Zg(t)=="symbol"?t:t+""}function Fvt(e,t){if(Zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lx=function(e){function t(){var n;Tvt(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Nvt(this,t,[].concat(i)),ha(n,"state",{isAnimationFinished:!0,totalLength:0}),ha(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),ha(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(y,v){return y+v});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),f=a%u,d=s-a,h=[],p=0,g=0;p<l.length;g+=l[p],++p)if(g+l[p]>f){h=[].concat(Rh(l.slice(0,p)),[f-g]);break}var m=h.length%2===0?[0,d]:[d];return[].concat(Rh(t.repeat(l,c)),Rh(h),m).map(function(y){return"".concat(y,"px")}).join(", ")}),ha(n,"id",Vm("recharts-line-")),ha(n,"pathRef",function(a){n.mainCurve=a}),ha(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ha(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Ivt(t,e),Mvt(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Do(c,nx);if(!f)return null;var d=function(g,m){return{x:g.x,y:g.y,value:g.value,errorVal:fr(g.payload,m)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(Qe,h,f.map(function(p){return D.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=Se(this.props,!1),d=Se(l,!0),h=u.map(function(g,m){var y=Ri(Ri(Ri({key:"dot-".concat(m),r:3},f),d),{},{value:g.value,dataKey:c,cx:g.x,cy:g.y,index:m,payload:g.payload});return t.renderDotItem(l,y)}),p={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(Qe,Q0({className:"recharts-line-dots",key:"dots"},p),h)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=ZX(s,_vt),d=Ri(Ri(Ri({},Se(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return D.createElement(aI,Q0({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,d=a.animationEasing,h=a.animationId,p=a.animateNewValues,g=a.width,m=a.height,y=this.state,v=y.prevPoints,b=y.totalLength;return D.createElement(Vo,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var w=x.t;if(v){var E=v.length/s.length,S=s.map(function(P,R){var k=Math.floor(R*E);if(v[k]){var C=v[k],M=Xr(C.x,P.x),I=Xr(C.y,P.y);return Ri(Ri({},P),{},{x:M(w),y:I(w)})}if(p){var N=Xr(g*2,P.x),F=Xr(m/2,P.y);return Ri(Ri({},P),{},{x:N(w),y:F(w)})}return Ri(Ri({},P),{},{x:P.x,y:P.y})});return o.renderCurveStatically(S,r,i)}var A=Xr(0,b),$=A(w),_;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});_=o.getStrokeDasharray($,b,O)}else _=o.generateSimpleStrokeDasharray(b,$);return o.renderCurveStatically(s,r,i,{strokeDasharray:_})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!tx(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,d=i.left,h=i.width,p=i.height,g=i.isAnimationActive,m=i.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,v=s.length===1,b=ke("recharts-line",l),x=u&&u.allowDataOverflow,w=c&&c.allowDataOverflow,E=x||w,S=ze(m)?this.id:m,A=(r=Se(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=A.r,_=$===void 0?3:$,O=A.strokeWidth,P=O===void 0?2:O,R=QZe(a)?a:{},k=R.clipDot,C=k===void 0?!0:k,M=_*2+P;return D.createElement(Qe,{className:b},x||w?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(S)},D.createElement("rect",{x:x?d:d-h/2,y:w?f:f-p/2,width:x?h:h*2,height:w?p:p*2})),!C&&D.createElement("clipPath",{id:"clipPath-dots-".concat(S)},D.createElement("rect",{x:d-M/2,y:f-M/2,width:h+M,height:p+M}))):null,!v&&this.renderCurve(E,S),this.renderErrorBar(E,S),(v||a)&&this.renderDots(E,C,S),(!g||y)&&Wl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Rh(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Rh(a),Rh(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(D.isValidElement(r))o=D.cloneElement(r,i);else if(Te(r))o=r(i);else{var a=i.key,s=ZX(i,Avt),l=ke("recharts-line-dot",typeof r!="boolean"?r.className:"");o=D.createElement(rx,Q0({key:a},s,{className:l}))}return o}}])}(T.PureComponent);ha(lx,"displayName","Line");ha(lx,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Io.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ha(lx,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,c=t.layout,f=l.map(function(d,h){var p=fr(d,a);return c==="horizontal"?{x:$V({axis:n,ticks:i,bandSize:s,entry:d,index:h}),y:ze(p)?null:r.scale(p),value:p,payload:d}:{x:ze(p)?null:n.scale(p),y:$V({axis:r,ticks:o,bandSize:s,entry:d,index:h}),value:p,payload:d}});return Ri({points:f,layout:c},u)});function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function jvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lvt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Upe(r.key),r)}}function zvt(e,t,n){return t&&Lvt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bvt(e,t,n){return t=P_(t),Uvt(e,zpe()?Reflect.construct(t,n||[],P_(e).constructor):t.apply(e,n))}function Uvt(e,t){if(t&&(em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wvt(e)}function Wvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zpe=function(){return!!e})()}function P_(e){return P_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P_(e)}function qvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RI(e,t)}function RI(e,t){return RI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RI(e,t)}function Bpe(e,t,n){return t=Upe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Upe(e){var t=Hvt(e,"string");return em(t)=="symbol"?t:t+""}function Hvt(e,t){if(em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DI(){return DI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DI.apply(this,arguments)}function Gvt(e){var t=e.xAxisId,n=Ope(),r=Cpe(),i=Ape(t);return i==null?null:D.createElement(LC,DI({},i,{className:ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Hf(a,!0)}}))}var zC=function(e){function t(){return jvt(this,t),Bvt(this,t,arguments)}return qvt(t,e),zvt(t,[{key:"render",value:function(){return D.createElement(Gvt,this.props)}}])}(D.Component);Bpe(zC,"displayName","XAxis");Bpe(zC,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function Vvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xvt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hpe(r.key),r)}}function Kvt(e,t,n){return t&&Xvt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yvt(e,t,n){return t=T_(t),Qvt(e,Wpe()?Reflect.construct(t,n||[],T_(e).constructor):t.apply(e,n))}function Qvt(e,t){if(t&&(tm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jvt(e)}function Jvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wpe=function(){return!!e})()}function T_(e){return T_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T_(e)}function Zvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&II(e,t)}function II(e,t){return II=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},II(e,t)}function qpe(e,t,n){return t=Hpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hpe(e){var t=e1t(e,"string");return tm(t)=="symbol"?t:t+""}function e1t(e,t){if(tm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FI(){return FI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FI.apply(this,arguments)}var t1t=function(t){var n=t.yAxisId,r=Ope(),i=Cpe(),o=$pe(n);return o==null?null:D.createElement(LC,FI({},o,{className:ke("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Hf(s,!0)}}))},BC=function(e){function t(){return Vvt(this,t),Yvt(this,t,arguments)}return Zvt(t,e),Kvt(t,[{key:"render",value:function(){return D.createElement(t1t,this.props)}}])}(D.Component);qpe(BC,"displayName","YAxis");qpe(BC,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nK(e){return o1t(e)||i1t(e)||r1t(e)||n1t()}function n1t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r1t(e,t){if(e){if(typeof e=="string")return jI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jI(e,t)}}function i1t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o1t(e){if(Array.isArray(e))return jI(e)}function jI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var LI=function(t,n,r,i,o){var a=Do(t,Wz),s=Do(t,IC),l=[].concat(nK(a),nK(s)),u=Do(t,jC),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(g,m){if(m.props[c]===r&&Ts(m.props,"extendDomain")&&he(m.props[f])){var y=m.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},d)),u.length){var h="".concat(f,"1"),p="".concat(f,"2");d=u.reduce(function(g,m){if(m.props[c]===r&&Ts(m.props,"extendDomain")&&he(m.props[h])&&he(m.props[p])){var y=m.props[h],v=m.props[p];return[Math.min(g[0],y,v),Math.max(g[1],y,v)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,m){return he(m)?[Math.min(g[0],m),Math.max(g[1],m)]:g},d)),d},Gpe={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,f||l,d),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,h,p){var g=n?n+u:u;if(!this._events[g])return!1;var m=this._events[g],y=arguments.length,v,b;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,f),!0;case 4:return m.fn.call(m.context,c,f,d),!0;case 5:return m.fn.call(m.context,c,f,d,h),!0;case 6:return m.fn.call(m.context,c,f,d,h,p),!0}for(b=1,v=new Array(y-1);b<y;b++)v[b-1]=arguments[b];m.fn.apply(m.context,v)}else{var x=m.length,w;for(b=0;b<x;b++)switch(m[b].once&&this.removeListener(u,m[b].fn,void 0,!0),y){case 1:m[b].fn.call(m[b].context);break;case 2:m[b].fn.call(m[b].context,c);break;case 3:m[b].fn.call(m[b].context,c,f);break;case 4:m[b].fn.call(m[b].context,c,f,d);break;default:if(!v)for(w=1,v=new Array(y-1);w<y;w++)v[w-1]=arguments[w];m[b].fn.apply(m[b].context,v)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var h=n?n+u:u;if(!this._events[h])return this;if(!c)return a(this,h),this;var p=this._events[h];if(p.fn)p.fn===c&&(!d||p.once)&&(!f||p.context===f)&&a(this,h);else{for(var g=0,m=[],y=p.length;g<y;g++)(p[g].fn!==c||d&&!p[g].once||f&&p[g].context!==f)&&m.push(p[g]);m.length?this._events[h]=m.length===1?m[0]:m:a(this,h)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(Gpe);var a1t=Gpe.exports;const s1t=lt(a1t);var LT=new s1t,zT="recharts.syncMouseEvents";function F1(e){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(e)}function l1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u1t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vpe(r.key),r)}}function c1t(e,t,n){return t&&u1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BT(e,t,n){return t=Vpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vpe(e){var t=f1t(e,"string");return F1(t)=="symbol"?t:t+""}function f1t(e,t){if(F1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(F1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var d1t=function(){function e(){l1t(this,e),BT(this,"activeIndex",0),BT(this,"coordinateList",[]),BT(this,"layout","horizontal")}return c1t(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,h=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function h1t(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&he(r)&&he(i))return!0}return!1}function p1t(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Xpe(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,a=bt(t,n,r,i),s=bt(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function g1t(e,t,n){var r,i,o,a;if(e==="horizontal")r=t.x,o=r,i=n.top,a=n.top+n.height;else if(e==="vertical")i=t.y,a=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,f=t.angle,d=bt(s,l,u,f),h=bt(s,l,c,f);r=d.x,i=d.y,o=h.x,a=h.y}else return Xpe(t);return[{x:r,y:i},{x:o,y:a}]}function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function rK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Iw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rK(Object(n),!0).forEach(function(r){m1t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m1t(e,t,n){return t=y1t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y1t(e){var t=v1t(e,"string");return j1(t)=="symbol"?t:t+""}function v1t(e,t){if(j1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(j1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b1t(e){var t,n,r=e.element,i=e.tooltipEventType,o=e.isActive,a=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,c=e.tooltipAxisBandSize,f=e.layout,d=e.chartName,h=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var p,g=aI;if(d==="ScatterChart")p=a,g=Qpt;else if(d==="BarChart")p=p1t(f,a,l,c),g=kC;else if(f==="radial"){var m=Xpe(a),y=m.cx,v=m.cy,b=m.radius,x=m.startAngle,w=m.endAngle;p={cx:y,cy:v,startAngle:x,endAngle:w,innerRadius:b,outerRadius:b},g=Ghe}else p={points:g1t(f,a,l)},g=aI;var E=Iw(Iw(Iw(Iw({stroke:"#ccc",pointerEvents:"none"},l),p),Se(h,!1)),{},{payload:s,payloadIndex:u,className:ke("recharts-tooltip-cursor",h.className)});return T.isValidElement(h)?T.cloneElement(h,E):T.createElement(g,E)}var x1t=["item"],w1t=["children","className","width","height","style","compact","title","desc"];function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J0.apply(this,arguments)}function iK(e,t){return _1t(e)||E1t(e,t)||Ype(e,t)||S1t()}function S1t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _1t(e){if(Array.isArray(e))return e}function oK(e,t){if(e==null)return{};var n=A1t(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function A1t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O1t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qpe(r.key),r)}}function C1t(e,t,n){return t&&O1t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k1t(e,t,n){return t=M_(t),P1t(e,Kpe()?Reflect.construct(t,n||[],M_(e).constructor):t.apply(e,n))}function P1t(e,t){if(t&&(nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T1t(e)}function T1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kpe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kpe=function(){return!!e})()}function M_(e){return M_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M_(e)}function M1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zI(e,t)}function zI(e,t){return zI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zI(e,t)}function rm(e){return D1t(e)||R1t(e)||Ype(e)||N1t()}function N1t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ype(e,t){if(e){if(typeof e=="string")return BI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BI(e,t)}}function R1t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D1t(e){if(Array.isArray(e))return BI(e)}function BI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aK(Object(n),!0).forEach(function(r){Oe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oe(e,t,n){return t=Qpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qpe(e){var t=I1t(e,"string");return nm(t)=="symbol"?t:t+""}function I1t(e,t){if(nm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F1t={xAxis:["bottom","top"],yAxis:["left","right"]},j1t={width:"100%",height:"100%"},Jpe={x:0,y:0};function Fw(e){return e}var L1t=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},z1t=function(t,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var a=o.coordinate,s=i.radius;return H(H(H({},i),bt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return H(H(H({},i),bt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Jpe},UC=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(rm(s),rm(u)):s},[]);return a.length>0?a:t&&t.length&&he(i)&&he(o)?t.slice(i,o+1):[]};function Zpe(e){return e==="number"?[0,"auto"]:void 0}var UI=function(t,n,r,i){var o=t.graphicalItems,a=t.tooltipAxis,s=UC(n,t);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var h=f===void 0?s:f;d=G2(h,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(rm(l),[Lhe(u,d)]):l},[])},sK=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},a=L1t(o,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,c=jft(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=UI(t,n,c,f),h=z1t(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:h}}return null},B1t=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,f=t.children,d=t.stackOffset,h=Rhe(c,o);return r.reduce(function(p,g){var m,y=g.type.defaultProps!==void 0?H(H({},g.type.defaultProps),g.props):g.props,v=y.type,b=y.dataKey,x=y.allowDataOverflow,w=y.allowDuplicatedCategory,E=y.scale,S=y.ticks,A=y.includeHidden,$=y[a];if(p[$])return p;var _=UC(t.data,{graphicalItems:i.filter(function(B){var V,ce=a in B.props?B.props[a]:(V=B.type.defaultProps)===null||V===void 0?void 0:V[a];return ce===$}),dataStartIndex:l,dataEndIndex:u}),O=_.length,P,R,k;h1t(y.domain,x,v)&&(P=tI(y.domain,null,x),h&&(v==="number"||E!=="auto")&&(k=V0(_,b,"category")));var C=Zpe(v);if(!P||P.length===0){var M,I=(M=y.domain)!==null&&M!==void 0?M:C;if(b){if(P=V0(_,b,v),v==="category"&&h){var N=WZe(P);w&&N?(R=P,P=b_(0,O)):w||(P=PV(I,P,g).reduce(function(B,V){return B.indexOf(V)>=0?B:[].concat(rm(B),[V])},[]))}else if(v==="category")w?P=P.filter(function(B){return B!==""&&!ze(B)}):P=PV(I,P,g).reduce(function(B,V){return B.indexOf(V)>=0||V===""||ze(V)?B:[].concat(rm(B),[V])},[]);else if(v==="number"){var F=Wft(_,i.filter(function(B){var V,ce,fe=a in B.props?B.props[a]:(V=B.type.defaultProps)===null||V===void 0?void 0:V[a],Ee="hide"in B.props?B.props.hide:(ce=B.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return fe===$&&(A||!Ee)}),b,o,c);F&&(P=F)}h&&(v==="number"||E!=="auto")&&(k=V0(_,b,"category"))}else h?P=b_(0,O):s&&s[$]&&s[$].hasStack&&v==="number"?P=d==="expand"?[0,1]:jhe(s[$].stackGroups,l,u):P=Nhe(_,i.filter(function(B){var V=a in B.props?B.props[a]:B.type.defaultProps[a],ce="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return V===$&&(A||!ce)}),v,c,!0);if(v==="number")P=LI(f,P,$,o,S),I&&(P=tI(I,P,x));else if(v==="category"&&I){var L=I,z=P.every(function(B){return L.indexOf(B)>=0});z&&(P=L)}}return H(H({},p),{},Oe({},$,H(H({},y),{},{axisType:o,domain:P,categoricalDomain:k,duplicateDomain:R,originalDomain:(m=y.domain)!==null&&m!==void 0?m:C,isCategorical:h,layout:c})))},{})},U1t=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,f=t.children,d=UC(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),h=d.length,p=Rhe(c,o),g=-1;return r.reduce(function(m,y){var v=y.type.defaultProps!==void 0?H(H({},y.type.defaultProps),y.props):y.props,b=v[a],x=Zpe("number");if(!m[b]){g++;var w;return p?w=b_(0,h):s&&s[b]&&s[b].hasStack?(w=jhe(s[b].stackGroups,l,u),w=LI(f,w,b,o)):(w=tI(x,Nhe(d,r.filter(function(E){var S,A,$=a in E.props?E.props[a]:(S=E.type.defaultProps)===null||S===void 0?void 0:S[a],_="hide"in E.props?E.props.hide:(A=E.type.defaultProps)===null||A===void 0?void 0:A.hide;return $===b&&!_}),"number",c),i.defaultProps.allowDataOverflow),w=LI(f,w,b,o)),H(H({},m),{},Oe({},b,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:io(F1t,"".concat(o,".").concat(g%2),null),domain:w,originalDomain:x,isCategorical:p,layout:c})))}return m},{})},W1t=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.children,f="".concat(i,"Id"),d=Do(c,o),h={};return d&&d.length?h=B1t(t,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(h=U1t(t,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),h},q1t=function(t){var n=Lh(t),r=Hf(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Mz(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:a_(n,r)}},lK=function(t){var n=t.children,r=t.defaultShowTooltip,i=_r(n,Vg),o=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},H1t=function(t){return!t||!t.length?!1:t.some(function(n){var r=Bl(n&&n.type);return r&&r.indexOf("Bar")>=0})},uK=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},G1t=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,a=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,d=r.margin||{},h=_r(f,Vg),p=_r(f,Pp),g=Object.keys(l).reduce(function(w,E){var S=l[E],A=S.orientation;return!S.mirror&&!S.hide?H(H({},w),{},Oe({},A,w[A]+S.width)):w},{left:d.left||0,right:d.right||0}),m=Object.keys(a).reduce(function(w,E){var S=a[E],A=S.orientation;return!S.mirror&&!S.hide?H(H({},w),{},Oe({},A,io(w,"".concat(A))+S.height)):w},{top:d.top||0,bottom:d.bottom||0}),y=H(H({},m),g),v=y.bottom;h&&(y.bottom+=h.props.height||Vg.defaultProps.height),p&&n&&(y=Bft(y,i,r,n));var b=u-y.left-y.right,x=c-y.top-y.bottom;return H(H({brushBottom:v},y),{},{width:Math.max(b,0),height:Math.max(x,0)})},V1t=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},ege=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,a=t.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=t.axisComponents,u=t.legendContent,c=t.formatAxisMap,f=t.defaultProps,d=function(m,y){var v=y.graphicalItems,b=y.stackGroups,x=y.offset,w=y.updateId,E=y.dataStartIndex,S=y.dataEndIndex,A=m.barSize,$=m.layout,_=m.barGap,O=m.barCategoryGap,P=m.maxBarSize,R=uK($),k=R.numericAxisName,C=R.cateAxisName,M=H1t(v),I=[];return v.forEach(function(N,F){var L=UC(m.data,{graphicalItems:[N],dataStartIndex:E,dataEndIndex:S}),z=N.type.defaultProps!==void 0?H(H({},N.type.defaultProps),N.props):N.props,B=z.dataKey,V=z.maxBarSize,ce=z["".concat(k,"Id")],fe=z["".concat(C,"Id")],Ee={},Xe=l.reduce(function(ci,il){var ey=y["".concat(il.axisType,"Map")],cf=z["".concat(il.axisType,"Id")];ey&&ey[cf]||il.axisType==="zAxis"||Ud();var fx=ey[cf];return H(H({},ci),{},Oe(Oe({},il.axisType,fx),"".concat(il.axisType,"Ticks"),Hf(fx)))},Ee),Mt=Xe[C],ae=Xe["".concat(C,"Ticks")],ve=b&&b[ce]&&b[ce].hasStack&&Jft(N,b[ce].stackGroups),$e=Bl(N.type).indexOf("Bar")>=0,Q=a_(Mt,ae),Je=[],De=M&&Lft({barSize:A,stackGroups:b,totalSize:V1t(Xe,C)});if($e){var ct,Ze,En=ze(V)?P:V,Ni=(ct=(Ze=a_(Mt,ae,!0))!==null&&Ze!==void 0?Ze:En)!==null&&ct!==void 0?ct:0;Je=zft({barGap:_,barCategoryGap:O,bandSize:Ni!==Q?Ni:Q,sizeList:De[fe],maxBarSize:En}),Ni!==Q&&(Je=Je.map(function(ci){return H(H({},ci),{},{position:H(H({},ci.position),{},{offset:ci.position.offset-Ni/2})})}))}var Zt=N&&N.type&&N.type.getComposedData;Zt&&I.push({props:H(H({},Zt(H(H({},Xe),{},{displayedData:L,props:m,dataKey:B,item:N,bandSize:Q,barPosition:Je,offset:x,stackedData:ve,layout:$,dataStartIndex:E,dataEndIndex:S}))),{},Oe(Oe(Oe({key:N.key||"item-".concat(F)},k,Xe[k]),C,Xe[C]),"animationId",w)),childIndex:tet(N,m.children),item:N})}),I},h=function(m,y){var v=m.props,b=m.dataStartIndex,x=m.dataEndIndex,w=m.updateId;if(!OD({props:v}))return null;var E=v.children,S=v.layout,A=v.stackOffset,$=v.data,_=v.reverseStackOrder,O=uK(S),P=O.numericAxisName,R=O.cateAxisName,k=Do(E,r),C=Yft($,k,"".concat(P,"Id"),"".concat(R,"Id"),A,_),M=l.reduce(function(z,B){var V="".concat(B.axisType,"Map");return H(H({},z),{},Oe({},V,W1t(v,H(H({},B),{},{graphicalItems:k,stackGroups:B.axisType===P&&C,dataStartIndex:b,dataEndIndex:x}))))},{}),I=G1t(H(H({},M),{},{props:v,graphicalItems:k}),y==null?void 0:y.legendBBox);Object.keys(M).forEach(function(z){M[z]=c(v,M[z],I,z.replace("Map",""),n)});var N=M["".concat(R,"Map")],F=q1t(N),L=d(v,H(H({},M),{},{dataStartIndex:b,dataEndIndex:x,updateId:w,graphicalItems:k,stackGroups:C,offset:I}));return H(H({formattedGraphicalItems:L,graphicalItems:k,offset:I,stackGroups:C},F),M)},p=function(g){function m(y){var v,b,x;return $1t(this,m),x=k1t(this,m,[y]),Oe(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Oe(x,"accessibilityManager",new d1t),Oe(x,"handleLegendBBoxUpdate",function(w){if(w){var E=x.state,S=E.dataStartIndex,A=E.dataEndIndex,$=E.updateId;x.setState(H({legendBBox:w},h({props:x.props,dataStartIndex:S,dataEndIndex:A,updateId:$},H(H({},x.state),{},{legendBBox:w}))))}}),Oe(x,"handleReceiveSyncEvent",function(w,E,S){if(x.props.syncId===w){if(S===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(E)}}),Oe(x,"handleBrushChange",function(w){var E=w.startIndex,S=w.endIndex;if(E!==x.state.dataStartIndex||S!==x.state.dataEndIndex){var A=x.state.updateId;x.setState(function(){return H({dataStartIndex:E,dataEndIndex:S},h({props:x.props,dataStartIndex:E,dataEndIndex:S,updateId:A},x.state))}),x.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),Oe(x,"handleMouseEnter",function(w){var E=x.getMouseInfo(w);if(E){var S=H(H({},E),{},{isTooltipActive:!0});x.setState(S),x.triggerSyncEvent(S);var A=x.props.onMouseEnter;Te(A)&&A(S,w)}}),Oe(x,"triggeredAfterMouseMove",function(w){var E=x.getMouseInfo(w),S=E?H(H({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(S),x.triggerSyncEvent(S);var A=x.props.onMouseMove;Te(A)&&A(S,w)}),Oe(x,"handleItemMouseEnter",function(w){x.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),Oe(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),Oe(x,"handleMouseMove",function(w){w.persist(),x.throttleTriggeredAfterMouseMove(w)}),Oe(x,"handleMouseLeave",function(w){x.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};x.setState(E),x.triggerSyncEvent(E);var S=x.props.onMouseLeave;Te(S)&&S(E,w)}),Oe(x,"handleOuterEvent",function(w){var E=eet(w),S=io(x.props,"".concat(E));if(E&&Te(S)){var A,$;/.*touch.*/i.test(E)?$=x.getMouseInfo(w.changedTouches[0]):$=x.getMouseInfo(w),S((A=$)!==null&&A!==void 0?A:{},w)}}),Oe(x,"handleClick",function(w){var E=x.getMouseInfo(w);if(E){var S=H(H({},E),{},{isTooltipActive:!0});x.setState(S),x.triggerSyncEvent(S);var A=x.props.onClick;Te(A)&&A(S,w)}}),Oe(x,"handleMouseDown",function(w){var E=x.props.onMouseDown;if(Te(E)){var S=x.getMouseInfo(w);E(S,w)}}),Oe(x,"handleMouseUp",function(w){var E=x.props.onMouseUp;if(Te(E)){var S=x.getMouseInfo(w);E(S,w)}}),Oe(x,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),Oe(x,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&x.handleMouseDown(w.changedTouches[0])}),Oe(x,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&x.handleMouseUp(w.changedTouches[0])}),Oe(x,"triggerSyncEvent",function(w){x.props.syncId!==void 0&&LT.emit(zT,x.props.syncId,w,x.eventEmitterSymbol)}),Oe(x,"applySyncEvent",function(w){var E=x.props,S=E.layout,A=E.syncMethod,$=x.state.updateId,_=w.dataStartIndex,O=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)x.setState(H({dataStartIndex:_,dataEndIndex:O},h({props:x.props,dataStartIndex:_,dataEndIndex:O,updateId:$},x.state)));else if(w.activeTooltipIndex!==void 0){var P=w.chartX,R=w.chartY,k=w.activeTooltipIndex,C=x.state,M=C.offset,I=C.tooltipTicks;if(!M)return;if(typeof A=="function")k=A(I,w);else if(A==="value"){k=-1;for(var N=0;N<I.length;N++)if(I[N].value===w.activeLabel){k=N;break}}var F=H(H({},M),{},{x:M.left,y:M.top}),L=Math.min(P,F.x+F.width),z=Math.min(R,F.y+F.height),B=I[k]&&I[k].value,V=UI(x.state,x.props.data,k),ce=I[k]?{x:S==="horizontal"?I[k].coordinate:L,y:S==="horizontal"?z:I[k].coordinate}:Jpe;x.setState(H(H({},w),{},{activeLabel:B,activeCoordinate:ce,activePayload:V,activeTooltipIndex:k}))}else x.setState(w)}),Oe(x,"renderCursor",function(w){var E,S=x.state,A=S.isTooltipActive,$=S.activeCoordinate,_=S.activePayload,O=S.offset,P=S.activeTooltipIndex,R=S.tooltipAxisBandSize,k=x.getTooltipEventType(),C=(E=w.props.active)!==null&&E!==void 0?E:A,M=x.props.layout,I=w.key||"_recharts-cursor";return D.createElement(b1t,{key:I,activeCoordinate:$,activePayload:_,activeTooltipIndex:P,chartName:n,element:w,isActive:C,layout:M,offset:O,tooltipAxisBandSize:R,tooltipEventType:k})}),Oe(x,"renderPolarAxis",function(w,E,S){var A=io(w,"type.axisType"),$=io(x.state,"".concat(A,"Map")),_=w.type.defaultProps,O=_!==void 0?H(H({},_),w.props):w.props,P=$&&$[O["".concat(A,"Id")]];return T.cloneElement(w,H(H({},P),{},{className:ke(A,P.className),key:w.key||"".concat(E,"-").concat(S),ticks:Hf(P,!0)}))}),Oe(x,"renderPolarGrid",function(w){var E=w.props,S=E.radialLines,A=E.polarAngles,$=E.polarRadius,_=x.state,O=_.radiusAxisMap,P=_.angleAxisMap,R=Lh(O),k=Lh(P),C=k.cx,M=k.cy,I=k.innerRadius,N=k.outerRadius;return T.cloneElement(w,{polarAngles:Array.isArray(A)?A:Hf(k,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray($)?$:Hf(R,!0).map(function(F){return F.coordinate}),cx:C,cy:M,innerRadius:I,outerRadius:N,key:w.key||"polar-grid",radialLines:S})}),Oe(x,"renderLegend",function(){var w=x.state.formattedGraphicalItems,E=x.props,S=E.children,A=E.width,$=E.height,_=x.props.margin||{},O=A-(_.left||0)-(_.right||0),P=The({children:S,formattedGraphicalItems:w,legendWidth:O,legendContent:u});if(!P)return null;var R=P.item,k=oK(P,x1t);return T.cloneElement(R,H(H({},k),{},{chartWidth:A,chartHeight:$,margin:_,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),Oe(x,"renderTooltip",function(){var w,E=x.props,S=E.children,A=E.accessibilityLayer,$=_r(S,Bi);if(!$)return null;var _=x.state,O=_.isTooltipActive,P=_.activeCoordinate,R=_.activePayload,k=_.activeLabel,C=_.offset,M=(w=$.props.active)!==null&&w!==void 0?w:O;return T.cloneElement($,{viewBox:H(H({},C),{},{x:C.left,y:C.top}),active:M,label:k,payload:M?R:[],coordinate:P,accessibilityLayer:A})}),Oe(x,"renderBrush",function(w){var E=x.props,S=E.margin,A=E.data,$=x.state,_=$.offset,O=$.dataStartIndex,P=$.dataEndIndex,R=$.updateId;return T.cloneElement(w,{key:w.key||"_recharts-brush",onChange:Mw(x.handleBrushChange,w.props.onChange),data:A,x:he(w.props.x)?w.props.x:_.left,y:he(w.props.y)?w.props.y:_.top+_.height+_.brushBottom-(S.bottom||0),width:he(w.props.width)?w.props.width:_.width,startIndex:O,endIndex:P,updateId:"brush-".concat(R)})}),Oe(x,"renderReferenceElement",function(w,E,S){if(!w)return null;var A=x,$=A.clipPathId,_=x.state,O=_.xAxisMap,P=_.yAxisMap,R=_.offset,k=w.type.defaultProps||{},C=w.props,M=C.xAxisId,I=M===void 0?k.xAxisId:M,N=C.yAxisId,F=N===void 0?k.yAxisId:N;return T.cloneElement(w,{key:w.key||"".concat(E,"-").concat(S),xAxis:O[I],yAxis:P[F],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:$})}),Oe(x,"renderActivePoints",function(w){var E=w.item,S=w.activePoint,A=w.basePoint,$=w.childIndex,_=w.isRange,O=[],P=E.props.key,R=E.item.type.defaultProps!==void 0?H(H({},E.item.type.defaultProps),E.item.props):E.item.props,k=R.activeDot,C=R.dataKey,M=H(H({index:$,dataKey:C,cx:S.x,cy:S.y,r:4,fill:Fz(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Se(k,!1)),V2(k));return O.push(m.renderActiveDot(k,M,"".concat(P,"-activePoint-").concat($))),A?O.push(m.renderActiveDot(k,H(H({},M),{},{cx:A.x,cy:A.y}),"".concat(P,"-basePoint-").concat($))):_&&O.push(null),O}),Oe(x,"renderGraphicChild",function(w,E,S){var A=x.filterFormatItem(w,E,S);if(!A)return null;var $=x.getTooltipEventType(),_=x.state,O=_.isTooltipActive,P=_.tooltipAxis,R=_.activeTooltipIndex,k=_.activeLabel,C=x.props.children,M=_r(C,Bi),I=A.props,N=I.points,F=I.isRange,L=I.baseLine,z=A.item.type.defaultProps!==void 0?H(H({},A.item.type.defaultProps),A.item.props):A.item.props,B=z.activeDot,V=z.hide,ce=z.activeBar,fe=z.activeShape,Ee=!!(!V&&O&&M&&(B||ce||fe)),Xe={};$!=="axis"&&M&&M.props.trigger==="click"?Xe={onClick:Mw(x.handleItemMouseEnter,w.props.onClick)}:$!=="axis"&&(Xe={onMouseLeave:Mw(x.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:Mw(x.handleItemMouseEnter,w.props.onMouseEnter)});var Mt=T.cloneElement(w,H(H({},A.props),Xe));function ae(il){return typeof P.dataKey=="function"?P.dataKey(il.payload):null}if(Ee)if(R>=0){var ve,$e;if(P.dataKey&&!P.allowDuplicatedCategory){var Q=typeof P.dataKey=="function"?ae:"payload.".concat(P.dataKey.toString());ve=G2(N,Q,k),$e=F&&L&&G2(L,Q,k)}else ve=N==null?void 0:N[R],$e=F&&L&&L[R];if(fe||ce){var Je=w.props.activeIndex!==void 0?w.props.activeIndex:R;return[T.cloneElement(w,H(H(H({},A.props),Xe),{},{activeIndex:Je})),null,null]}if(!ze(ve))return[Mt].concat(rm(x.renderActivePoints({item:A,activePoint:ve,basePoint:$e,childIndex:R,isRange:F})))}else{var De,ct=(De=x.getItemByXY(x.state.activeCoordinate))!==null&&De!==void 0?De:{graphicalItem:Mt},Ze=ct.graphicalItem,En=Ze.item,Ni=En===void 0?w:En,Zt=Ze.childIndex,ci=H(H(H({},A.props),Xe),{},{activeIndex:Zt});return[T.cloneElement(Ni,ci),null,null]}return F?[Mt,null,null]:[Mt,null]}),Oe(x,"renderCustomized",function(w,E,S){return T.cloneElement(w,H(H({key:"recharts-customized-".concat(S)},x.props),x.state))}),Oe(x,"renderMap",{CartesianGrid:{handler:Fw,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Fw},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Fw},YAxis:{handler:Fw},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((v=y.id)!==null&&v!==void 0?v:Vm("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=lhe(x.triggeredAfterMouseMove,(b=y.throttleDelay)!==null&&b!==void 0?b:1e3/60),x.state={},x}return M1t(m,g),C1t(m,[{key:"componentDidMount",value:function(){var v,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,b=v.children,x=v.data,w=v.height,E=v.layout,S=_r(b,Bi);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,_=UI(this.state,x,A,$),O=this.state.tooltipTicks[A].coordinate,P=(this.state.offset.top+w)/2,R=E==="horizontal",k=R?{x:O,y:P}:{y:O,x:P},C=this.state.formattedGraphicalItems.find(function(I){var N=I.item;return N.type.name==="Scatter"});C&&(k=H(H({},k),C.props.points[A].tooltipPosition),_=C.props.points[A].tooltipPayload);var M={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:$,activePayload:_,activeCoordinate:k};this.setState(M),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var x,w;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(v){CD([_r(v.children,Bi)],[_r(this.props.children,Bi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=_r(this.props.children,Bi);if(v&&typeof v.props.shared=="boolean"){var b=v.props.shared?"axis":"item";return s.indexOf(b)>=0?b:o}return o}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var b=this.container,x=b.getBoundingClientRect(),w=Lut(x),E={chartX:Math.round(v.pageX-w.left),chartY:Math.round(v.pageY-w.top)},S=x.width/b.offsetWidth||1,A=this.inRange(E.chartX,E.chartY,S);if(!A)return null;var $=this.state,_=$.xAxisMap,O=$.yAxisMap,P=this.getTooltipEventType();if(P!=="axis"&&_&&O){var R=Lh(_).scale,k=Lh(O).scale,C=R&&R.invert?R.invert(E.chartX):null,M=k&&k.invert?k.invert(E.chartY):null;return H(H({},E),{},{xValue:C,yValue:M})}var I=sK(this.state,this.props.data,this.props.layout,A);return I?H(H({},E),I):null}},{key:"inRange",value:function(v,b){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,E=v/x,S=b/x;if(w==="horizontal"||w==="vertical"){var A=this.state.offset,$=E>=A.left&&E<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return $?{x:E,y:S}:null}var _=this.state,O=_.angleAxisMap,P=_.radiusAxisMap;if(O&&P){var R=Lh(O);return NV({x:E,y:S},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,b=this.getTooltipEventType(),x=_r(v,Bi),w={};x&&b==="axis"&&(x.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=V2(this.props,this.handleOuterEvent);return H(H({},E),w)}},{key:"addListener",value:function(){LT.on(zT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){LT.removeListener(zT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,b,x){for(var w=this.state.formattedGraphicalItems,E=0,S=w.length;E<S;E++){var A=w[E];if(A.item===v||A.props.key===v.key||b===Bl(A.item.type)&&x===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,b=this.state.offset,x=b.left,w=b.top,E=b.height,S=b.width;return D.createElement("defs",null,D.createElement("clipPath",{id:v},D.createElement("rect",{x,y:w,height:E,width:S})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(b,x){var w=iK(x,2),E=w[0],S=w[1];return H(H({},b),{},Oe({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(b,x){var w=iK(x,2),E=w[0],S=w[1];return H(H({},b),{},Oe({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[v])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(v){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[v])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(v){var b=this.state,x=b.formattedGraphicalItems,w=b.activeItem;if(x&&x.length)for(var E=0,S=x.length;E<S;E++){var A=x[E],$=A.props,_=A.item,O=_.type.defaultProps!==void 0?H(H({},_.type.defaultProps),_.props):_.props,P=Bl(_.type);if(P==="Bar"){var R=($.data||[]).find(function(I){return Mpt(v,I)});if(R)return{graphicalItem:A,payload:R}}else if(P==="RadialBar"){var k=($.data||[]).find(function(I){return NV(v,I)});if(k)return{graphicalItem:A,payload:k}}else if(MC(A,w)||NC(A,w)||M1(A,w)){var C=kmt({graphicalItem:A,activeTooltipItem:w,itemData:O.data}),M=O.activeIndex===void 0?C:O.activeIndex;return{graphicalItem:H(H({},A),{},{childIndex:M}),payload:M1(A,w)?O.data[C]:A.props.data[C]}}}return null}},{key:"render",value:function(){var v=this;if(!OD(this))return null;var b=this.props,x=b.children,w=b.className,E=b.width,S=b.height,A=b.style,$=b.compact,_=b.title,O=b.desc,P=oK(b,w1t),R=Se(P,!1);if($)return D.createElement(UX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(X2,J0({},R,{width:E,height:S,title:_,desc:O}),this.renderClipPath(),dG(x,this.renderMap)));if(this.props.accessibilityLayer){var k,C;R.tabIndex=(k=this.props.tabIndex)!==null&&k!==void 0?k:0,R.role=(C=this.props.role)!==null&&C!==void 0?C:"application",R.onKeyDown=function(I){v.accessibilityManager.keyboardEvent(I)},R.onFocus=function(){v.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return D.createElement(UX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",J0({className:ke("recharts-wrapper",w),style:H({position:"relative",cursor:"default",width:E,height:S},A)},M,{ref:function(N){v.container=N}}),D.createElement(X2,J0({},R,{width:E,height:S,title:_,desc:O,style:j1t}),this.renderClipPath(),dG(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(T.Component);return Oe(p,"displayName",n),Oe(p,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Oe(p,"getDerivedStateFromProps",function(g,m){var y=g.dataKey,v=g.data,b=g.children,x=g.width,w=g.height,E=g.layout,S=g.stackOffset,A=g.margin,$=m.dataStartIndex,_=m.dataEndIndex;if(m.updateId===void 0){var O=lK(g);return H(H(H({},O),{},{updateId:0},h(H(H({props:g},O),{},{updateId:0}),m)),{},{prevDataKey:y,prevData:v,prevWidth:x,prevHeight:w,prevLayout:E,prevStackOffset:S,prevMargin:A,prevChildren:b})}if(y!==m.prevDataKey||v!==m.prevData||x!==m.prevWidth||w!==m.prevHeight||E!==m.prevLayout||S!==m.prevStackOffset||!kp(A,m.prevMargin)){var P=lK(g),R={chartX:m.chartX,chartY:m.chartY,isTooltipActive:m.isTooltipActive},k=H(H({},sK(m,v,E)),{},{updateId:m.updateId+1}),C=H(H(H({},P),R),k);return H(H(H({},C),h(H({props:g},C),m)),{},{prevDataKey:y,prevData:v,prevWidth:x,prevHeight:w,prevLayout:E,prevStackOffset:S,prevMargin:A,prevChildren:b})}if(!CD(b,m.prevChildren)){var M,I,N,F,L=_r(b,Vg),z=L&&(M=(I=L.props)===null||I===void 0?void 0:I.startIndex)!==null&&M!==void 0?M:$,B=L&&(N=(F=L.props)===null||F===void 0?void 0:F.endIndex)!==null&&N!==void 0?N:_,V=z!==$||B!==_,ce=!ze(v),fe=ce&&!V?m.updateId:m.updateId+1;return H(H({updateId:fe},h(H(H({props:g},m),{},{updateId:fe,dataStartIndex:z,dataEndIndex:B}),m)),{},{prevChildren:b,dataStartIndex:z,dataEndIndex:B})}return null}),Oe(p,"renderActiveDot",function(g,m,y){var v;return T.isValidElement(g)?v=T.cloneElement(g,m):Te(g)?v=g(m):v=D.createElement(rx,m),D.createElement(Qe,{className:"recharts-active-dot",key:y},v)}),function(m){return D.createElement(p,m)}},X1t=ege({chartName:"LineChart",GraphicalChild:lx,axisComponents:[{axisType:"xAxis",AxisComp:zC},{axisType:"yAxis",AxisComp:BC}],formatAxisMap:g0t});function K1t(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Y1t=K1t,Q1t=zz,J1t=tC,Z1t=Object.prototype,ebt=Z1t.hasOwnProperty;function tbt(e,t,n){var r=e[t];(!(ebt.call(e,t)&&J1t(r,n))||n===void 0&&!(t in e))&&Q1t(e,t,n)}var tge=tbt,nbt=tge,rbt=zz;function ibt(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;l===void 0&&(l=e[s]),i?rbt(n,s,l):nbt(n,s,l)}return n}var ux=ibt,obt=ux,abt=ex;function sbt(e,t){return e&&obt(t,abt(t),e)}var lbt=sbt;function ubt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var cbt=ubt,fbt=Ka,dbt=Cz,hbt=cbt,pbt=Object.prototype,gbt=pbt.hasOwnProperty;function mbt(e){if(!fbt(e))return hbt(e);var t=dbt(e),n=[];for(var r in e)r=="constructor"&&(t||!gbt.call(e,r))||n.push(r);return n}var ybt=mbt,vbt=zde,bbt=ybt,xbt=Zb;function wbt(e){return xbt(e)?vbt(e,!0):bbt(e)}var Hz=wbt,Sbt=ux,Ebt=Hz;function _bt(e,t){return e&&Sbt(t,Ebt(t),e)}var Abt=_bt,N_={exports:{}};N_.exports;(function(e,t){var n=Va,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=s?s(f):new u.constructor(f);return u.copy(d),d}e.exports=l})(N_,N_.exports);var $bt=N_.exports;function Obt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Cbt=Obt,kbt=ux,Pbt=Sz;function Tbt(e,t){return kbt(e,Pbt(e),t)}var Mbt=Tbt,Nbt=wz,Rbt=Lz,Dbt=Sz,Ibt=Fde,Fbt=Object.getOwnPropertySymbols,jbt=Fbt?function(e){for(var t=[];e;)Nbt(t,Dbt(e)),e=Rbt(e);return t}:Ibt,nge=jbt,Lbt=ux,zbt=nge;function Bbt(e,t){return Lbt(e,zbt(e),t)}var Ubt=Bbt,Wbt=Ide,qbt=nge,Hbt=Hz;function Gbt(e){return Wbt(e,Hbt,qbt)}var rge=Gbt,Vbt=Object.prototype,Xbt=Vbt.hasOwnProperty;function Kbt(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Xbt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Ybt=Kbt,cK=Dde;function Qbt(e){var t=new e.constructor(e.byteLength);return new cK(t).set(new cK(e)),t}var Gz=Qbt,Jbt=Gz;function Zbt(e,t){var n=t?Jbt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var ext=Zbt,txt=/\w*$/;function nxt(e){var t=new e.constructor(e.source,txt.exec(e));return t.lastIndex=e.lastIndex,t}var rxt=nxt,fK=Bm,dK=fK?fK.prototype:void 0,hK=dK?dK.valueOf:void 0;function ixt(e){return hK?Object(hK.call(e)):{}}var oxt=ixt,axt=Gz;function sxt(e,t){var n=t?axt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var lxt=sxt,uxt=Gz,cxt=ext,fxt=rxt,dxt=oxt,hxt=lxt,pxt="[object Boolean]",gxt="[object Date]",mxt="[object Map]",yxt="[object Number]",vxt="[object RegExp]",bxt="[object Set]",xxt="[object String]",wxt="[object Symbol]",Sxt="[object ArrayBuffer]",Ext="[object DataView]",_xt="[object Float32Array]",Axt="[object Float64Array]",$xt="[object Int8Array]",Oxt="[object Int16Array]",Cxt="[object Int32Array]",kxt="[object Uint8Array]",Pxt="[object Uint8ClampedArray]",Txt="[object Uint16Array]",Mxt="[object Uint32Array]";function Nxt(e,t,n){var r=e.constructor;switch(t){case Sxt:return uxt(e);case pxt:case gxt:return new r(+e);case Ext:return cxt(e,n);case _xt:case Axt:case $xt:case Oxt:case Cxt:case kxt:case Pxt:case Txt:case Mxt:return hxt(e,n);case mxt:return new r;case yxt:case xxt:return new r(e);case vxt:return fxt(e);case bxt:return new r;case wxt:return dxt(e)}}var Rxt=Nxt,Dxt=Ka,pK=Object.create,Ixt=function(){function e(){}return function(t){if(!Dxt(t))return{};if(pK)return pK(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Fxt=Ixt,jxt=Fxt,Lxt=Lz,zxt=Cz;function Bxt(e){return typeof e.constructor=="function"&&!zxt(e)?jxt(Lxt(e)):{}}var Uxt=Bxt,Wxt=wC,qxt=Xa,Hxt="[object Map]";function Gxt(e){return qxt(e)&&Wxt(e)==Hxt}var Vxt=Gxt,Xxt=Vxt,Kxt=xC,gK=Oz,mK=gK&&gK.isMap,Yxt=mK?Kxt(mK):Xxt,Qxt=Yxt,Jxt=wC,Zxt=Xa,ewt="[object Set]";function twt(e){return Zxt(e)&&Jxt(e)==ewt}var nwt=twt,rwt=nwt,iwt=xC,yK=Oz,vK=yK&&yK.isSet,owt=vK?iwt(vK):rwt,awt=owt,swt=bz,lwt=Y1t,uwt=tge,cwt=lbt,fwt=Abt,dwt=$bt,hwt=Cbt,pwt=Mbt,gwt=Ubt,mwt=Ude,ywt=rge,vwt=wC,bwt=Ybt,xwt=Rxt,wwt=Uxt,Swt=ui,Ewt=_z,_wt=Qxt,Awt=Ka,$wt=awt,Owt=ex,Cwt=Hz,kwt=1,Pwt=2,Twt=4,ige="[object Arguments]",Mwt="[object Array]",Nwt="[object Boolean]",Rwt="[object Date]",Dwt="[object Error]",oge="[object Function]",Iwt="[object GeneratorFunction]",Fwt="[object Map]",jwt="[object Number]",age="[object Object]",Lwt="[object RegExp]",zwt="[object Set]",Bwt="[object String]",Uwt="[object Symbol]",Wwt="[object WeakMap]",qwt="[object ArrayBuffer]",Hwt="[object DataView]",Gwt="[object Float32Array]",Vwt="[object Float64Array]",Xwt="[object Int8Array]",Kwt="[object Int16Array]",Ywt="[object Int32Array]",Qwt="[object Uint8Array]",Jwt="[object Uint8ClampedArray]",Zwt="[object Uint16Array]",eSt="[object Uint32Array]",Ct={};Ct[ige]=Ct[Mwt]=Ct[qwt]=Ct[Hwt]=Ct[Nwt]=Ct[Rwt]=Ct[Gwt]=Ct[Vwt]=Ct[Xwt]=Ct[Kwt]=Ct[Ywt]=Ct[Fwt]=Ct[jwt]=Ct[age]=Ct[Lwt]=Ct[zwt]=Ct[Bwt]=Ct[Uwt]=Ct[Qwt]=Ct[Jwt]=Ct[Zwt]=Ct[eSt]=!0;Ct[Dwt]=Ct[oge]=Ct[Wwt]=!1;function kS(e,t,n,r,i,o){var a,s=t&kwt,l=t&Pwt,u=t&Twt;if(n&&(a=i?n(e,r,i,o):n(e)),a!==void 0)return a;if(!Awt(e))return e;var c=Swt(e);if(c){if(a=bwt(e),!s)return hwt(e,a)}else{var f=vwt(e),d=f==oge||f==Iwt;if(Ewt(e))return dwt(e,s);if(f==age||f==ige||d&&!i){if(a=l||d?{}:wwt(e),!s)return l?gwt(e,fwt(a,e)):pwt(e,cwt(a,e))}else{if(!Ct[f])return i?e:{};a=xwt(e,f,s)}}o||(o=new swt);var h=o.get(e);if(h)return h;o.set(e,a),$wt(e)?e.forEach(function(m){a.add(kS(m,t,n,m,e,o))}):_wt(e)&&e.forEach(function(m,y){a.set(y,kS(m,t,n,y,e,o))});var p=u?l?ywt:mwt:l?Cwt:Owt,g=c?void 0:p(e);return lwt(g||e,function(m,y){g&&(y=m,m=e[y]),uwt(a,y,kS(m,t,n,y,e,o))}),a}var tSt=kS,nSt=sC,rSt=xde;function iSt(e,t){return t.length<2?e:nSt(e,rSt(t,0,-1))}var oSt=iSt,aSt=aC,sSt=Whe,lSt=oSt,uSt=Qb;function cSt(e,t){return t=aSt(t,e),e=lSt(e,t),e==null||delete e[uSt(sSt(t))]}var fSt=cSt,dSt=spe;function hSt(e){return dSt(e)?void 0:e}var pSt=hSt,gSt=Pz;function mSt(e){var t=e==null?0:e.length;return t?gSt(e,1):[]}var ySt=mSt,vSt=ySt,bSt=ehe,xSt=nhe;function wSt(e){return xSt(bSt(e,void 0,vSt),e+"")}var SSt=wSt,ESt=oC,_St=tSt,ASt=fSt,$St=aC,OSt=ux,CSt=pSt,kSt=SSt,PSt=rge,TSt=1,MSt=2,NSt=4,RSt=kSt(function(e,t){var n={};if(e==null)return n;var r=!1;t=ESt(t,function(o){return o=$St(o,e),r||(r=o.length>1),o}),OSt(e,PSt(e),n),r&&(n=_St(n,TSt|MSt|NSt,CSt));for(var i=t.length;i--;)ASt(n,t[i]);return n}),DSt=RSt;const ISt=lt(DSt);var FSt=["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],jSt=["width","height","className","style","children","type"];function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R_.apply(this,arguments)}function LSt(e,t){if(e==null)return{};var n=zSt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zSt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function BSt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lge(r.key),r)}}function USt(e,t,n){return t&&bK(e.prototype,t),n&&bK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WSt(e,t,n){return t=D_(t),qSt(e,sge()?Reflect.construct(t,n||[],D_(e).constructor):t.apply(e,n))}function qSt(e,t){if(t&&(im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HSt(e)}function HSt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sge=function(){return!!e})()}function D_(e){return D_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D_(e)}function GSt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WI(e,t)}function WI(e,t){return WI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WI(e,t)}function xK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xK(Object(n),!0).forEach(function(r){ql(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ql(e,t,n){return t=lge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lge(e){var t=VSt(e,"string");return im(t)=="symbol"?t:t+""}function VSt(e,t){if(im(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L1="value",UT=function e(t){var n=t.depth,r=t.node,i=t.index,o=t.valueKey,a=r.children,s=n+1,l=a&&a.length?a.map(function(c,f){return e({depth:s,node:c,index:f,valueKey:o})}):null,u;return a&&a.length?u=l.reduce(function(c,f){return c+f[L1]},0):u=fh(r[o])||r[o]<=0?0:r[o],kt(kt({},r),{},ql(ql(ql({children:l},L1,u),"depth",n),"index",i))},XSt=function(t){return{x:t.x,y:t.y,width:t.width,height:t.height}},KSt=function(t,n){var r=n<0?0:n;return t.map(function(i){var o=i[L1]*r;return kt(kt({},i),{},{area:fh(o)||o<=0?0:o})})},YSt=function(t,n,r){var i=n*n,o=t.area*t.area,a=t.reduce(function(u,c){return{min:Math.min(u.min,c.area),max:Math.max(u.max,c.area)}},{min:1/0,max:0}),s=a.min,l=a.max;return o?Math.max(i*l*r/o,o/(i*s*r)):1/0},QSt=function(t,n,r,i){var o=n?Math.round(t.area/n):0;(i||o>r.height)&&(o=r.height);for(var a=r.x,s,l=0,u=t.length;l<u;l++)s=t[l],s.x=a,s.y=r.y,s.height=o,s.width=Math.min(o?Math.round(s.area/o):0,r.x+r.width-a),a+=s.width;return s.width+=r.x+r.width-a,kt(kt({},r),{},{y:r.y+o,height:r.height-o})},JSt=function(t,n,r,i){var o=n?Math.round(t.area/n):0;(i||o>r.width)&&(o=r.width);for(var a=r.y,s,l=0,u=t.length;l<u;l++)s=t[l],s.x=r.x,s.y=a,s.width=o,s.height=Math.min(o?Math.round(s.area/o):0,r.y+r.height-a),a+=s.height;return s&&(s.height+=r.y+r.height-a),kt(kt({},r),{},{x:r.x+o,width:r.width-o})},wK=function(t,n,r,i){return n===r.width?QSt(t,n,r,i):JSt(t,n,r,i)},WT=function e(t,n){var r=t.children;if(r&&r.length){var i=XSt(t),o=[],a=1/0,s,l,u=Math.min(i.width,i.height),c=KSt(r,i.width*i.height/t[L1]),f=c.slice();for(o.area=0;f.length>0;)o.push(s=f[0]),o.area+=s.area,l=YSt(o,u,n),l<=a?(f.shift(),a=l):(o.area-=o.pop().area,i=wK(o,u,i,!1),u=Math.min(i.width,i.height),o.length=o.area=0,a=1/0);return o.length&&(i=wK(o,u,i,!0),o.length=o.area=0),kt(kt({},t),{},{children:c.map(function(d){return e(d,n)})})}return t},ZSt={isTooltipActive:!1,isAnimationFinished:!1,activeNode:null,formatRoot:null,currentRoot:null,nestIndex:[]},Vz=function(e){function t(){var n;BSt(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=WSt(this,t,[].concat(i)),ql(n,"state",kt({},ZSt)),ql(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Te(a)&&a()}),ql(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Te(a)&&a()}),n}return GSt(t,e),USt(t,[{key:"handleMouseEnter",value:function(r,i){i.persist();var o=this.props,a=o.onMouseEnter,s=o.children,l=_r(s,Bi);l?this.setState({isTooltipActive:!0,activeNode:r},function(){a&&a(r,i)}):a&&a(r,i)}},{key:"handleMouseLeave",value:function(r,i){i.persist();var o=this.props,a=o.onMouseLeave,s=o.children,l=_r(s,Bi);l?this.setState({isTooltipActive:!1,activeNode:null},function(){a&&a(r,i)}):a&&a(r,i)}},{key:"handleClick",value:function(r){var i=this.props,o=i.onClick,a=i.type;if(a==="nest"&&r.children){var s=this.props,l=s.width,u=s.height,c=s.dataKey,f=s.aspectRatio,d=UT({depth:0,node:kt(kt({},r),{},{x:0,y:0,width:l,height:u}),index:0,valueKey:c}),h=WT(d,f),p=this.state.nestIndex;p.push(r),this.setState({formatRoot:h,currentRoot:d,nestIndex:p})}o&&o(r)}},{key:"handleNestIndex",value:function(r,i){var o=this.state.nestIndex,a=this.props,s=a.width,l=a.height,u=a.dataKey,c=a.aspectRatio,f=UT({depth:0,node:kt(kt({},r),{},{x:0,y:0,width:s,height:l}),index:0,valueKey:u}),d=WT(f,c);o=o.slice(0,i+1),this.setState({formatRoot:d,currentRoot:r,nestIndex:o})}},{key:"renderItem",value:function(r,i,o){var a=this,s=this.props,l=s.isAnimationActive,u=s.animationBegin,c=s.animationDuration,f=s.animationEasing,d=s.isUpdateAnimationActive,h=s.type,p=s.animationId,g=s.colorPanel,m=this.state.isAnimationFinished,y=i.width,v=i.height,b=i.x,x=i.y,w=i.depth,E=parseInt("".concat((Math.random()*2-1)*y),10),S={};return(o||h==="nest")&&(S={onMouseEnter:this.handleMouseEnter.bind(this,i),onMouseLeave:this.handleMouseLeave.bind(this,i),onClick:this.handleClick.bind(this,i)}),l?D.createElement(Vo,{begin:u,duration:c,isActive:l,easing:f,key:"treemap-".concat(p),from:{x:b,y:x,width:y,height:v},to:{x:b,y:x,width:y,height:v},onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(A){var $=A.x,_=A.y,O=A.width,P=A.height;return D.createElement(Vo,{from:"translate(".concat(E,"px, ").concat(E,"px)"),to:"translate(0, 0)",attributeName:"transform",begin:u,easing:f,isActive:l,duration:c},D.createElement(Qe,S,function(){return w>2&&!m?null:a.constructor.renderContentItem(r,kt(kt({},i),{},{isAnimationActive:l,isUpdateAnimationActive:!d,width:O,height:P,x:$,y:_}),h,g)}()))}):D.createElement(Qe,S,this.constructor.renderContentItem(r,kt(kt({},i),{},{isAnimationActive:!1,isUpdateAnimationActive:!1,width:y,height:v,x:b,y:x}),h,g))}},{key:"renderNode",value:function(r,i){var o=this,a=this.props,s=a.content,l=a.type,u=kt(kt(kt({},Se(this.props,!1)),i),{},{root:r}),c=!i.children||!i.children.length,f=this.state.currentRoot,d=(f.children||[]).filter(function(h){return h.depth===i.depth&&h.name===i.name});return!d.length&&r.depth&&l==="nest"?null:D.createElement(Qe,{key:"recharts-treemap-node-".concat(u.x,"-").concat(u.y,"-").concat(u.name),className:"recharts-treemap-depth-".concat(i.depth)},this.renderItem(s,u,c),i.children&&i.children.length?i.children.map(function(h){return o.renderNode(i,h)}):null)}},{key:"renderAllNodes",value:function(){var r=this.state.formatRoot;return r?this.renderNode(r,r):null}},{key:"renderTooltip",value:function(){var r=this.props,i=r.children,o=r.nameKey,a=_r(i,Bi);if(!a)return null;var s=this.props,l=s.width,u=s.height,c=this.state,f=c.isTooltipActive,d=c.activeNode,h={x:0,y:0,width:l,height:u},p=d?{x:d.x+d.width/2,y:d.y+d.height/2}:null,g=f&&d?[{payload:d,name:fr(d,o,""),value:fr(d,L1)}]:[];return D.cloneElement(a,{viewBox:h,active:f,coordinate:p,label:"",payload:g})}},{key:"renderNestIndex",value:function(){var r=this,i=this.props,o=i.nameKey,a=i.nestIndexContent,s=this.state.nestIndex;return D.createElement("div",{className:"recharts-treemap-nest-index-wrapper",style:{marginTop:"8px",textAlign:"center"}},s.map(function(l,u){var c=io(l,o,"root"),f=null;return D.isValidElement(a)&&(f=D.cloneElement(a,l,u)),Te(a)?f=a(l,u):f=c,D.createElement("div",{onClick:r.handleNestIndex.bind(r,l,u),key:"nest-index-".concat(Vm()),className:"recharts-treemap-nest-index-box",style:{cursor:"pointer",display:"inline-block",padding:"0 7px",background:"#000",color:"#fff",marginRight:"3px"}},f)}))}},{key:"render",value:function(){if(!OD(this))return null;var r=this.props,i=r.width,o=r.height,a=r.className,s=r.style,l=r.children,u=r.type,c=LSt(r,jSt),f=Se(c,!1);return D.createElement("div",{className:ke("recharts-wrapper",a),style:kt(kt({},s),{},{position:"relative",cursor:"default",width:i,height:o}),role:"region"},D.createElement(X2,R_({},f,{width:i,height:u==="nest"?o-30:o}),this.renderAllNodes(),ZZe(l)),this.renderTooltip(),u==="nest"&&this.renderNestIndex())}}],[{key:"getDerivedStateFromProps",value:function(r,i){if(r.data!==i.prevData||r.type!==i.prevType||r.width!==i.prevWidth||r.height!==i.prevHeight||r.dataKey!==i.prevDataKey||r.aspectRatio!==i.prevAspectRatio){var o=UT({depth:0,node:{children:r.data,x:0,y:0,width:r.width,height:r.height},index:0,valueKey:r.dataKey}),a=WT(o,r.aspectRatio);return kt(kt({},i),{},{formatRoot:a,currentRoot:o,nestIndex:[o],prevAspectRatio:r.aspectRatio,prevData:r.data,prevWidth:r.width,prevHeight:r.height,prevDataKey:r.dataKey,prevType:r.type})}return null}},{key:"renderContentItem",value:function(r,i,o,a){if(D.isValidElement(r))return D.cloneElement(r,i);if(Te(r))return r(i);var s=i.x,l=i.y,u=i.width,c=i.height,f=i.index,d=null;u>10&&c>10&&i.children&&o==="nest"&&(d=D.createElement(jz,{points:[{x:s+2,y:l+c/2},{x:s+6,y:l+c/2+3},{x:s+2,y:l+c/2+6}]}));var h=null,p=Tp(i.name);u>20&&c>20&&p.width<u&&p.height<c&&(h=D.createElement("text",{x:s+8,y:l+c/2+7,fontSize:14},i.name));var g=a||FSt;return D.createElement("g",null,D.createElement(kC,R_({fill:i.depth<2?g[f%g.length]:"rgba(255,255,255,0)",stroke:"#fff"},ISt(i,"children"),{role:"img"})),d,h)}}])}(T.PureComponent);ql(Vz,"displayName","Treemap");ql(Vz,"defaultProps",{aspectRatio:.5*(1+Math.sqrt(5)),dataKey:"value",type:"flat",isAnimationActive:!Io.isSsr,isUpdateAnimationActive:!Io.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"linear"});var eEt=ege({chartName:"RadarChart",GraphicalChild:ax,axisComponents:[{axisType:"angleAxis",AxisComp:ox},{axisType:"radiusAxis",AxisComp:ix}],formatAxisMap:udt,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const _f=[{name:"Jan",value:5e3},{name:"Feb",value:5400},{name:"Mar",value:5200},{name:"Apr",value:6100},{name:"May",value:6800},{name:"Jun",value:7400},{name:"Jul",value:7300}],tEt=["1D","1W","1M","3M","1Y","All"],nEt=()=>{const[e,t]=T.useState("1M"),n=_f[_f.length-1].value-_f[0].value,r=(n/_f[0].value*100).toFixed(2);return j.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-fade-in",children:[j.jsx("div",{className:"flex justify-between items-start mb-4",children:j.jsxs("div",{children:[j.jsx("h3",{className:"text-lg text-gray-500",children:"Portfolio Value"}),j.jsxs("p",{className:"text-3xl font-bold",children:["",_f[_f.length-1].value.toLocaleString()]}),j.jsxs("div",{className:`flex items-center mt-1 ${n>=0?"text-traderepublic-green":"text-traderepublic-red"}`,children:[j.jsxs("span",{className:"font-medium",children:[n>=0?"+":"",n.toLocaleString()," "]}),j.jsxs("span",{className:"ml-2",children:["(",n>=0?"+":"",r,"%)"]})]})]})}),j.jsx("div",{className:"h-64 mt-6",children:j.jsx(Rz,{width:"100%",height:"100%",children:j.jsxs(X1t,{data:_f,margin:{top:5,right:5,bottom:5,left:5},children:[j.jsx(zC,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#888",fontSize:12}}),j.jsx(BC,{hide:!0,domain:["dataMin - 500","dataMax + 500"]}),j.jsx(Bi,{contentStyle:{backgroundColor:"#1A1F2C",border:"none",borderRadius:"8px",padding:"10px"},itemStyle:{color:"#fff"},labelStyle:{color:"#9b87f5",fontWeight:"bold",marginBottom:"5px"},formatter:i=>[`${i}`,"Value"]}),j.jsx(lx,{type:"monotone",dataKey:"value",stroke:"#9b87f5",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#9b87f5"}})]})})}),j.jsx("div",{className:"flex justify-center mt-4 gap-2",children:tEt.map(i=>j.jsx(Nl,{variant:e===i?"default":"outline",className:`px-4 py-1 h-8 ${e===i?"bg-traderepublic-purple hover:bg-traderepublic-darkpurple":"text-gray-600 hover:text-traderepublic-purple"}`,onClick:()=>t(i),children:i},i))})]})},rEt=()=>{const[e,t]=T.useState([]);return T.useEffect(()=>{fetch("https://cdtm.onrender.com/api/transactions").then(n=>n.json()).then(n=>t(n)).catch(console.error)},[]),j.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-fade-in",children:[j.jsx("h3",{className:"text-lg text-gray-500 mb-4",children:"Recent Transactions"}),j.jsx("div",{className:"space-y-4",children:e.map((n,r)=>{var i;return j.jsxs("div",{className:"flex justify-between items-center p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[j.jsxs("div",{className:"flex items-center",children:[j.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n.side==="credit"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:((i=n.currency)==null?void 0:i[0])??"?"}),j.jsxs("div",{className:"ml-3",children:[j.jsx("div",{className:"font-medium",children:n.type}),j.jsx("div",{className:"text-xs text-gray-500",children:n.bookingDate})]})]}),j.jsxs("div",{className:"flex items-center",children:[j.jsxs("div",{className:`mr-3 text-right ${n.side==="debit"?"text-red-600":"text-green-600"}`,children:[n.side==="debit"?"-":"+","",parseFloat(n.amount).toFixed(2)]}),j.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${n.type==="purchase"?"bg-blue-100 text-blue-800":n.type==="refund"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:n.category??"Unknown"})]})]},r)})})]})},iEt=[{subject:"Food",A:120,B:110,fullMark:150},{subject:"Culture",A:98,B:130,fullMark:150},{subject:"Clothing",A:86,B:130,fullMark:150},{subject:"School",A:99,B:100,fullMark:150},{subject:"Housing",A:85,B:90,fullMark:150},{subject:"Plants",A:65,B:85,fullMark:150}];class oEt extends T.PureComponent{render(){const t=this.props.data||iEt;return j.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-fade-in",children:[j.jsx("div",{className:"flex justify-between items-start mb-4",children:j.jsxs("div",{children:[j.jsx("h3",{className:"text-lg text-gray-500",children:"Radar Chart"}),j.jsx("p",{className:"text-3xl font-bold"}),j.jsxs("div",{className:"flex items-center mt-1 text-traderepublic-green",children:[j.jsx("span",{className:"font-medium"}),j.jsx("span",{className:"ml-2"})]})]})}),j.jsx("div",{className:"h-64 mt-6",children:j.jsx(Rz,{width:"100%",height:"100%",children:j.jsxs(eEt,{cx:"50%",cy:"50%",outerRadius:"80%",data:t,children:[j.jsx(tpe,{}),j.jsx(ox,{dataKey:"subject"}),j.jsx(ix,{}),j.jsx(ax,{name:"Mike",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})})]})}}var qI="http://www.w3.org/1999/xhtml";const SK={svg:"http://www.w3.org/2000/svg",xhtml:qI,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function WC(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),SK.hasOwnProperty(t)?{space:SK[t],local:e}:e}function aEt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===qI&&t.documentElement.namespaceURI===qI?t.createElement(e):t.createElementNS(n,e)}}function sEt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function uge(e){var t=WC(e);return(t.local?sEt:aEt)(t)}function lEt(){}function Xz(e){return e==null?lEt:function(){return this.querySelector(e)}}function uEt(e){typeof e!="function"&&(e=Xz(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new co(r,this._parents)}function cEt(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function fEt(){return[]}function cge(e){return e==null?fEt:function(){return this.querySelectorAll(e)}}function dEt(e){return function(){return cEt(e.apply(this,arguments))}}function hEt(e){typeof e=="function"?e=dEt(e):e=cge(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),i.push(l));return new co(r,i)}function fge(e){return function(){return this.matches(e)}}function dge(e){return function(t){return t.matches(e)}}var pEt=Array.prototype.find;function gEt(e){return function(){return pEt.call(this.children,e)}}function mEt(){return this.firstElementChild}function yEt(e){return this.select(e==null?mEt:gEt(typeof e=="function"?e:dge(e)))}var vEt=Array.prototype.filter;function bEt(){return Array.from(this.children)}function xEt(e){return function(){return vEt.call(this.children,e)}}function wEt(e){return this.selectAll(e==null?bEt:xEt(typeof e=="function"?e:dge(e)))}function SEt(e){typeof e!="function"&&(e=fge(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new co(r,this._parents)}function hge(e){return new Array(e.length)}function EEt(){return new co(this._enter||this._groups.map(hge),this._parents)}function I_(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}I_.prototype={constructor:I_,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function _Et(e){return function(){return e}}function AEt(e,t,n,r,i,o){for(var a=0,s,l=t.length,u=o.length;a<u;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new I_(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function $Et(e,t,n,r,i,o,a){var s,l,u=new Map,c=t.length,f=o.length,d=new Array(c),h;for(s=0;s<c;++s)(l=t[s])&&(d[s]=h=a.call(l,l.__data__,s,t)+"",u.has(h)?i[s]=l:u.set(h,l));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(l=u.get(h))?(r[s]=l,l.__data__=o[s],u.delete(h)):n[s]=new I_(e,o[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(d[s])===l&&(i[s]=l)}function OEt(e){return e.__data__}function CEt(e,t){if(!arguments.length)return Array.from(this,OEt);var n=t?$Et:AEt,r=this._parents,i=this._groups;typeof e!="function"&&(e=_Et(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,h=kEt(e.call(c,c&&c.__data__,u,r)),p=h.length,g=s[u]=new Array(p),m=a[u]=new Array(p),y=l[u]=new Array(d);n(c,f,g,m,y,h,t);for(var v=0,b=0,x,w;v<p;++v)if(x=g[v]){for(v>=b&&(b=v+1);!(w=m[b])&&++b<p;);x._next=w||null}}return a=new co(a,r),a._enter=s,a._exit=l,a}function kEt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function PEt(){return new co(this._exit||this._groups.map(hge),this._parents)}function TEt(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function MEt(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,d=s[l]=new Array(f),h,p=0;p<f;++p)(h=u[p]||c[p])&&(d[p]=h);for(;l<i;++l)s[l]=n[l];return new co(s,this._parents)}function NEt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function REt(e){e||(e=DEt);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new co(i,this._parents).order()}function DEt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function IEt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function FEt(){return Array.from(this)}function jEt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function LEt(){let e=0;for(const t of this)++e;return e}function zEt(){return!this.node()}function BEt(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function UEt(e){return function(){this.removeAttribute(e)}}function WEt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qEt(e,t){return function(){this.setAttribute(e,t)}}function HEt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function GEt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function VEt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function XEt(e,t){var n=WC(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?WEt:UEt:typeof t=="function"?n.local?VEt:GEt:n.local?HEt:qEt)(n,t))}function pge(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function KEt(e){return function(){this.style.removeProperty(e)}}function YEt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function QEt(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function JEt(e,t,n){return arguments.length>1?this.each((t==null?KEt:typeof t=="function"?QEt:YEt)(e,t,n??"")):om(this.node(),e)}function om(e,t){return e.style.getPropertyValue(t)||pge(e).getComputedStyle(e,null).getPropertyValue(t)}function ZEt(e){return function(){delete this[e]}}function e2t(e,t){return function(){this[e]=t}}function t2t(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function n2t(e,t){return arguments.length>1?this.each((t==null?ZEt:typeof t=="function"?t2t:e2t)(e,t)):this.node()[e]}function gge(e){return e.trim().split(/^|\s+/)}function Kz(e){return e.classList||new mge(e)}function mge(e){this._node=e,this._names=gge(e.getAttribute("class")||"")}mge.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function yge(e,t){for(var n=Kz(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function vge(e,t){for(var n=Kz(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function r2t(e){return function(){yge(this,e)}}function i2t(e){return function(){vge(this,e)}}function o2t(e,t){return function(){(t.apply(this,arguments)?yge:vge)(this,e)}}function a2t(e,t){var n=gge(e+"");if(arguments.length<2){for(var r=Kz(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?o2t:t?r2t:i2t)(n,t))}function s2t(){this.textContent=""}function l2t(e){return function(){this.textContent=e}}function u2t(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function c2t(e){return arguments.length?this.each(e==null?s2t:(typeof e=="function"?u2t:l2t)(e)):this.node().textContent}function f2t(){this.innerHTML=""}function d2t(e){return function(){this.innerHTML=e}}function h2t(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function p2t(e){return arguments.length?this.each(e==null?f2t:(typeof e=="function"?h2t:d2t)(e)):this.node().innerHTML}function g2t(){this.nextSibling&&this.parentNode.appendChild(this)}function m2t(){return this.each(g2t)}function y2t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function v2t(){return this.each(y2t)}function b2t(e){var t=typeof e=="function"?e:uge(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function x2t(){return null}function w2t(e,t){var n=typeof e=="function"?e:uge(e),r=t==null?x2t:typeof t=="function"?t:Xz(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function S2t(){var e=this.parentNode;e&&e.removeChild(this)}function E2t(){return this.each(S2t)}function _2t(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function A2t(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $2t(e){return this.select(e?A2t:_2t)}function O2t(e){return arguments.length?this.property("__data__",e):this.node().__data__}function C2t(e){return function(t){e.call(this,t,this.__data__)}}function k2t(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function P2t(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function T2t(e,t,n){return function(){var r=this.__on,i,o=C2t(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function M2t(e,t,n){var r=k2t(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?T2t:P2t,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function bge(e,t,n){var r=pge(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function N2t(e,t){return function(){return bge(this,e,t)}}function R2t(e,t){return function(){return bge(this,e,t.apply(this,arguments))}}function D2t(e,t){return this.each((typeof t=="function"?R2t:N2t)(e,t))}function*I2t(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var xge=[null];function co(e,t){this._groups=e,this._parents=t}function cx(){return new co([[document.documentElement]],xge)}function F2t(){return this}co.prototype=cx.prototype={constructor:co,select:uEt,selectAll:hEt,selectChild:yEt,selectChildren:wEt,filter:SEt,data:CEt,enter:EEt,exit:PEt,join:TEt,merge:MEt,selection:F2t,order:NEt,sort:REt,call:IEt,nodes:FEt,node:jEt,size:LEt,empty:zEt,each:BEt,attr:XEt,style:JEt,property:n2t,classed:a2t,text:c2t,html:p2t,raise:m2t,lower:v2t,append:b2t,insert:w2t,remove:E2t,clone:$2t,datum:O2t,on:M2t,dispatch:D2t,[Symbol.iterator]:I2t};function qT(e){return typeof e=="string"?new co([[document.querySelector(e)]],[document.documentElement]):new co([[e]],xge)}var j2t=gL("start","end","cancel","interrupt"),L2t=[],wge=0,EK=1,HI=2,PS=3,_K=4,GI=5,TS=6;function qC(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;z2t(e,n,{name:t,index:r,group:i,on:j2t,tween:L2t,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:wge})}function Yz(e,t){var n=Ya(e,t);if(n.state>wge)throw new Error("too late; already scheduled");return n}function rl(e,t){var n=Ya(e,t);if(n.state>PS)throw new Error("too late; already running");return n}function Ya(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function z2t(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=mL(o,0,n.time);function o(u){n.state=EK,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,d,h;if(n.state!==EK)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===PS)return wU(a);h.state===_K?(h.state=TS,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=TS,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(wU(function(){n.state===PS&&(n.state=_K,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=HI,n.on.call("start",e,e.__data__,n.index,n.group),n.state===HI){for(n.state=PS,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=GI,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===GI&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=TS,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function B2t(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>HI&&r.state<GI,r.state=TS,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function U2t(e){return this.each(function(){B2t(this,e)})}function W2t(e,t){var n,r;return function(){var i=rl(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function q2t(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=rl(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function H2t(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ya(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?W2t:q2t)(n,e,t))}function Qz(e,t,n){var r=e._id;return e.each(function(){var i=rl(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ya(i,r).value[t]}}function Sge(e,t){var n;return(typeof t=="number"?Eo:t instanceof bd?Tv:(n=bd(t))?(t=n,Tv):I5)(e,t)}function G2t(e){return function(){this.removeAttribute(e)}}function V2t(e){return function(){this.removeAttributeNS(e.space,e.local)}}function X2t(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function K2t(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function Y2t(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function Q2t(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function J2t(e,t){var n=WC(e),r=n==="transform"?Hne:Sge;return this.attrTween(e,typeof t=="function"?(n.local?Q2t:Y2t)(n,r,Qz(this,"attr."+e,t)):t==null?(n.local?V2t:G2t)(n):(n.local?K2t:X2t)(n,r,t))}function Z2t(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function e_t(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function t_t(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&e_t(e,o)),n}return i._value=t,i}function n_t(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Z2t(e,o)),n}return i._value=t,i}function r_t(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=WC(e);return this.tween(n,(r.local?t_t:n_t)(r,t))}function i_t(e,t){return function(){Yz(this,e).delay=+t.apply(this,arguments)}}function o_t(e,t){return t=+t,function(){Yz(this,e).delay=t}}function a_t(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?i_t:o_t)(t,e)):Ya(this.node(),t).delay}function s_t(e,t){return function(){rl(this,e).duration=+t.apply(this,arguments)}}function l_t(e,t){return t=+t,function(){rl(this,e).duration=t}}function u_t(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?s_t:l_t)(t,e)):Ya(this.node(),t).duration}function c_t(e,t){if(typeof t!="function")throw new Error;return function(){rl(this,e).ease=t}}function f_t(e){var t=this._id;return arguments.length?this.each(c_t(t,e)):Ya(this.node(),t).ease}function d_t(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;rl(this,e).ease=n}}function h_t(e){if(typeof e!="function")throw new Error;return this.each(d_t(this._id,e))}function p_t(e){typeof e!="function"&&(e=fge(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new su(r,this._parents,this._name,this._id)}function g_t(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=t[s],u=n[s],c=l.length,f=a[s]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=t[s];return new su(a,this._parents,this._name,this._id)}function m_t(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function y_t(e,t,n){var r,i,o=m_t(t)?Yz:rl;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function v_t(e,t){var n=this._id;return arguments.length<2?Ya(this.node(),n).on.on(e):this.each(y_t(n,e,t))}function b_t(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function x_t(){return this.on("end.remove",b_t(this._id))}function w_t(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Xz(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,f,d=0;d<l;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,qC(u[d],t,n,d,u,Ya(c,n)));return new su(o,this._parents,t,n)}function S_t(e){var t=this._name,n=this._id;typeof e!="function"&&(e=cge(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,p=Ya(c,n),g=0,m=d.length;g<m;++g)(h=d[g])&&qC(h,t,n,g,d,p);o.push(d),a.push(c)}return new su(o,a,t,n)}var E_t=cx.prototype.constructor;function __t(){return new E_t(this._groups,this._parents)}function A_t(e,t){var n,r,i;return function(){var o=om(this,e),a=(this.style.removeProperty(e),om(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function Ege(e){return function(){this.style.removeProperty(e)}}function $_t(e,t,n){var r,i=n+"",o;return function(){var a=om(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function O_t(e,t,n){var r,i,o;return function(){var a=om(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),om(this,e))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}function C_t(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var l=rl(this,e),u=l.on,c=l.value[o]==null?s||(s=Ege(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function k_t(e,t,n){var r=(e+="")=="transform"?qne:Sge;return t==null?this.styleTween(e,A_t(e,r)).on("end.style."+e,Ege(e)):typeof t=="function"?this.styleTween(e,O_t(e,r,Qz(this,"style."+e,t))).each(C_t(this._id,e)):this.styleTween(e,$_t(e,r,t),n).on("end.style."+e,null)}function P_t(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function T_t(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&P_t(e,a,n)),r}return o._value=t,o}function M_t(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,T_t(e,t,n??""))}function N_t(e){return function(){this.textContent=e}}function R_t(e){return function(){var t=e(this);this.textContent=t??""}}function D_t(e){return this.tween("text",typeof e=="function"?R_t(Qz(this,"text",e)):N_t(e==null?"":e+""))}function I_t(e){return function(t){this.textContent=e.call(this,t)}}function F_t(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&I_t(i)),t}return r._value=e,r}function j_t(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,F_t(e))}function L_t(){for(var e=this._name,t=this._id,n=_ge(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=Ya(l,t);qC(l,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new su(r,this._parents,e,n)}function z_t(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=rl(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&o()})}var B_t=0;function su(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function _ge(){return++B_t}var dl=cx.prototype;su.prototype={constructor:su,select:w_t,selectAll:S_t,selectChild:dl.selectChild,selectChildren:dl.selectChildren,filter:p_t,merge:g_t,selection:__t,transition:L_t,call:dl.call,nodes:dl.nodes,node:dl.node,size:dl.size,empty:dl.empty,each:dl.each,on:v_t,attr:J2t,attrTween:r_t,style:k_t,styleTween:M_t,text:D_t,textTween:j_t,remove:x_t,tween:H2t,delay:a_t,duration:u_t,ease:f_t,easeVarying:h_t,end:z_t,[Symbol.iterator]:dl[Symbol.iterator]};function U_t(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var W_t={time:null,delay:0,duration:250,ease:U_t};function q_t(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function H_t(e){var t,n;e instanceof su?(t=e._id,e=e._name):(t=_ge(),(n=W_t).time=u$(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&qC(l,e,t,u,a,n||q_t(l,t));return new su(r,this._parents,e,t)}cx.prototype.interrupt=U2t;cx.prototype.transition=H_t;function x0(e,t,n){this.k=e,this.x=t,this.y=n}x0.prototype={constructor:x0,scale:function(e){return e===1?this:new x0(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new x0(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};x0.prototype;const G_t={id:"a0",type:"node",name:"APRIL 25",value:234,color:"#F8C12D",children:[{type:"node",name:"Food",id:"a1",value:102,color:"#9597E4",children:[{type:"leaf",name:"Restaurants",value:90,id:"a2",color:"#8DC77B"},{type:"leaf",name:"Groceries",value:12,id:"a3",color:"#8DC77B"}]},{type:"node",name:"Culture",value:166,id:"a4",color:"#9597E4",children:[{type:"leaf",name:"Museum",value:98,id:"a5",color:"#E2CF45"},{type:"leaf",name:"Concert",value:34,id:"a6",color:"#E2CF45"},{type:"leaf",name:"Opera",value:22,id:"a7",color:"#E2CF45"},{type:"leaf",name:"Football Game",value:12,id:"a8",color:"#E2CF45"}]},{type:"node",name:"Plants",value:0,id:"a9",color:"#9597E4",children:[]}]},Dh={top:35,right:10,bottom:10,left:35},V_t=({width:e=450,height:t=550,data:n=G_t})=>{const r=e-Dh.right-Dh.left,i=t-Dh.top-Dh.bottom,o=T.useMemo(()=>c$(n).sum(h=>h.value),[n]);var a=qT("#div_template").style("opacity",0).attr("class","tooltip").style("background-color","#f3f3f3").style("border","solid").style("border-color","#d2d2d2").style("border-width","1px").style("border-radius","5px").style("padding","20px"),s=function(h,p){a.html(h.data.name+" : "+h.data.value+" $").style("opacity",1).style("position","absolute").style("left",h.y+"px").style("top",h.x+"px"),qT("#"+h.data.id).style("stroke","grey").style("opacity",1)},l=function(h,p){a.style("opacity",0),qT("#"+h.data.id).style("stroke","none")};const u=T.useMemo(()=>oae().size([i,r])(o),[o,e,t]),c=u.descendants().map(h=>j.jsxs("g",{children:[j.jsx("circle",{id:h.data.id,cx:h.y,cy:h.x,r:16,stroke:"none",fill:h.data.color,opacity:1,onMouseOver:p=>s(h),onMouseLeave:p=>l(h)}),j.jsx("text",{x:h.y+15,y:h.x+15,fontFamily:"ui-sans-serif system-ui -apple-system BlinkMacSystemFont 'Segoe UI' Roboto 'Helvetica Neue' Arial sans-serif 'Apple Color Emoji' 'Segoe UI Emoji' 'Segoe UI Symbol'",fontSize:16,fontWeight:500,textAnchor:"left",alignmentBaseline:"hanging",fill:"test",children:h.data.name})]},h.data.id)),f=Y_e(),d=u.descendants().map(h=>{if(h.parent)return j.jsxs("g",{children:[j.jsx("path",{fill:"none",stroke:"grey",d:f({source:[h.parent.y,h.parent.x],target:[h.y,h.x]})},h.id),j.jsxs("text",{x:(h.parent.y+h.y)/2,y:(h.parent.x+h.x)/2-10,fontSize:12,textAnchor:"middle",alignmentBaseline:"middle",fill:"grey",children:[h.data.value,"$"]})]},h.data.id)});return j.jsxs("div",{className:"mb-4 items-center",children:[j.jsx("h3",{className:"text-lg text-gray-500",children:"Dendogram Chart"}),j.jsx("svg",{className:"w-full p-15",height:t,children:j.jsxs("g",{transform:`translate(${[Dh.left,Dh.top].join(",")})`,children:[d,c]})}),j.jsx("span",{id:"div_template"})]})},X_t=[{name:"axis",children:[{name:"Axes",size:1302},{name:"Axis",size:24593},{name:"AxisGridLine",size:652},{name:"AxisLabel",size:636},{name:"CartesianAxes",size:6703}]},{name:"controls",children:[{name:"AnchorControl",size:2138},{name:"ClickControl",size:3824},{name:"Control",size:1353},{name:"ControlList",size:4665},{name:"DragControl",size:2649},{name:"ExpandControl",size:2832},{name:"HoverControl",size:4896},{name:"IControl",size:763},{name:"PanZoomControl",size:5222},{name:"SelectionControl",size:7862},{name:"TooltipControl",size:8435}]},{name:"data",children:[{name:"Data",size:20544},{name:"DataList",size:19788},{name:"DataSprite",size:10349},{name:"EdgeSprite",size:3301},{name:"NodeSprite",size:19382},{name:"render",children:[{name:"ArrowType",size:698},{name:"EdgeRenderer",size:5569},{name:"IRenderer",size:353},{name:"ShapeRenderer",size:2247}]},{name:"ScaleBinding",size:11275},{name:"Tree",size:7147},{name:"TreeBuilder",size:9930}]},{name:"events",children:[{name:"DataEvent",size:7313},{name:"SelectionEvent",size:6880},{name:"TooltipEvent",size:3701},{name:"VisualizationEvent",size:2117}]},{name:"legend",children:[{name:"Legend",size:20859},{name:"LegendItem",size:4614},{name:"LegendRange",size:10530}]},{name:"operator",children:[{name:"distortion",children:[{name:"BifocalDistortion",size:4461},{name:"Distortion",size:6314},{name:"FisheyeDistortion",size:3444}]},{name:"encoder",children:[{name:"ColorEncoder",size:3179},{name:"Encoder",size:4060},{name:"PropertyEncoder",size:4138},{name:"ShapeEncoder",size:1690},{name:"SizeEncoder",size:1830}]},{name:"filter",children:[{name:"FisheyeTreeFilter",size:5219},{name:"GraphDistanceFilter",size:3165},{name:"VisibilityFilter",size:3509}]},{name:"IOperator",size:1286},{name:"label",children:[{name:"Labeler",size:9956},{name:"RadialLabeler",size:3899},{name:"StackedAreaLabeler",size:3202}]},{name:"layout",children:[{name:"AxisLayout",size:6725},{name:"BundledEdgeRouter",size:3727},{name:"CircleLayout",size:9317},{name:"CirclePackingLayout",size:12003},{name:"DendrogramLayout",size:4853},{name:"ForceDirectedLayout",size:8411},{name:"IcicleTreeLayout",size:4864},{name:"IndentedTreeLayout",size:3174},{name:"Layout",size:7881},{name:"NodeLinkTreeLayout",size:12870},{name:"PieLayout",size:2728},{name:"RadialTreeLayout",size:12348},{name:"RandomLayout",size:870},{name:"StackedAreaLayout",size:9121},{name:"TreeMapLayout",size:9191}]},{name:"Operator",size:2490},{name:"OperatorList",size:5248},{name:"OperatorSequence",size:4190},{name:"OperatorSwitch",size:2581},{name:"SortOperator",size:2023}]}],K_t=["#8889DD","#9597E4","#8DC77B","#A5D297","#E2CF45","#F8C12D","#3C3E3F","#a451e3","#f8c12d","#3c3e3f","#8889dd","#9597e4","#8dc77b","#a5d297","#e2cf45","#f8c12d"];class Y_t extends T.PureComponent{render(){const{root:t,depth:n,x:r,y:i,width:o,height:a,index:s,payload:l,color:u,rank:c,name:f,size:d}=this.props;return j.jsxs("g",{children:[j.jsx("rect",{x:r,y:i,width:o,height:a,style:{fill:n<2?K_t[Math.floor(s/t.children.length*6)]:u,stroke:"#fff",strokeWidth:2/(n+1e-10),strokeOpacity:1/(n+1e-10)}}),n!==1?j.jsxs("text",{x:r+o/2,y:i+a/2+7,textAnchor:"middle",fill:"#fff",fontSize:14,children:[f,": ",d,"$"]}):null,n===1?j.jsx("text",{x:r+4,y:i+18,fill:"#fff",fontSize:16,fillOpacity:.9,children:s+1}):null]})}}class Q_t extends T.PureComponent{render(){const t=this.props.data||X_t;return console.log("TreeMap data",t),j.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-fade-in",children:[j.jsx("div",{className:"flex justify-between items-start mb-4",children:j.jsxs("div",{children:[j.jsx("h3",{className:"text-lg text-gray-500",children:"TreeMap Chart"}),j.jsx("p",{className:"text-3xl font-bold"}),j.jsxs("div",{className:"flex items-center mt-1 text-traderepublic-green",children:[j.jsx("span",{className:"font-medium"}),j.jsx("span",{className:"ml-2"})]})]})}),j.jsx("div",{className:"h-64 mt-6",children:j.jsx(Rz,{width:"100%",height:"100%",children:j.jsx(Vz,{width:400,height:400,data:t,dataKey:"size",fill:"transparent",stroke:"#fff",content:j.jsx(Y_t,{depth:2})})})})]})}}const J_t=[{query:"Give me an overview of my spendings on food this month.",data:[{subject:"Fastfood",A:120,B:110,fullMark:150},{subject:"Groceries",A:200,B:180,fullMark:250},{subject:"Restaurants",A:80,B:70,fullMark:100},{subject:"Snacks",A:50,B:40,fullMark:60},{subject:"Beverages",A:30,B:25,fullMark:40}]},{query:"What are my top spendings this month?",data:[{subject:"Rent",A:1200,B:1150,fullMark:1300},{subject:"Utilities",A:200,B:180,fullMark:250},{subject:"Groceries",A:300,B:280,fullMark:350},{subject:"Transportation",A:150,B:140,fullMark:200},{subject:"Entertainment",A:100,B:90,fullMark:120}]},{query:"How much did I spend on plants and gardening?",data:[{subject:"Plants",A:50,B:45,fullMark:60},{subject:"Gardening Supplies",A:30,B:25,fullMark:40},{subject:"Outdoor Furniture",A:100,B:90,fullMark:120}]}],Z_t=[{query:"Give me an overview of my spendings on food this month.",data:[{name:"Fastfood",color:"#F8C12D",children:[{name:"BurgerKing",size:30},{name:"McDonalds",size:93},{name:"KFC",size:0},{name:"Subway",size:36},{name:"Dominos",size:23}]},{name:"Groceries",color:"#9597E4",children:[{name:"Aldi",size:302},{name:"Lidl",size:93},{name:"Rewe",size:5},{name:"Edeka",size:10},{name:"Netto",size:13}]},{name:"Restaurants",color:"#8DC77B",children:[{name:"Vapiano",size:12},{name:"Hans im Glueck",size:93},{name:"L'Osteria",size:52},{name:"Peter Pane",size:36},{name:"Block House",size:13}]},{name:"Snacks",color:"#A5D297",children:[{name:"Nuts",size:2},{name:"Chips",size:9},{name:"Chocolate",size:5},{name:"Gummibears",size:6},{name:"Ice Cream",size:7}]},{name:"Beverages",color:"#E2CF45",children:[{name:"Starbucks",size:12},{name:"Ditsch",size:93},{name:"Kaffeekommune",size:2},{name:"Kaffeekultur",size:6}]}]},{query:"What are my top spendings this month?",data:[{name:"Rent",color:"#F8C12D",children:[{name:"Apartment",size:1200},{name:"House",size:1500}]},{name:"Utilities",color:"#9597E4",children:[{name:"Electricity",size:200},{name:"Water",size:50},{name:"Internet",size:30}]},{name:"Groceries",color:"#8DC77B",children:[{name:"Aldi",size:300},{name:"Lidl",size:200}]},{name:"Transportation",color:"#A5D297",children:[{name:"Public Transport",size:50},{name:"Gasoline",size:100}]}]},{query:"How much did I spend on plants and gardening?",data:[{name:"Indoor Plants",color:"#F8C12D",children:[{name:"Cactus",size:50},{name:"Fern",size:30}]},{name:"Outdoor Plants",color:"#9597E4",children:[{name:"Rose",size:200},{name:"Tulip",size:100}]},{name:"Gardening Tools",color:"#8DC77B",children:[{name:"Shovel",size:20},{name:"Rake",size:10}]}]}],eAt=[{query:"Give me an overview of my spendings on food this month.",data:{id:"abcd",type:"node",name:"Food spendings",value:345,color:"#F8C12D",children:[{type:"node",name:"Fastfood",id:"a1",value:120,color:"#9597E4",children:[{type:"leaf",name:"McDonald's",value:90,id:"a2",color:"#8DC77B"},{type:"leaf",name:"Burger King",value:30,id:"a3",color:"#8DC77B"}]},{type:"node",name:"Groceries",value:200,id:"a4",color:"#9597E4",children:[{type:"leaf",name:"Supermarket",value:150,id:"a5",color:"#E2CF45"},{type:"leaf",name:"Local Market",value:50,id:"a6",color:"#E2CF45"}]},{type:"node",name:"Restaurants",value:80,id:"a7",color:"#9597E4",children:[{type:"leaf",name:"Italian",value:50,id:"a8",color:"#E2CF45"},{type:"leaf",name:"Chinese",value:30,id:"a9",color:"#E2CF45"}]},{type:"node",name:"Snacks",value:50,id:"a10",color:"#9597E4",children:[{type:"leaf",name:"Chips",value:20,id:"a11",color:"#A58912"},{type:"leaf",name:"Candy",value:30,id:"a12",color:"#A58912"}]},{type:"node",name:"Beverages",value:30,id:"a13",color:"#9597E4",children:[{type:"leaf",name:"Soda",value:15,id:"a14",color:"#ab3bb3"},{type:"leaf",name:"Juice",value:15,id:"a15",color:"#ab3bb3"}]}]}},{query:"What are my top spendings this month?",data:{id:"abcd",type:"node",name:"Top Spendings",value:345,color:"#F8C12D",children:[{type:"leaf",name:"Rent",value:1200,id:"a1",color:"#9597E4"},{type:"leaf",name:"Groceries",value:200,id:"a2",color:"#8DC77B"},{type:"leaf",name:"Utilities",value:150,id:"a3",color:"#E2CF45"},{type:"leaf",name:"Transportation",value:100,id:"a4",color:"#EE8h76"},{type:"leaf",name:"Entertainment",value:80,id:"a5",color:"#09d845"},{type:"leaf",name:"Dining Out",value:50,id:"a6",color:"#121212"},{type:"leaf",name:"Shopping",value:200,id:"a7",color:"#E45J99"},{type:"leaf",name:"Health & Fitness",value:70,id:"a8",color:"#E0K812"},{type:"leaf",name:"Miscellaneous",value:30,id:"a9",color:"#F8C12D"}]}},{query:"How much did I spend on plants and gardening?",data:{id:"abcd",type:"node",name:"Plants & Gardening",value:345,color:"#F8C12D",children:[{type:"leaf",name:"Indoor Plants",value:120,id:"a1",color:"#9597E4"},{type:"leaf",name:"Outdoor Plants",value:200,id:"a2",color:"#8DC77B"},{type:"leaf",name:"Gardening Tools",value:50,id:"a3",color:"#E2CF45"}]}}],tAt=()=>{const[e,t]=T.useState(""),[n,r]=T.useState([j.jsx(Mh,{children:j.jsx(nEt,{})}),j.jsx(Mh,{children:j.jsx(rEt,{})})]),i=["Give me an overview of my spendings on food this month.","What are my top spendings this month?","How much did I spend on plants and gardening?"],o=s=>{if(s.preventDefault(),i.includes(e)){const l=J_t.find(p=>p.query===e),u=l==null?void 0:l.data,c=Z_t.find(p=>p.query===e),f=c==null?void 0:c.data,d=eAt.find(p=>p.query===e),h=d==null?void 0:d.data;r(p=>[...p,j.jsx(Mh,{colSpan:"col-span-2",children:j.jsx(Q_t,{data:f})}),j.jsx(Mh,{children:j.jsx(oEt,{data:u})}),j.jsx(Mh,{children:j.jsx(V_t,{data:h})})])}else r(l=>[...l,j.jsx(Mh,{prompt:e})]);t(()=>""),t(()=>"")},a=n.map(s=>s);return j.jsxs("div",{className:"min-h-screen bg-traderepublic-gray flex flex-col",children:[j.jsx(hwe,{}),j.jsx("main",{className:"flex-grow p-6",children:j.jsxs("div",{className:"max-w-7xl mx-auto",children:[j.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[j.jsxs("div",{children:[j.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-traderepublic-darkpurple",children:"Dashboard"}),j.jsx("p",{className:"text-gray-500",children:"Welcome back, John"})]}),j.jsxs("div",{className:"flex mt-4 md:mt-0 space-x-2",children:[j.jsx(Nl,{variant:"outline",size:"icon",className:"h-10 w-10 border-gray-200",children:j.jsx(nve,{className:"h-5 w-5 text-gray-500"})}),j.jsxs(Nl,{className:"bg-traderepublic-purple hover:bg-traderepublic-darkpurple",children:[j.jsx(rve,{className:"h-4 w-4 mr-2"}),"Investment Report"]})]})]}),j.jsx("form",{onSubmit:o,className:"mb-6",children:j.jsxs("div",{className:"flex gap-2",children:[j.jsx(AZ,{placeholder:"Enter a prompt to generate visualization (e.g., 'Show my spending by category')",value:e,onChange:s=>t(s.target.value),className:"flex-grow border-gray-200 focus:border-traderepublic-purple"}),j.jsx(Nl,{type:"submit",className:"bg-traderepublic-purple hover:bg-traderepublic-darkpurple",disabled:!e.trim(),children:"Generate"})]})}),j.jsx("div",{children:j.jsx("div",{className:`mb-6 grid gap-4 ${a.length!==1?"grid-cols-2":"grid-cols-1"}`,children:a.map((s,l)=>j.jsx(D.Fragment,{children:s},l))})})]})}),j.jsx("footer",{className:"bg-white py-6 border-t border-gray-200",children:j.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center",children:[j.jsxs("div",{className:"mb-4 md:mb-0",children:[j.jsxs("h2",{className:"text-xl font-bold text-traderepublic-darkpurple",children:[j.jsx("span",{className:"text-traderepublic-purple",children:"Trade"}),"Finance"]}),j.jsx("p",{className:"text-sm text-gray-500",children:" 2025 TradeFinance. All rights reserved."})]}),j.jsxs("div",{className:"flex space-x-6",children:[j.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-traderepublic-purple",children:"Privacy Policy"}),j.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-traderepublic-purple",children:"Terms of Service"}),j.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-traderepublic-purple",children:"Contact"})]})]})})]})},nAt=()=>{const e=Y1();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),j.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:j.jsxs("div",{className:"text-center",children:[j.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),j.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),j.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},rAt=new cxe,iAt=()=>j.jsx(dxe,{client:rAt,children:j.jsxs(Bbe,{children:[j.jsx(Lve,{}),j.jsx(p1e,{}),j.jsx(lwe,{children:j.jsxs(twe,{children:[j.jsx(ZM,{path:"/",element:j.jsx(tAt,{})}),j.jsx(ZM,{path:"*",element:j.jsx(nAt,{})})]})})]})});VQ(document.getElementById("root")).render(j.jsx(iAt,{}));
